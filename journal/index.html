<!DOCTYPE html>
<html lang="en" style="height: 100%;">
<head>
    <meta charset="UTF-8"><base href="/fpm-dev-en/">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <title>FPM-DEV</title>

    <script type="ftd" id="ftd-data-message">
        {
  "@default@0,0,0,0": {
    "value": "Never Synced",
    "dependencies": {}
  },
  "@key@0,0,0,0": {
    "value": "Last modified on:",
    "dependencies": {
      "0,0,0,0,0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@show-menu@0,0,1": {
    "value": "false",
    "dependencies": {
      "0,0,1,2,0": "[{\"dependency_type\":\"Visible\",\"condition\":\"true\",\"parameters\":{}}]"
    }
  },
  "fpm#device": {
    "value": "mobile",
    "dependencies": {}
  },
  "fpm#document-id": {
    "value": "journal.ftd",
    "dependencies": {}
  },
  "fpm#home-url": {
    "value": "//fpm-dev.vercel.app",
    "dependencies": {}
  },
  "fpm#package-name": {
    "value": "fpm-dev.vercel.app",
    "dependencies": {}
  },
  "fpm#title": {
    "value": "fpm-dev.vercel.app",
    "dependencies": {}
  },
  "fpm#translation-status-url": {
    "value": "//fpm-dev.vercel.app/FPM/translation-status",
    "dependencies": {}
  },
  "fpm-ui#current-language": {
    "value": "Current language:",
    "dependencies": {
      "0,0,1,1,0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "fpm-ui#document": {
    "value": "Document",
    "dependencies": {}
  },
  "fpm-ui#language": {
    "value": "Language:",
    "dependencies": {}
  },
  "fpm-ui#language-detail-page": {
    "value": "Language Detail Page",
    "dependencies": {}
  },
  "fpm-ui#language-detail-page-body": {
    "value": "Here is the list of the translation status for all the files.",
    "dependencies": {}
  },
  "fpm-ui#last-modified-on": {
    "value": "Last modified on:",
    "dependencies": {}
  },
  "fpm-ui#missing": {
    "value": "Missing",
    "dependencies": {}
  },
  "fpm-ui#never-marked": {
    "value": "Never Marked",
    "dependencies": {}
  },
  "fpm-ui#never-synced": {
    "value": "Never Synced",
    "dependencies": {}
  },
  "fpm-ui#other-available-languages": {
    "value": "Other available languages:",
    "dependencies": {}
  },
  "fpm-ui#out-dated": {
    "value": "Out-dated",
    "dependencies": {}
  },
  "fpm-ui#out-dated-body": {
    "value": "The ‚Å®English‚Å© document was last modified on ‚Å®2022-01-02T13:10:39.370457+00:00‚Å©. Since then, the ‚Å®English‚Å© version has the following changes.",
    "dependencies": {}
  },
  "fpm-ui#out-dated-heading": {
    "value": "This document is out dated.",
    "dependencies": {}
  },
  "fpm-ui#show-latest-version": {
    "value": "Show latest version",
    "dependencies": {}
  },
  "fpm-ui#show-outdated-version": {
    "value": "Show outdated version",
    "dependencies": {}
  },
  "fpm-ui#show-translation-status": {
    "value": "Show translation status",
    "dependencies": {
      "0,0,0,1": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "fpm-ui#show-unapproved-version": {
    "value": "Show unapproved version",
    "dependencies": {}
  },
  "fpm-ui#status": {
    "value": "Status",
    "dependencies": {}
  },
  "fpm-ui#total-number-of-documents": {
    "value": "Total number of documents:",
    "dependencies": {}
  },
  "fpm-ui#translation-not-available": {
    "value": "This document is not yet translated to ‚Å®English‚Å©. You are seeing ‚Å®English‚Å© version.",
    "dependencies": {}
  },
  "fpm-ui#unapproved-heading": {
    "value": "The translation of this document is not yet approved.",
    "dependencies": {}
  },
  "fpm-ui#upto-date": {
    "value": "Upto-date",
    "dependencies": {}
  },
  "fpm-ui#welcome-fpm-page": {
    "value": "Welcome to the FPM Package Page",
    "dependencies": {}
  },
  "fpm-ui#welcome-fpm-page-subtitle": {
    "value": "Here you find everything that you want to know about this package.",
    "dependencies": {}
  }
}
    </script>
    <script type="ftd" id="ftd-external-children-message">
        {}
    </script>
    <script type="ftd" id="ftd-data-main">
        {
  "@align@0,130": {
    "value": "center",
    "dependencies": {}
  },
  "@body@0,10": {
    "value": "So this page was translated someday, but the message is saying that is now not\nup-to date with original, English version. She has used the excellent [Project\nFluent](https://projectfluent.org) by Mozilla to translate the UI messages as well.\nYou can see the the Rust code in\n[`src/i18n`](https://github.com/FifthTry/fpm/tree/main/src/i18n) and translation\nfiles in [`i18n`](https://github.com/FifthTry/fpm/tree/main/i18n) folders. The\ntranslation itself needs a lot of improvements, please send PR if you find some\nway you can improve the messaging üòÖ.\n\nIf you click on the banner you see more information about what is wrong, why is\nthis document out of date, as in how much out of date it is, slight typo in\noriginal, or major re-write. Based on this knowledge reader can decide to stick\nwith translation or read the original.",
    "dependencies": {}
  },
  "@body@0,10,2": {
    "value": "So this page was translated someday, but the message is saying that is now not\nup-to date with original, English version. She has used the excellent [Project\nFluent](https://projectfluent.org) by Mozilla to translate the UI messages as well.\nYou can see the the Rust code in\n[`src/i18n`](https://github.com/FifthTry/fpm/tree/main/src/i18n) and translation\nfiles in [`i18n`](https://github.com/FifthTry/fpm/tree/main/i18n) folders. The\ntranslation itself needs a lot of improvements, please send PR if you find some\nway you can improve the messaging üòÖ.\n\nIf you click on the banner you see more information about what is wrong, why is\nthis document out of date, as in how much out of date it is, slight typo in\noriginal, or major re-write. Based on this knowledge reader can decide to stick\nwith translation or read the original.",
    "dependencies": {
      "0,0,0,9,3,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,100": {
    "value": "We only create `fpm::Config` after verifying the package is proper (it may not\nhave all the valid ftd files etc, but its FPM.ftd exists and is valid, and its\ndependencies have been checked).\n\nWe generally want to make as many such guarantee, if there is ever a\n`constructor() -> Result<X>`, since `constructor()` is clearly saying its a\n`Result<>` meaning it could have failed, then rest of the code must be able to\nassume that if it was possible to check validity of `X` it must have been checked\nby `constructor()` and they can blindly trust the output of `constructor()`. The\nonly exception to this is \"expensive check scenarios\" where its not feasible for\n`constructor()` to check everything as that check would be too expensive and\ndetrimental to performance of the program. Note that in such cases the\ndocumentation of `constructor()` must say so, what checks have been left out, and\nthere must be some `X.deep_check()` or something that will perform the rest of the\nexpensive checks`.",
    "dependencies": {}
  },
  "@body@0,100,1": {
    "value": "We only create `fpm::Config` after verifying the package is proper (it may not\nhave all the valid ftd files etc, but its FPM.ftd exists and is valid, and its\ndependencies have been checked).\n\nWe generally want to make as many such guarantee, if there is ever a\n`constructor() -> Result<X>`, since `constructor()` is clearly saying its a\n`Result<>` meaning it could have failed, then rest of the code must be able to\nassume that if it was possible to check validity of `X` it must have been checked\nby `constructor()` and they can blindly trust the output of `constructor()`. The\nonly exception to this is \"expensive check scenarios\" where its not feasible for\n`constructor()` to check everything as that check would be too expensive and\ndetrimental to performance of the program. Note that in such cases the\ndocumentation of `constructor()` must say so, what checks have been left out, and\nthere must be some `X.deep_check()` or something that will perform the rest of the\nexpensive checks`.",
    "dependencies": {
      "0,0,0,44,6,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,101": {
    "value": "We do not litter current directory with partial and temporary folder, like zip file\nbeing downloaded when package is being fetched.",
    "dependencies": {}
  },
  "@body@0,101,1": {
    "value": "We do not litter current directory with partial and temporary folder, like zip file\nbeing downloaded when package is being fetched.",
    "dependencies": {
      "0,0,0,44,7,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,102": {
    "value": "We ensure this by always creating file paths using `config.assert_in_package()`,\nwhich panics if we go beyond the package root. It must not be relied upon to be\nthe only thing, this is the last resort, all best practices should be used when\ncreating paths.",
    "dependencies": {}
  },
  "@body@0,102,1": {
    "value": "We ensure this by always creating file paths using `config.assert_in_package()`,\nwhich panics if we go beyond the package root. It must not be relied upon to be\nthe only thing, this is the last resort, all best practices should be used when\ncreating paths.",
    "dependencies": {
      "0,0,0,44,8,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,103": {
    "value": "Added a new [CR about fpm formatter](/fpm/~/31/).",
    "dependencies": {}
  },
  "@body@0,103,1": {
    "value": "Added a new [CR about fpm formatter](/fpm/~/31/).",
    "dependencies": {
      "0,0,0,45,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,104": {
    "value": "10th Dec 2021\n\nWe already supported the conversion of markdown files to HTML during the build\nprocess. Shobhit has further [added \"markdown index\"\nsupport](https://github.com/FifthTry/fpm/pull/16), any directory that says `a` with\n`README.md` in it, without a corresponding `.ftd` file, we render the content of\nthe `README.md` at `/a/`.\n\nVipin needed font support, realised we have not released anything for a while\nso created a new release.",
    "dependencies": {}
  },
  "@body@0,104,1": {
    "value": "10th Dec 2021\n\nWe already supported the conversion of markdown files to HTML during the build\nprocess. Shobhit has further [added \"markdown index\"\nsupport](https://github.com/FifthTry/fpm/pull/16), any directory that says `a` with\n`README.md` in it, without a corresponding `.ftd` file, we render the content of\nthe `README.md` at `/a/`.\n\nVipin needed font support, realised we have not released anything for a while\nso created a new release.",
    "dependencies": {
      "0,0,0,46,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,105": {
    "value": " Was discussing package interfaces, and we have to start creating some of these\npackage interfaces now, now that package and basic machinery is working fine.\n\nThe motivation for package interface, and aliases, is to make it easy to change\nthemes and \"component libraries\", without doing much change in your package.\n\nWhen using a theme or a component library you have to first add them as a\ndependency in your `FPM.ftd`:",
    "dependencies": {}
  },
  "@body@0,105,1": {
    "value": " Was discussing package interfaces, and we have to start creating some of these\npackage interfaces now, now that package and basic machinery is working fine.\n\nThe motivation for package interface, and aliases, is to make it easy to change\nthemes and \"component libraries\", without doing much change in your package.\n\nWhen using a theme or a component library you have to first add them as a\ndependency in your `FPM.ftd`:",
    "dependencies": {
      "0,0,0,47,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,106": {
    "value": "-- import: fpm\n\n-- fpm.package: foo\n\n-- fpm.dependency: some-lib",
    "dependencies": {
      "0,0,0,47,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,107": {
    "value": "If we just do this, we can now import `some-lib` from any file in the `foo`\npackage.\n\nBut what if we want to change that `some-lib`? First of all, we someone has to\nensure that the new library is compatible with `some-lib`, else switching would be\na tedious process, we will have to update all calls of `some-lib` with a compatible\ncomponent or type in the `new-lib`. What guarantee is there that `new-lib` will\nhave corresponding types and components (with same arguments, type and semantics?).\n\nSay `some-lib` has exposed a component `heading` for authoring headings in\ndocuments:",
    "dependencies": {
      "0,0,0,47,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,108": {
    "value": "-- import: some-lib\n\n-- some-lib.heading: the heading\nlevel: 1",
    "dependencies": {
      "0,0,0,47,4,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,109": {
    "value": "Now when we switch to `new-lib`, maybe they have decided to expose heading with\nthe name `h1`, so we have to do the following:",
    "dependencies": {
      "0,0,0,47,5:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,11": {
    "value": "We tell you when the Hindi translation was last marked upto date, and what all\nchanges has happened in the English version since that date. This we believe is\nreally unique feature we have brought, we have not seen it anywhere yet, this\ndemonstrates our \"document tracking technique\"'s strength. We would be using this\ntechnique for version tracking (what logical changes has happened in the new\nversion/edition of a book/documentation), change request, two way sync etc.\n\nWe also take you to translation status page if you are so interested:",
    "dependencies": {}
  },
  "@body@0,11,2": {
    "value": "We tell you when the Hindi translation was last marked upto date, and what all\nchanges has happened in the English version since that date. This we believe is\nreally unique feature we have brought, we have not seen it anywhere yet, this\ndemonstrates our \"document tracking technique\"'s strength. We would be using this\ntechnique for version tracking (what logical changes has happened in the new\nversion/edition of a book/documentation), change request, two way sync etc.\n\nWe also take you to translation status page if you are so interested:",
    "dependencies": {
      "0,0,0,9,4,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,110": {
    "value": "-- import: new-lib\n\n-- new-lib.h1: the heading",
    "dependencies": {
      "0,0,0,47,6,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,111": {
    "value": "Notice the changes: we have updated the import command, then we updated the call\nmodule name part of each reference `some-lib` to `new-lib` and finally we have\nswitched from `heading` to `h1` and removed the `level`.",
    "dependencies": {
      "0,0,0,47,7:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,112": {
    "value": "We could have avoided the second by using `import as` feature:",
    "dependencies": {}
  },
  "@body@0,112,1": {
    "value": "We could have avoided the second by using `import as` feature:",
    "dependencies": {
      "0,0,0,47,8,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,113": {
    "value": "-- import: some-lib as lib\n\n-- lib.heading: the heading\nlevel: 1",
    "dependencies": {
      "0,0,0,47,8,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,114": {
    "value": "In this case, if we have saved the number of edits we have to do when switching\ncomponent library, and would have to only focus on the incompatibility between\nthe two libraries. If the two were compatible we would only have to change one line\nin each ftd file when switching a library.",
    "dependencies": {
      "0,0,0,47,8,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,115": {
    "value": "We can do better by supporting package alias:",
    "dependencies": {}
  },
  "@body@0,115,1": {
    "value": "We can do better by supporting package alias:",
    "dependencies": {
      "0,0,0,47,9,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,116": {
    "value": "-- import: fpm\n\n-- fpm.package: foo\n\n-- fpm.dependency: some-lib as lib",
    "dependencies": {
      "0,0,0,47,9,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,117": {
    "value": "Here we have aliased `some-lib` to `lib` in `FPM.ftd` itself, so all the ftd files\nin the package can just import `lib` now, and we have to do that much fewer change\nwhen switching:",
    "dependencies": {
      "0,0,0,47,9,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,118": {
    "value": "-- import: lib\n\n-- lib.heading: the heading\nlevel: 1",
    "dependencies": {
      "0,0,0,47,9,4,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,119": {
    "value": "If the packages were compatible, had same components and types, then we can switch\npackages by modifying only one line in the entire package!\n\nBut how do we ensure more and more packages are compatible with each other like\nthis so it's easy for people to switch?",
    "dependencies": {
      "0,0,0,47,9,5:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,12": {
    "value": "This page is translated in Hindi as well for example.\n\nUI needs work, messaging needs work, but we are so proud of what's working already.\nAlso you can modify each of those UI by creating and editing\n[`FPM/translation/{missing, upto-date,\netc}.ftd`](https://github.com/FifthTry/fpm/tree/main/ftd/translation), we ship the\nUI shown above as fallback, we first look for corresponding files in package's\n`FPM` folder.",
    "dependencies": {}
  },
  "@body@0,12,2": {
    "value": "This page is translated in Hindi as well for example.\n\nUI needs work, messaging needs work, but we are so proud of what's working already.\nAlso you can modify each of those UI by creating and editing\n[`FPM/translation/{missing, upto-date,\netc}.ftd`](https://github.com/FifthTry/fpm/tree/main/ftd/translation), we ship the\nUI shown above as fallback, we first look for corresponding files in package's\n`FPM` folder.",
    "dependencies": {
      "0,0,0,9,5,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,120": {
    "value": "What if there was a way for a package to say it has exactly the same types and\ncomponents exposed as some other package? What if any package can act as an\n\"interface\", and any other package can \"implement\" it?\n\nWe actually do not want to do anything special to declare that some package is an\ninterface. Every package is an interface. Just that they are not well known, others\nare not going to \"implement\" that package. But any package can become popular and\nothers can start targeting that package.\n\nWhen you are creating a package and implementing an interface, for that matter a\npackage should be able to implement more than one interface if they happen to be\nmutually non-conflicting. Two packages would be \"conflicting\" if say both exposed\na component \"heading\", but they take different parameters. Or maybe one uses\n`heading` as a type (say a record name or variable name) and the other has a\ncomponent named `heading`.\n\nNow imagine there was some well-known package, `fifthtry/blog` for example, and\nthen a package can declare that they implement `fifthtry/blog` by using\n`implements:` package key:",
    "dependencies": {}
  },
  "@body@0,120,1": {
    "value": "What if there was a way for a package to say it has exactly the same types and\ncomponents exposed as some other package? What if any package can act as an\n\"interface\", and any other package can \"implement\" it?\n\nWe actually do not want to do anything special to declare that some package is an\ninterface. Every package is an interface. Just that they are not well known, others\nare not going to \"implement\" that package. But any package can become popular and\nothers can start targeting that package.\n\nWhen you are creating a package and implementing an interface, for that matter a\npackage should be able to implement more than one interface if they happen to be\nmutually non-conflicting. Two packages would be \"conflicting\" if say both exposed\na component \"heading\", but they take different parameters. Or maybe one uses\n`heading` as a type (say a record name or variable name) and the other has a\ncomponent named `heading`.\n\nNow imagine there was some well-known package, `fifthtry/blog` for example, and\nthen a package can declare that they implement `fifthtry/blog` by using\n`implements:` package key:",
    "dependencies": {
      "0,0,0,47,10,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,121": {
    "value": "-- import: fpm\n\n-- package: some-lib\nimplements: fifthtry/blog",
    "dependencies": {
      "0,0,0,47,10,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,122": {
    "value": "And say `new-lib` also has declared that they implement the same. Now our\n`fpm check` (and `fpm build` etc) will check if the contract is indeed valid, if\nindeed `some-lib` has exactly the same types and components with compatible names\nand arguments as `fifthtry/blog`, else everything fails.\n\nIn fact providing extra components or types, or even extra optional properties to\nrecords or extra optional parameters to components is also fine, our interface\nchecker would not mind that.\n\nNow when someone is using `some-lib` they can do the following:",
    "dependencies": {
      "0,0,0,47,10,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,123": {
    "value": "-- import: fpm\n\n-- fpm.package: foo\n\n-- fpm.dependency: some-lib\ninterface: fifthtry/blog",
    "dependencies": {
      "0,0,0,47,10,4,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,124": {
    "value": "Here we have said please use `some-lib`, but do not give let me use any item from\n`some-lib`, only the items that are defined in `fifthtry/blog`. We can then import\n`fifthtry/blog` from any of our `ftd` files, and our system will know you really\nwant `some-lib` stuff, so `fifthtry/blog` has become an alias for `some-lib`. With\nthis, switching to `new-lib` would be guaranteed to work with just one line change.\n\nFinally, we can use both `interface` and `as`, say if the name of the interface\npackage is long etc, you can also use alias.",
    "dependencies": {
      "0,0,0,47,10,5:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,125": {
    "value": "-- import: fpm\n\n-- fpm.package: foo\n\n-- fpm.dependency: some-lib as blog\ninterface: fifthtry/blog",
    "dependencies": {
      "0,0,0,47,10,6,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,126": {
    "value": "Now you can do `-- import: blog` everywhere. There you go, one-line change theme\nswitching with guarantees.\n\nWe, FifthTry, will seed things with enough packages that act as interfaces, we will\nstudy different domains, resume, photo album/journal, podcast, blog, pricing page,\ncontact page, testimonials, simple product listing, book review site, books, api,\netc etc, and propose the first set of package interfaces and seed the first set of\nprofessional quality themes for each interface. Once the ball is rolling, the world\nwill take over.",
    "dependencies": {
      "0,0,0,47,10,7:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,127": {
    "value": "Let's talk about software documentation for a moment. Most programming languages\nhave the provision to write documentation as part of code. Consider this code:",
    "dependencies": {}
  },
  "@body@0,127,1": {
    "value": "Let's talk about software documentation for a moment. Most programming languages\nhave the provision to write documentation as part of code. Consider this code:",
    "dependencies": {
      "0,0,0,48,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,128": {
    "value": "def lower(x):\n    \"lower() returns the lower cased version of the passed value\"\"\"\n    x.lower()",
    "dependencies": {
      "0,0,0,48,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,129": {
    "value": "Here the string \"lower() returns...\" is documentation of `lower()` function, and\nit serves two main purposes: 1. it shows up in IDE:",
    "dependencies": {
      "0,0,0,48,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,13": {
    "value": "We are accumulating a lot of package meta-data in generated `FPM.ftd` file during\nbuild time, now Arpita has started displaying that data as well on\n[/FPM/](https://arpita-jaiswal.github.io/vivekanand/FPM/) URL for any fpm built\npackage. Currently the URL is almost empty, but after we merge [this\nPR](https://github.com/FifthTry/fpm/pull/43) it will start looking a bit like this:",
    "dependencies": {}
  },
  "@body@0,13,1": {
    "value": "We are accumulating a lot of package meta-data in generated `FPM.ftd` file during\nbuild time, now Arpita has started displaying that data as well on\n[/FPM/](https://arpita-jaiswal.github.io/vivekanand/FPM/) URL for any fpm built\npackage. Currently the URL is almost empty, but after we merge [this\nPR](https://github.com/FifthTry/fpm/pull/43) it will start looking a bit like this:",
    "dependencies": {
      "0,0,0,10,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,130": {
    "value": "And 2. it shows up in pydoc etc generated documentation of the software package. Eg\nconsider [this page](https://docs.djangoproject.com/en/4.0/ref/models/fields/#django.db.models.CharField).\n\nJava, Rust, many languages have some features like this.",
    "dependencies": {}
  },
  "@body@0,130,2": {
    "value": "And 2. it shows up in pydoc etc generated documentation of the software package. Eg\nconsider [this page](https://docs.djangoproject.com/en/4.0/ref/models/fields/#django.db.models.CharField).\n\nJava, Rust, many languages have some features like this.",
    "dependencies": {
      "0,0,0,48,4,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,131": {
    "value": "If we put documentation in source code, we are basically limiting editing of that\npart of the documentation. Not only one has to learn git etc before they can\ncontribute, but the lint etc also has to pass. Further, each language has its own\nweirdness you have to learn.",
    "dependencies": {}
  },
  "@body@0,131,1": {
    "value": "If we put documentation in source code, we are basically limiting editing of that\npart of the documentation. Not only one has to learn git etc before they can\ncontribute, but the lint etc also has to pass. Further, each language has its own\nweirdness you have to learn.",
    "dependencies": {
      "0,0,0,48,5,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,132": {
    "value": "If a project chooses exclusive source-based documentation, it becomes hard to\ninclude guides, tutorials, overviews etc in the docs. People tend to throw all\nthat in an assortment of scattered README and other markdown files.\n\nProjects that use `sphinx` for example do a better job at it, where the\ndocumentation files drive the extraction of documentation from source files. This\nallows people to structure documentation properly.\n\nInternet is full of tutorials and how-tos that should have been part of original\ndocumentation, but because of the high bar on source code.",
    "dependencies": {}
  },
  "@body@0,132,1": {
    "value": "If a project chooses exclusive source-based documentation, it becomes hard to\ninclude guides, tutorials, overviews etc in the docs. People tend to throw all\nthat in an assortment of scattered README and other markdown files.\n\nProjects that use `sphinx` for example do a better job at it, where the\ndocumentation files drive the extraction of documentation from source files. This\nallows people to structure documentation properly.\n\nInternet is full of tutorials and how-tos that should have been part of original\ndocumentation, but because of the high bar on source code.",
    "dependencies": {
      "0,0,0,48,6,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,133": {
    "value": "If you are putting documentation along with source code you can not include docs\nin 10-20 languages now can you? It is simply impossible to have the translation of\nsource code documentation based on the current state of tooling.",
    "dependencies": {}
  },
  "@body@0,133,1": {
    "value": "If you are putting documentation along with source code you can not include docs\nin 10-20 languages now can you? It is simply impossible to have the translation of\nsource code documentation based on the current state of tooling.",
    "dependencies": {
      "0,0,0,48,7,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,134": {
    "value": "It is virtually not possible to update the documentation of any existing published\nversion of the software. Documentation change is clubbed with software change and\nhas to through a software release cycle.\n\nI discussed other problems with documentation and versioning on 9th Dec 2021.",
    "dependencies": {}
  },
  "@body@0,134,1": {
    "value": "It is virtually not possible to update the documentation of any existing published\nversion of the software. Documentation change is clubbed with software change and\nhas to through a software release cycle.\n\nI discussed other problems with documentation and versioning on 9th Dec 2021.",
    "dependencies": {
      "0,0,0,48,8,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,135": {
    "value": "Like we have [language server\nprotocol](https://microsoft.github.io/language-server-protocol/), LSP, supported\ntoday by many editors, we must have some sort of language documentation protocol.\nNot protocol maybe, as that implies a network protocol, we should have some\nstandard file system, package format or whatever, for where to get documentation\nfrom.\n\nSo say we create `fifthtry/pydocs` package interface for documenting python\npackages, or maybe even more specific `fifthtry/python-cli` vs\n`python/django-app` etc. And so on for all programming languages.\n\nWe then create tooling to extract source docs from python etc packages and update\nthe docs. So you have your python source checked out in a folder, and next to it\nyou have the docs checked out, and there is a tool that extracts all source docs\nfrom python and updates the docs. And then there is another tool that does the\nreverse, takes the docs from the docs folder and updates the python files.\n\nThis is sort of literate programming in reverse. You edit docs in source files\nand extract docs out of it, and then modify the extracted docs and put them back\nin. Javadocs etc do only one step, take out the docs from the source, but they do\nnot put things back in.",
    "dependencies": {}
  },
  "@body@0,135,1": {
    "value": "Like we have [language server\nprotocol](https://microsoft.github.io/language-server-protocol/), LSP, supported\ntoday by many editors, we must have some sort of language documentation protocol.\nNot protocol maybe, as that implies a network protocol, we should have some\nstandard file system, package format or whatever, for where to get documentation\nfrom.\n\nSo say we create `fifthtry/pydocs` package interface for documenting python\npackages, or maybe even more specific `fifthtry/python-cli` vs\n`python/django-app` etc. And so on for all programming languages.\n\nWe then create tooling to extract source docs from python etc packages and update\nthe docs. So you have your python source checked out in a folder, and next to it\nyou have the docs checked out, and there is a tool that extracts all source docs\nfrom python and updates the docs. And then there is another tool that does the\nreverse, takes the docs from the docs folder and updates the python files.\n\nThis is sort of literate programming in reverse. You edit docs in source files\nand extract docs out of it, and then modify the extracted docs and put them back\nin. Javadocs etc do only one step, take out the docs from the source, but they do\nnot put things back in.",
    "dependencies": {
      "0,0,0,48,9,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,136": {
    "value": "If we set this up, we will then have to patch pip, cargo etc, things that download\nsource code to fetch the source, then fetch the documentation package in the users\npreferred language, and update the source with documentation so IDE can show docs\nin the right language.\n\nOf course, you would want to do this only in development builds, in a production\nenvironment you do not need to do the extra work, nor do you want to mess with line\nnumbers in source code so all error stack traces are consistent.\n\nThis is basically a hack. Ideally, editors should be updated to support the\ndocumentation package format itself and show tooltips docs from DPF files instead\nof the source file. During development, we do use jump to definition, and often\nscroll to read the docs, so patching source is also needed.",
    "dependencies": {}
  },
  "@body@0,136,1": {
    "value": "If we set this up, we will then have to patch pip, cargo etc, things that download\nsource code to fetch the source, then fetch the documentation package in the users\npreferred language, and update the source with documentation so IDE can show docs\nin the right language.\n\nOf course, you would want to do this only in development builds, in a production\nenvironment you do not need to do the extra work, nor do you want to mess with line\nnumbers in source code so all error stack traces are consistent.\n\nThis is basically a hack. Ideally, editors should be updated to support the\ndocumentation package format itself and show tooltips docs from DPF files instead\nof the source file. During development, we do use jump to definition, and often\nscroll to read the docs, so patching source is also needed.",
    "dependencies": {
      "0,0,0,48,10,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,137": {
    "value": "9th Dec 2021\n\n\n- [x] `fpm sync <list of files file>`\n- [x] `fpm status <file>` to show all statuses for the file\n- [x] `fpm status` to show status of adhoc tracking but not translation stuff\n- [ ] `fpm translation-status`\n- [ ] `fpm translation-status <file or folder>`\n- [ ] `fpm stop-tracking`\n- [ ] `fpm mark-upto-date a --target b --on <timestamp>`\n- [ ] `fpm diff <optional-folder>` to only show regular diff (only changes from\n      .history file)\n- [ ] `fpm diff <file>` to show all diffs (including tracking diff, translation\n       diff)\n- [ ] `fpm diff -a` to show everything for every file`",
    "dependencies": {}
  },
  "@body@0,137,1": {
    "value": "9th Dec 2021\n\n\n- [x] `fpm sync <list of files file>`\n- [x] `fpm status <file>` to show all statuses for the file\n- [x] `fpm status` to show status of adhoc tracking but not translation stuff\n- [ ] `fpm translation-status`\n- [ ] `fpm translation-status <file or folder>`\n- [ ] `fpm stop-tracking`\n- [ ] `fpm mark-upto-date a --target b --on <timestamp>`\n- [ ] `fpm diff <optional-folder>` to only show regular diff (only changes from\n      .history file)\n- [ ] `fpm diff <file>` to show all diffs (including tracking diff, translation\n       diff)\n- [ ] `fpm diff -a` to show everything for every file`",
    "dependencies": {
      "0,0,0,49,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,138": {
    "value": "Arpita has finished implementing the first version of `fpm start-tracking` and\n`fpm mark-upto-date` commands, and updated `fpm status` and `fpm diff` to support\nad-hoc tracking.",
    "dependencies": {}
  },
  "@body@0,138,1": {
    "value": "Arpita has finished implementing the first version of `fpm start-tracking` and\n`fpm mark-upto-date` commands, and updated `fpm status` and `fpm diff` to support\nad-hoc tracking.",
    "dependencies": {
      "0,0,0,50,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,139": {
    "value": "We won't delete the history of a file when a file is deleted. We currently have\n`.history/foo.<timestamp>.ftd` for every modification of `foo.ftd`. We will soon\nalso have `.history/foo.<timestamp>.ftd.info`.\n\nIn some cases only the `.info` file may exist, when `foo.ftd` has been deleted.\n\n`.info` file will also contain the \"commit message\" of a change. And in future\nwhen we implement history browsing it will also contain a flag that tells the UI\nto ignore this particular change saying it's a minor thing and is distracting. We\ndon't actually delete the timestamp file and merge because timestamps are created\non sync and after sync it gets published, and others may have stored that timestamp\nin their `.track` file.\n\nTechnically, we can manage to miss `.timestamp` files from a `.track` file by\nusing the immediate previous entry, but it will cause a double review in edge\ncases. I prefer we never delete the history.",
    "dependencies": {}
  },
  "@body@0,139,1": {
    "value": "We won't delete the history of a file when a file is deleted. We currently have\n`.history/foo.<timestamp>.ftd` for every modification of `foo.ftd`. We will soon\nalso have `.history/foo.<timestamp>.ftd.info`.\n\nIn some cases only the `.info` file may exist, when `foo.ftd` has been deleted.\n\n`.info` file will also contain the \"commit message\" of a change. And in future\nwhen we implement history browsing it will also contain a flag that tells the UI\nto ignore this particular change saying it's a minor thing and is distracting. We\ndon't actually delete the timestamp file and merge because timestamps are created\non sync and after sync it gets published, and others may have stored that timestamp\nin their `.track` file.\n\nTechnically, we can manage to miss `.timestamp` files from a `.track` file by\nusing the immediate previous entry, but it will cause a double review in edge\ncases. I prefer we never delete the history.",
    "dependencies": {
      "0,0,0,51,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,14": {
    "value": "It's quite bare bones. Soon it will list information about where to fetch package\ndata from, the LICENSE of the package, how to collaborate, edit this package. We\nwill also include the `README.md` of the project if its hosted on Github etc on\nthis page.\n\nThis page is fully customisable. You can modify\n[`FPM/info.ftd`](https://github.com/FifthTry/fpm/blob/7655e4e10bebc602bdf92251f40176bece494827/ftd/info.ftd)\nfile and tweak it based on your need.",
    "dependencies": {}
  },
  "@body@0,14,2": {
    "value": "It's quite bare bones. Soon it will list information about where to fetch package\ndata from, the LICENSE of the package, how to collaborate, edit this package. We\nwill also include the `README.md` of the project if its hosted on Github etc on\nthis page.\n\nThis page is fully customisable. You can modify\n[`FPM/info.ftd`](https://github.com/FifthTry/fpm/blob/7655e4e10bebc602bdf92251f40176bece494827/ftd/info.ftd)\nfile and tweak it based on your need.",
    "dependencies": {
      "0,0,0,10,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,140": {
    "value": "What about `.history/.latest.ftd` file? When a file gets deleted we should not\ndelete the entry for that file from the `.latest.ftd` file, but instead add a\n`deleted: true` flag to it. If by the same name another file gets created, we will\nremove the `deleted: true` flag.",
    "dependencies": {}
  },
  "@body@0,140,1": {
    "value": "What about `.history/.latest.ftd` file? When a file gets deleted we should not\ndelete the entry for that file from the `.latest.ftd` file, but instead add a\n`deleted: true` flag to it. If by the same name another file gets created, we will\nremove the `deleted: true` flag.",
    "dependencies": {
      "0,0,0,51,2,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,141": {
    "value": "If `a` is tracking `b` and `b` is deleted, we could remove the tracking\ninformation from `a.track`. This means if a new file `b` is created in future,\nthe user will have again `add-track` it.\n\nHere we are assuming if a file is deleted and another file with the same name is\ncreated later, the two files are logically not related at all and just happen to\nshare the name.\n\nWe can also show users a warning when they do `fpm status` etc, saying a file is\ngone and prompt them to `stop-tracking` explicitly.",
    "dependencies": {}
  },
  "@body@0,141,1": {
    "value": "If `a` is tracking `b` and `b` is deleted, we could remove the tracking\ninformation from `a.track`. This means if a new file `b` is created in future,\nthe user will have again `add-track` it.\n\nHere we are assuming if a file is deleted and another file with the same name is\ncreated later, the two files are logically not related at all and just happen to\nshare the name.\n\nWe can also show users a warning when they do `fpm status` etc, saying a file is\ngone and prompt them to `stop-tracking` explicitly.",
    "dependencies": {
      "0,0,0,51,3,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,142": {
    "value": "`$processor$: package-query` only supports querying against one sqlite database at\na time. SQLite supports loading more than one sqlite file at a time and we should\nbe able to support that as well:",
    "dependencies": {}
  },
  "@body@0,142,1": {
    "value": "`$processor$: package-query` only supports querying against one sqlite database at\na time. SQLite supports loading more than one sqlite file at a time and we should\nbe able to support that as well:",
    "dependencies": {
      "0,0,0,52,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,143": {
    "value": "-- string foo:\n$processor$: package-query\ndb foo: foo.sqlite\ndb bar: path/to/bar.sqlite\n\nSELECT * FROM [foo.table1], [bar.table2]",
    "dependencies": {
      "0,0,0,52,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,144": {
    "value": "We can use the db aliases in the query.",
    "dependencies": {
      "0,0,0,52,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,145": {
    "value": "One of the issues with SQLite is we may not be able to do an optimisation.\n\nWhen things are rendered via `fpm-repo` things are fine, but when using `fpm build`,\nthings can become a problem if the package size or complexity grows. With support\nfor HTTP request handling and SQLite queries, and we will be adding a lot of stuff,\nwe are just getting started, the time it takes `fpm build` may start becoming an\nissue.\n\nOne way to speed things could be to do build caching, do not rebuild something that\nhas no change. Consider the simple case, `a.ftd`, which does not import any other\ndocument. Consider also we do not have dynamic features like `fpm.now` which\nreturns the current time. In such cases, we can choose to not rebuild `a.ftd` if\nthe content of `a.ftd` hasn't changed.\n\nWe can detect if a document uses another document or dynamic features, and we can\nstore this information, and use it when to decide if we should rebuild things or\nnot. Eg, if we know some document has used `fpm.now` and has no other dependency and\nthat document's content hasn't changed, we still want to regenerate the\ncorresponding html, as `fpm.now` returns a different value on every run.\n\nWe can do this optimisation for `sqlite` as well if a random sqlite file has been\nused. If the sqlite database file has changed then we need to rebuild the document\nthat queries that sqlite database even if the document itself hasn't changed.\n\nBut when we talk about query against package database, a sqlite database that we\nwould be creating/updating based on the content of all documents in an fpm package,\nthat sqlite will always change, and any document that queries that package database\ncan never be cached.\n\nUnless we break the package database into smaller databases, say for each record\nwe have a sqlite file, and some document is only interested in instances of that\nrecord, and we know that only a few files have created an instance of that record,\nnow the out of date graph would be a lot smaller, only those few files.\n\nSmaller files have problems tho, some queries would want to use join and if the\ntables in different database join may not always be possible (not sure how things\nwould be after the support of referring multiple sqlite databases for a single\nquery, can it negate this drawback?). Not sure how foreign key would work etc.\n\nOne thing is there that we can do both, generate big databases and individual\ndatabases as well, and do it opportunistically, only generate the databases that\nwere referred by any of the documents. This way we can even choose to not generate\nthe big package database if no document is querying that database.\n\nHow about a database for use for other packages? Say `package a` wants to query\ndatabase of `package b`? That is slightly simpler because then you are not worrying\nabout build time but sync or publish time. It may be okay to do more work during\npublishing.\n\nBut then again why are we calling build all the time? Why are we worried about\nperformance of the build at all? Because we currently do not support auto reload?\n\nAuto reload means we have to support the demand generation of pages, in which\ncase we don't have to worry about caching, the moment we introduce support for\n`fpm server`, even without auto reload feature, this whole discussion would go\nmoot.\n\nMaking `fpm build` fast would be important, but then we can ignore it as it's no\nlonger urgent, as so far my concern was author edit workflow, which would be\nimprove much more by auto reload and fpm serve than making `fpm build` fast.",
    "dependencies": {}
  },
  "@body@0,145,1": {
    "value": "One of the issues with SQLite is we may not be able to do an optimisation.\n\nWhen things are rendered via `fpm-repo` things are fine, but when using `fpm build`,\nthings can become a problem if the package size or complexity grows. With support\nfor HTTP request handling and SQLite queries, and we will be adding a lot of stuff,\nwe are just getting started, the time it takes `fpm build` may start becoming an\nissue.\n\nOne way to speed things could be to do build caching, do not rebuild something that\nhas no change. Consider the simple case, `a.ftd`, which does not import any other\ndocument. Consider also we do not have dynamic features like `fpm.now` which\nreturns the current time. In such cases, we can choose to not rebuild `a.ftd` if\nthe content of `a.ftd` hasn't changed.\n\nWe can detect if a document uses another document or dynamic features, and we can\nstore this information, and use it when to decide if we should rebuild things or\nnot. Eg, if we know some document has used `fpm.now` and has no other dependency and\nthat document's content hasn't changed, we still want to regenerate the\ncorresponding html, as `fpm.now` returns a different value on every run.\n\nWe can do this optimisation for `sqlite` as well if a random sqlite file has been\nused. If the sqlite database file has changed then we need to rebuild the document\nthat queries that sqlite database even if the document itself hasn't changed.\n\nBut when we talk about query against package database, a sqlite database that we\nwould be creating/updating based on the content of all documents in an fpm package,\nthat sqlite will always change, and any document that queries that package database\ncan never be cached.\n\nUnless we break the package database into smaller databases, say for each record\nwe have a sqlite file, and some document is only interested in instances of that\nrecord, and we know that only a few files have created an instance of that record,\nnow the out of date graph would be a lot smaller, only those few files.\n\nSmaller files have problems tho, some queries would want to use join and if the\ntables in different database join may not always be possible (not sure how things\nwould be after the support of referring multiple sqlite databases for a single\nquery, can it negate this drawback?). Not sure how foreign key would work etc.\n\nOne thing is there that we can do both, generate big databases and individual\ndatabases as well, and do it opportunistically, only generate the databases that\nwere referred by any of the documents. This way we can even choose to not generate\nthe big package database if no document is querying that database.\n\nHow about a database for use for other packages? Say `package a` wants to query\ndatabase of `package b`? That is slightly simpler because then you are not worrying\nabout build time but sync or publish time. It may be okay to do more work during\npublishing.\n\nBut then again why are we calling build all the time? Why are we worried about\nperformance of the build at all? Because we currently do not support auto reload?\n\nAuto reload means we have to support the demand generation of pages, in which\ncase we don't have to worry about caching, the moment we introduce support for\n`fpm server`, even without auto reload feature, this whole discussion would go\nmoot.\n\nMaking `fpm build` fast would be important, but then we can ignore it as it's no\nlonger urgent, as so far my concern was author edit workflow, which would be\nimprove much more by auto reload and fpm serve than making `fpm build` fast.",
    "dependencies": {
      "0,0,0,53,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,146": {
    "value": "Till now `fpm build` used to only process `.ftd` files in an fpm package. Shobhit\nhas added support for handling static files (files other than ftd and markdown, and\nnot ignored by `.gitignore`/`fpm.ignore` etc).\n\nNow we can add images etc as part of an FPM package and they get included in\ngenerated static site.\n\nSince we kind of now include all files in the current directory, it may be a good\nidea to review the files that are being processed and ignore files you do not want\npublished, both for performance and security reasons.",
    "dependencies": {}
  },
  "@body@0,146,1": {
    "value": "Till now `fpm build` used to only process `.ftd` files in an fpm package. Shobhit\nhas added support for handling static files (files other than ftd and markdown, and\nnot ignored by `.gitignore`/`fpm.ignore` etc).\n\nNow we can add images etc as part of an FPM package and they get included in\ngenerated static site.\n\nSince we kind of now include all files in the current directory, it may be a good\nidea to review the files that are being processed and ignore files you do not want\npublished, both for performance and security reasons.",
    "dependencies": {
      "0,0,0,54,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,147": {
    "value": "One kind of thing we have to be constantly aware of when writing/reviewing any FPM\ncode is accidentally copying say `/etc/passwd` to the built file. This can happen\nsay if we started support symlinks, and someone has a package that you are\ncontributing to, and symlink gets you to accidentally copy more stuff to `.build`\nand publish to the world.\n\nIt can happen more than by just symlink, say in `$processor$: package-query`, if\nthe value of `db` is set to say `../firefox-password-store.sqlite` file, again we\nmay accidentally read beyond what we should, which is the content of the current\npackage or any package that is a direct dependency of this package. In fact, if\ncurrent package depends and a package `a` and `a` depends on `b`, then we must not\nallow current package files to directly reference files in `b` without adding an\nexplicit dependency on `b`, as while this is technically not a security issue, it\ncauses issues if `a` removes the dependency, the package will suddenly stop\nbuilding.\n\nWe are shipping a binary that runs on people's machines, this is a threat vector,\nand while its easy to audit code for direct threats (attempt to do mining, or\nscanning stuff), we are also letting our binary download packages from the internet\nauthored by others, and we have to give guarantees that those files can not do\nany harm either.\n\nOur FTD must not get any feature, for instance, letting people directly execute\ncommands from a package, without user understanding the command (this can happen\nwhen a package is being downloaded for the first time, we should show all the\nexternal commands this fpm package is going to be able to run etc).\n\nThe thing is this is very tricky, we can not say we don't want to let package\nauthors run anything, that will significantly decrease the power of FPM packages.\nWe have to allow people to query data from their trusted data stores, to make it\npart of generated documents, *if they want to*. But we can not surprise people.\nEven HTTP requests are sensitive, not just command execution.",
    "dependencies": {}
  },
  "@body@0,147,1": {
    "value": "One kind of thing we have to be constantly aware of when writing/reviewing any FPM\ncode is accidentally copying say `/etc/passwd` to the built file. This can happen\nsay if we started support symlinks, and someone has a package that you are\ncontributing to, and symlink gets you to accidentally copy more stuff to `.build`\nand publish to the world.\n\nIt can happen more than by just symlink, say in `$processor$: package-query`, if\nthe value of `db` is set to say `../firefox-password-store.sqlite` file, again we\nmay accidentally read beyond what we should, which is the content of the current\npackage or any package that is a direct dependency of this package. In fact, if\ncurrent package depends and a package `a` and `a` depends on `b`, then we must not\nallow current package files to directly reference files in `b` without adding an\nexplicit dependency on `b`, as while this is technically not a security issue, it\ncauses issues if `a` removes the dependency, the package will suddenly stop\nbuilding.\n\nWe are shipping a binary that runs on people's machines, this is a threat vector,\nand while its easy to audit code for direct threats (attempt to do mining, or\nscanning stuff), we are also letting our binary download packages from the internet\nauthored by others, and we have to give guarantees that those files can not do\nany harm either.\n\nOur FTD must not get any feature, for instance, letting people directly execute\ncommands from a package, without user understanding the command (this can happen\nwhen a package is being downloaded for the first time, we should show all the\nexternal commands this fpm package is going to be able to run etc).\n\nThe thing is this is very tricky, we can not say we don't want to let package\nauthors run anything, that will significantly decrease the power of FPM packages.\nWe have to allow people to query data from their trusted data stores, to make it\npart of generated documents, *if they want to*. But we can not surprise people.\nEven HTTP requests are sensitive, not just command execution.",
    "dependencies": {
      "0,0,0,55,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,148": {
    "value": "- fpm.markdown-filename etc\n- fpm.package.name vs FPM.package-specific-variable\n- import path disambiguation, can be use : as separator\n- `import: <package>:` is ugly, import foo means foo is either in current package\n  or a package which is a direct dependency of current package\n\n\n1. ~`a` (local), `a:` (package index), `a:b/c`~ (`-- import: a:` is ugly)\n1. `a` (local or package-index), `a:b/c` (pretty)\n1. `@a` (local), `a`, `a:b/c` (explicit)\n1. `a` (local), `@a`, `b/c@a`",
    "dependencies": {}
  },
  "@body@0,148,1": {
    "value": "- fpm.markdown-filename etc\n- fpm.package.name vs FPM.package-specific-variable\n- import path disambiguation, can be use : as separator\n- `import: <package>:` is ugly, import foo means foo is either in current package\n  or a package which is a direct dependency of current package\n\n\n1. ~`a` (local), `a:` (package index), `a:b/c`~ (`-- import: a:` is ugly)\n1. `a` (local or package-index), `a:b/c` (pretty)\n1. `@a` (local), `a`, `a:b/c` (explicit)\n1. `a` (local), `@a`, `b/c@a`",
    "dependencies": {
      "0,0,0,56,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,149": {
    "value": "-- import: a as b\nfrom: <package>\nexposing: x\nexposing: y\n\n-- import: x as y",
    "dependencies": {
      "0,0,0,56,2,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,15": {
    "value": "So now we are building a lot of UI that is going to be part of a website you\ncreate. The website you create using FPM/FTD can be exactly how you want it to be,\nyou have absolute control over every pixel of the page. But then we have our UI\nelements, things that are needed for FPM to work correctly, `FPM/info.ftd` file,\n`FPM/translation/*.ftd` files and so on.\n\nAnd you can totally edit those files, copy them from our source, tomorrow we may\ngive you some cli helper for that, and edit them to your hearts desire.\n\nBut we do not believe that is ideal. We are going to create a theme, a \"document\ninterface\" in our terminology, which will contain all the components needed for\nFPM related UI that gets included in your site.\n\nOnce that document interface is finalised, we will create a few themes\nimplementing fpm interface, and hopefully end users can as well. License permitting\nyou can use any of them interchangeably.\n\nIdeally all the main themes should also implement FPM Theme document interface as\nwell, so most theme you find for your blog, resume, book, open source project page,\nstartup landing page etc, will come with compatible elements, but if the theme you\npicked for rest of your site does not come with the FPM Theme elements, then you\ncan use another theme visually compatible with your theme, or create your own.\n\nYou have full power over entire UI, the interaction, style, and you only need to\nlearn FTD to design those pages, FTD something that is lot easier to learn than\nHTML/CSS/JS for doing this kind of job. FTD that is designed for non programmers\neven.",
    "dependencies": {}
  },
  "@body@0,15,1": {
    "value": "So now we are building a lot of UI that is going to be part of a website you\ncreate. The website you create using FPM/FTD can be exactly how you want it to be,\nyou have absolute control over every pixel of the page. But then we have our UI\nelements, things that are needed for FPM to work correctly, `FPM/info.ftd` file,\n`FPM/translation/*.ftd` files and so on.\n\nAnd you can totally edit those files, copy them from our source, tomorrow we may\ngive you some cli helper for that, and edit them to your hearts desire.\n\nBut we do not believe that is ideal. We are going to create a theme, a \"document\ninterface\" in our terminology, which will contain all the components needed for\nFPM related UI that gets included in your site.\n\nOnce that document interface is finalised, we will create a few themes\nimplementing fpm interface, and hopefully end users can as well. License permitting\nyou can use any of them interchangeably.\n\nIdeally all the main themes should also implement FPM Theme document interface as\nwell, so most theme you find for your blog, resume, book, open source project page,\nstartup landing page etc, will come with compatible elements, but if the theme you\npicked for rest of your site does not come with the FPM Theme elements, then you\ncan use another theme visually compatible with your theme, or create your own.\n\nYou have full power over entire UI, the interaction, style, and you only need to\nlearn FTD to design those pages, FTD something that is lot easier to learn than\nHTML/CSS/JS for doing this kind of job. FTD that is designed for non programmers\neven.",
    "dependencies": {
      "0,0,0,11,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,150": {
    "value": "Here, `x` is either a document in current package or a package.",
    "dependencies": {
      "0,0,0,56,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,151": {
    "value": "-- import: vars\nfrom: fpm\n\n-- import: fpm",
    "dependencies": {
      "0,0,0,56,4,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,152": {
    "value": "What if we have `fpm.ftd` in current package, who to import it?",
    "dependencies": {
      "0,0,0,56,5:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,153": {
    "value": "-- import: fpm\nfrom: .",
    "dependencies": {
      "0,0,0,56,6,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,154": {
    "value": "Currently when using `ftd.code` we include the code block in the body. What if\nwe wanted to refer to code in a source file?",
    "dependencies": {}
  },
  "@body@0,154,1": {
    "value": "Currently when using `ftd.code` we include the code block in the body. What if\nwe wanted to refer to code in a source file?",
    "dependencies": {
      "0,0,0,57,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,155": {
    "value": "-- ft.code:\nlang: py\n$processor$: include-source\nfile: a.py\ntag: foo",
    "dependencies": {
      "0,0,0,57,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,156": {
    "value": "import os\n\n# FPM-START: foo\ndef foo():\n    print(\"this is foo\")\n# FPM-END: foo",
    "dependencies": {
      "0,0,0,57,3,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,157": {
    "value": "Currently `ftd` `$processor$` can only be used for variables and lists, we have to\nextend it to use on component construction as well.\n\nWe may also want to specify more than just the body as well, eg other headers.",
    "dependencies": {
      "0,0,0,57,4:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,158": {
    "value": "Arpita implemented these two commands.\n\nWe had a funky `fpm a tracks b` idea, which no command line tool does. She used\nthe `fpm tracks destination source` syntax. We should make it maybe:\n`fpm start-tracking <f1> --target <f2>`. Also the code assumes we will only track\n`ftd` files, but we have to be able to track any file. Remove `.ftd` prefix\nhandling.\n\n`fpm mark-upto-date <f1> --target <f2>`. Here target would be optional eventually,\nif the target was missing and `f1` tracks more than one file then the cli would\nprompt which file.\n\nIf the file is not found it silently returns, should report the error. If file is\nalready being tracked it should show some message.\n\nNot sure if `fpm diff` should show all the diffs, local modifications and tracking\ndiff, or should we have a separate command.",
    "dependencies": {}
  },
  "@body@0,158,1": {
    "value": "Arpita implemented these two commands.\n\nWe had a funky `fpm a tracks b` idea, which no command line tool does. She used\nthe `fpm tracks destination source` syntax. We should make it maybe:\n`fpm start-tracking <f1> --target <f2>`. Also the code assumes we will only track\n`ftd` files, but we have to be able to track any file. Remove `.ftd` prefix\nhandling.\n\n`fpm mark-upto-date <f1> --target <f2>`. Here target would be optional eventually,\nif the target was missing and `f1` tracks more than one file then the cli would\nprompt which file.\n\nIf the file is not found it silently returns, should report the error. If file is\nalready being tracked it should show some message.\n\nNot sure if `fpm diff` should show all the diffs, local modifications and tracking\ndiff, or should we have a separate command.",
    "dependencies": {
      "0,0,0,58,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,159": {
    "value": "8th Dec 2021\n\nRecorded a design review of what I am calling the upcoming \"FPM Web Framework\".",
    "dependencies": {}
  },
  "@body@0,159,1": {
    "value": "8th Dec 2021\n\nRecorded a design review of what I am calling the upcoming \"FPM Web Framework\".",
    "dependencies": {
      "0,0,0,59,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,16": {
    "value": "So we recently introduced this command, and currently it simply re-downloads all\nthe dependencies, which is fine for our demos and initial usability testing etc,\nbut clearly not something we want to eventually.\n\nWe are designing FPM infra to be as \"distributed\" as possible, this means we can\nnot have a central entity knowing the status of all the packages as is done by many\nother package managers.\n\nWe can poll, re-fetch each `<dependency>/FPM.ftd`, with etag handling etc, but this\nis still not great. How often to poll? On every `fpm` command invocation? Every\nminute/hr/day? Every time user says `fpm update`?\n\nSure. We can come up with some such scheme. But can we have some sort of middle\nground? Not central, yet we do not have to poll everyone? Poll is not great, we\nwant push, as soon as the package we are interested in is updated, say I opened my\nlaptop for a few minutes before catching a long flight, I would want my system to\nautomatically fetch all the latest updates. If in the last minute before I close\nthe lid there was an update to a package, I would want that to be available to me.\n\nPosing problem like this, no central, and yet want push, means we create a few, a\nfew hundred, thousand maybe \"central\" agents. Say there is a new component\n`fpm bastion`, probably using that word incorrectly, some sort of `fpm aggregator`,\nand say each package can pick say 10 of such aggregators. People can maintain fpm\naggregator lists, some will be available via `fpm.dev`, but say its down, under\nattack, sold out, there are others lists, and each package may include a list of\naggregators they know of so one can look at all aggregators from all the package\nthey currently have.\n\nSo there are so many aggregators. And they themselves are chatter boxes, gossiping\nwith each other. For each package they keep track of the `FPM.ftd` file. We can\nalways use public key infrastructure to ensure the `FPM.ftd` file I receive from\nan aggregator is trustworthy (they can lie about not giving me the latest update,\nbut they can not modify `FPM.ftd` without getting trivially detected).\n\nEach FPM package should pick a dozen or so aggregators from the list. And every\ntime there is an update, every time `fpm sync` runs, the content is uploaded to\n`fpm-repo` but also sent to aggregators.\n\nAggregators are chattering and they will communicate to others if any change has\nhappened. Aggregators may even be paid to give guarantees that they talk to\neveryone or that they have strong latency guarantees (the gap between an update\nhappening on any aggregator in world to this aggregator telling you it has\nhappened).\n\nWe will have to employ many techniques from distributed hash table literature and\nprior work. Maybe even use [IPFS etc](https://github.com/rs-ipfs/rust-ipfs) and\nnot re-invent things.\n\nOr we can go old fashioned, sort of reverse mail relay, DNS for any domain (or\ncurrent version of FPM.ftd if its not too old) can tell you the preferred\naggregator for this package. We can also do the aggregator push, like my preferred\naggregators are say this list, then when I am fetching a package from your\n`fpm-repo`, I can tell the repo about that list, and tell `fpm-repo` to notify to\none of my preferred aggregators.\n\nAnyways, so we have a bunch of aggregators, or we have full blown IPFS infra,\nwhatever. We will now need our `fpm` to have a demon that will run in background\nand keep fetching stuff. All of this can be done by your `fpm-reader`.\n\n`fpm-reader` would be a service for consuming FPM packages. You can install other\npackages as dependency of a package you are building, but can also \"subscribe\" to\npackages via `fpm reader`, which can be running on your machine (as part of `fpm`\nbinary maybe), or on your Heroku/DigitalOcean instance if you have devops\nbandwidth, or you can buy it from a SAAS provider.\n\nIf you are using a cloud `fpm-reader` (meaning not running on your machine), your\n`fpm daemon` will connect with `fpm-reader` and get the updates via a web-socket/\npush mechanism.\n\nUpdate: Turns out [nostr](https://github.com/fiatjaf/nostr) describes the protocol\nvery close to what I had in my mind.",
    "dependencies": {}
  },
  "@body@0,16,1": {
    "value": "So we recently introduced this command, and currently it simply re-downloads all\nthe dependencies, which is fine for our demos and initial usability testing etc,\nbut clearly not something we want to eventually.\n\nWe are designing FPM infra to be as \"distributed\" as possible, this means we can\nnot have a central entity knowing the status of all the packages as is done by many\nother package managers.\n\nWe can poll, re-fetch each `<dependency>/FPM.ftd`, with etag handling etc, but this\nis still not great. How often to poll? On every `fpm` command invocation? Every\nminute/hr/day? Every time user says `fpm update`?\n\nSure. We can come up with some such scheme. But can we have some sort of middle\nground? Not central, yet we do not have to poll everyone? Poll is not great, we\nwant push, as soon as the package we are interested in is updated, say I opened my\nlaptop for a few minutes before catching a long flight, I would want my system to\nautomatically fetch all the latest updates. If in the last minute before I close\nthe lid there was an update to a package, I would want that to be available to me.\n\nPosing problem like this, no central, and yet want push, means we create a few, a\nfew hundred, thousand maybe \"central\" agents. Say there is a new component\n`fpm bastion`, probably using that word incorrectly, some sort of `fpm aggregator`,\nand say each package can pick say 10 of such aggregators. People can maintain fpm\naggregator lists, some will be available via `fpm.dev`, but say its down, under\nattack, sold out, there are others lists, and each package may include a list of\naggregators they know of so one can look at all aggregators from all the package\nthey currently have.\n\nSo there are so many aggregators. And they themselves are chatter boxes, gossiping\nwith each other. For each package they keep track of the `FPM.ftd` file. We can\nalways use public key infrastructure to ensure the `FPM.ftd` file I receive from\nan aggregator is trustworthy (they can lie about not giving me the latest update,\nbut they can not modify `FPM.ftd` without getting trivially detected).\n\nEach FPM package should pick a dozen or so aggregators from the list. And every\ntime there is an update, every time `fpm sync` runs, the content is uploaded to\n`fpm-repo` but also sent to aggregators.\n\nAggregators are chattering and they will communicate to others if any change has\nhappened. Aggregators may even be paid to give guarantees that they talk to\neveryone or that they have strong latency guarantees (the gap between an update\nhappening on any aggregator in world to this aggregator telling you it has\nhappened).\n\nWe will have to employ many techniques from distributed hash table literature and\nprior work. Maybe even use [IPFS etc](https://github.com/rs-ipfs/rust-ipfs) and\nnot re-invent things.\n\nOr we can go old fashioned, sort of reverse mail relay, DNS for any domain (or\ncurrent version of FPM.ftd if its not too old) can tell you the preferred\naggregator for this package. We can also do the aggregator push, like my preferred\naggregators are say this list, then when I am fetching a package from your\n`fpm-repo`, I can tell the repo about that list, and tell `fpm-repo` to notify to\none of my preferred aggregators.\n\nAnyways, so we have a bunch of aggregators, or we have full blown IPFS infra,\nwhatever. We will now need our `fpm` to have a demon that will run in background\nand keep fetching stuff. All of this can be done by your `fpm-reader`.\n\n`fpm-reader` would be a service for consuming FPM packages. You can install other\npackages as dependency of a package you are building, but can also \"subscribe\" to\npackages via `fpm reader`, which can be running on your machine (as part of `fpm`\nbinary maybe), or on your Heroku/DigitalOcean instance if you have devops\nbandwidth, or you can buy it from a SAAS provider.\n\nIf you are using a cloud `fpm-reader` (meaning not running on your machine), your\n`fpm daemon` will connect with `fpm-reader` and get the updates via a web-socket/\npush mechanism.\n\nUpdate: Turns out [nostr](https://github.com/fiatjaf/nostr) describes the protocol\nvery close to what I had in my mind.",
    "dependencies": {
      "0,0,0,12,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,161": {
    "value": "Shobhit just [implemented support ignoring files that `git`\nignores](https://github.com/FifthTry/fpm/commit/c9aded47ef26785a6d49949ddf8b71a09921b5dd).\nYou can also ignore more files by populating `fpm.ignore: string list` with\npatterns that are compatible with `.gitignore` file patterns.",
    "dependencies": {}
  },
  "@body@0,161,1": {
    "value": "Shobhit just [implemented support ignoring files that `git`\nignores](https://github.com/FifthTry/fpm/commit/c9aded47ef26785a6d49949ddf8b71a09921b5dd).\nYou can also ignore more files by populating `fpm.ignore: string list` with\npatterns that are compatible with `.gitignore` file patterns.",
    "dependencies": {
      "0,0,0,60,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,162": {
    "value": "FPM is for storing documentation and not software. Git is for storing software and\npeople also use it for storing documentation.",
    "dependencies": {}
  },
  "@body@0,162,1": {
    "value": "FPM is for storing documentation and not software. Git is for storing software and\npeople also use it for storing documentation.",
    "dependencies": {
      "0,0,0,61,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,163": {
    "value": "There is a problem with the way Git etc manages versioning that it is not a good\nsolution for storing documentation, in my opinion. Traditional \"source code\nmanagers\" create a new folder or a branch for managing versioning.\n\nSay you are working on django 1.0 and its time to create django 2.0, you create a\nnew branch for version 2.0 and start working on it.\n\nAt this point, the two branches have diverged. All new changes now go to the 2.0\nbranch. You may even make main or master follow the 2.0 branch. For all practical\nreasons, 1.0 has stopped. You will want to be good citizens and support 1.0,\nbackport some of the bug fixes, especially security fixes. In projects like Linux\npeople even backport whole features to older versions.\n\nBut back-porting is kind of extra work. Most people recommend and send a pull\nrequest against the latest main/master and the changes get included in the next\nrelease that is cut from main/master.",
    "dependencies": {}
  },
  "@body@0,163,1": {
    "value": "There is a problem with the way Git etc manages versioning that it is not a good\nsolution for storing documentation, in my opinion. Traditional \"source code\nmanagers\" create a new folder or a branch for managing versioning.\n\nSay you are working on django 1.0 and its time to create django 2.0, you create a\nnew branch for version 2.0 and start working on it.\n\nAt this point, the two branches have diverged. All new changes now go to the 2.0\nbranch. You may even make main or master follow the 2.0 branch. For all practical\nreasons, 1.0 has stopped. You will want to be good citizens and support 1.0,\nbackport some of the bug fixes, especially security fixes. In projects like Linux\npeople even backport whole features to older versions.\n\nBut back-porting is kind of extra work. Most people recommend and send a pull\nrequest against the latest main/master and the changes get included in the next\nrelease that is cut from main/master.",
    "dependencies": {
      "0,0,0,61,2,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,164": {
    "value": "Back-porting bug fixes and features are kind of hard. You have to verify software\nindeed works correctly. You have to write unit tests and verify there are no\nregressions. Software releases and continuous maintenance is work. It's kind of\nusually best to focus efforts on the latest version and update as soon as one can.\n\nDocumentation on the other hand is lot easier. There is no risk of documentation\nbreaking anything. Wrong documentation can still have consequences, no doubt about\nit, but they are rather rare, compared to software issues. Software is a lot more\nfragile compared to documentation.\n\nBy managing documentation like the software we are doing a dis-service. It's the\nwrong tool for the job.\n\nOne difference in documentation compared to software is that a lot of changes in\ndocumentation are not logical. Eg, if the original documentation said this function\ntakes three arguments and the new one says it takes four, this is a logical\ndifference. But if the original documentation was too terse, and new documentation\ngives more examples and explanations and how-tos, the documentation hasn't really\nchanged in a logical sense.\n\nIt's like refactor in software. We know refactor, should not cause any change in\nbehaviour of the software. But in software it's really hard to arrive at this\nconclusion, if someone sends a software refactor PR, it's really hard to say that\nwill really have no effect, that it's safe to merge.\n\nBut for documentation its almost trivial to see a PR and conclude that there is\nno real \"logical\" change, that it is just a better written tutorial and has not\nchanged anything fundamental.",
    "dependencies": {}
  },
  "@body@0,164,1": {
    "value": "Back-porting bug fixes and features are kind of hard. You have to verify software\nindeed works correctly. You have to write unit tests and verify there are no\nregressions. Software releases and continuous maintenance is work. It's kind of\nusually best to focus efforts on the latest version and update as soon as one can.\n\nDocumentation on the other hand is lot easier. There is no risk of documentation\nbreaking anything. Wrong documentation can still have consequences, no doubt about\nit, but they are rather rare, compared to software issues. Software is a lot more\nfragile compared to documentation.\n\nBy managing documentation like the software we are doing a dis-service. It's the\nwrong tool for the job.\n\nOne difference in documentation compared to software is that a lot of changes in\ndocumentation are not logical. Eg, if the original documentation said this function\ntakes three arguments and the new one says it takes four, this is a logical\ndifference. But if the original documentation was too terse, and new documentation\ngives more examples and explanations and how-tos, the documentation hasn't really\nchanged in a logical sense.\n\nIt's like refactor in software. We know refactor, should not cause any change in\nbehaviour of the software. But in software it's really hard to arrive at this\nconclusion, if someone sends a software refactor PR, it's really hard to say that\nwill really have no effect, that it's safe to merge.\n\nBut for documentation its almost trivial to see a PR and conclude that there is\nno real \"logical\" change, that it is just a better written tutorial and has not\nchanged anything fundamental.",
    "dependencies": {
      "0,0,0,61,3,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,165": {
    "value": "Currently, it's almost not possible to update django 1.0 documentation without also\ncreating a new release of django 1.0. And in that case, it no longer is updating\nthe documentation of django 1.0, it's updating documentation of django 1.0.1 or\nwhatever.",
    "dependencies": {}
  },
  "@body@0,165,1": {
    "value": "Currently, it's almost not possible to update django 1.0 documentation without also\ncreating a new release of django 1.0. And in that case, it no longer is updating\nthe documentation of django 1.0, it's updating documentation of django 1.0.1 or\nwhatever.",
    "dependencies": {
      "0,0,0,61,4,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,166": {
    "value": "Software is a lot of work. Core maintainers have to review every line like a hawk.\nTo ensure nothing is broken. That there is no edge case. No violation of any\ncontract etc.\n\nSo sending documentation only PR to review to them, especially to older versions\nof the software, it's almost going a bit too far, demanding too much from them.",
    "dependencies": {}
  },
  "@body@0,166,1": {
    "value": "Software is a lot of work. Core maintainers have to review every line like a hawk.\nTo ensure nothing is broken. That there is no edge case. No violation of any\ncontract etc.\n\nSo sending documentation only PR to review to them, especially to older versions\nof the software, it's almost going a bit too far, demanding too much from them.",
    "dependencies": {
      "0,0,0,61,5,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,167": {
    "value": "If we create a new branch for every new version of the software and keep the\ndocumentation along with software in that branch, we are basically creating a copy\nof every file for every version.\n\nSay you have a file `tutorial.txt`, there is one copy of this file in *every*\nversion branch. This is the root problem. Even if there is no change in\n`tutorial.txt`, we still copy it over.\n\nWe do, what can be called, copy-on-branch, instead of what should be:\ncopy-on-incompatible-change.\n\nLet's analyse django:",
    "dependencies": {}
  },
  "@body@0,167,1": {
    "value": "If we create a new branch for every new version of the software and keep the\ndocumentation along with software in that branch, we are basically creating a copy\nof every file for every version.\n\nSay you have a file `tutorial.txt`, there is one copy of this file in *every*\nversion branch. This is the root problem. Even if there is no change in\n`tutorial.txt`, we still copy it over.\n\nWe do, what can be called, copy-on-branch, instead of what should be:\ncopy-on-incompatible-change.\n\nLet's analyse django:",
    "dependencies": {
      "0,0,0,61,6,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,168": {
    "value": "git clone git@github.com:django/django.git\ncd django\npython t.py\n4.0rc1 37 72 27\nwc -l tags\n     312 tags",
    "dependencies": {
      "0,0,0,61,6,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,17": {
    "value": "31st Dec 2021\n\nWe have a feature that allows you to query SQLite databases. In general it is good\nfeature, if you have SQLite database, sure, go ahead and query it. But we call the\nquery processor `package-query`, because the original intent of that processor was\nto be able to query a special database that shows FPM package data. Our first\ndesign was to do a `build-package-database` that generates a `sqlite` file, and\nthen run queries on that sqlite file.\n\nThe main idea was we do not want to create our own query language or API, that's a\nlot of work, and new thing for people to learn, but we do want to expose rich data\nso people can make their documents smarter.\n\nTurns out there is a project, [GlueSQL](https://github.com/gluesql/gluesql):\n\n> GlueSQL is a SQL database library written in Rust.\n>\n> It provides a parser (sqlparser-rs), execution layer, and optional storages\n> (sled or memory) packaged into a single library.\n>\n> Developers can choose to use GlueSQL to build their own SQL database, or as an\n> embedded SQL database using the default storage engine.\n\nThis sounds like pretty much what we want, a SQL interface, but powered by our\ncustom logic.\n\nThe main reason to use it would not be just because we don't want sqlite\ndependency, or anything is wrong in sqlite, but because build is circular, you can\nnot create package data sqlite database from data in documents because some of\nthose data may be generated from a package query itself.\n\nNot sure what it entails when it comes to actually implementing it, but knowing\nthere is good starting point, we will not have to start from scratch means this\nsolution is now at least conceptually feasible.",
    "dependencies": {}
  },
  "@body@0,17,1": {
    "value": "31st Dec 2021\n\nWe have a feature that allows you to query SQLite databases. In general it is good\nfeature, if you have SQLite database, sure, go ahead and query it. But we call the\nquery processor `package-query`, because the original intent of that processor was\nto be able to query a special database that shows FPM package data. Our first\ndesign was to do a `build-package-database` that generates a `sqlite` file, and\nthen run queries on that sqlite file.\n\nThe main idea was we do not want to create our own query language or API, that's a\nlot of work, and new thing for people to learn, but we do want to expose rich data\nso people can make their documents smarter.\n\nTurns out there is a project, [GlueSQL](https://github.com/gluesql/gluesql):\n\n> GlueSQL is a SQL database library written in Rust.\n>\n> It provides a parser (sqlparser-rs), execution layer, and optional storages\n> (sled or memory) packaged into a single library.\n>\n> Developers can choose to use GlueSQL to build their own SQL database, or as an\n> embedded SQL database using the default storage engine.\n\nThis sounds like pretty much what we want, a SQL interface, but powered by our\ncustom logic.\n\nThe main reason to use it would not be just because we don't want sqlite\ndependency, or anything is wrong in sqlite, but because build is circular, you can\nnot create package data sqlite database from data in documents because some of\nthose data may be generated from a package query itself.\n\nNot sure what it entails when it comes to actually implementing it, but knowing\nthere is good starting point, we will not have to start from scratch means this\nsolution is now at least conceptually feasible.",
    "dependencies": {
      "0,0,0,13,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,171": {
    "value": "import sys\nimport hashlib\nimport subprocess\n\ndef main():\n    overview = set()\n    tutorial = set()\n    install = set()\n    for tag in get_tags():\n        checkout(tag)\n        overview.add(sha256sum(\"docs/intro/overview.txt\"))\n        tutorial.add(sha256sum(\"docs/intro/tutorial01.txt\"))\n        install.add(sha256sum(\"docs/intro/install.txt\"))\n        print(tag, len(overview), len(tutorial), len(install))\n\n\ndef checkout(tag):\n    subprocess.run([\"git\", \"checkout\", tag])\n\ndef get_tags():\n    return [t.strip() for t in open(\"tags\").readlines()]\n\ndef sha256sum(filename):\n    h  = hashlib.sha256()\n    b  = bytearray(128*1024)\n    mv = memoryview(b)\n    with open(filename, 'rb', buffering=0) as f:\n        for n in iter(lambda : f.readinto(mv), 0):\n            h.update(mv[:n])\n    return h.hexdigest()\n\nmain()",
    "dependencies": {
      "0,0,0,61,6,5,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,172": {
    "value": "As you can see, we have 312 tags, and therefore 312 copies of `overview.txt`,\n`tutorial01.txt` and `install.txt` but only 37, 72, and 27 unique content.\n\nIf `tutorial01.txt` is modified 72 times, we have to ask how many of those 72\n\"logical change\", meaning the tutorial was changed because something in django\nchanged, say some api was added or changed etc, and how many were \"English change\",\nimproving the doc.\n\nIf we do the analysis, we can bring down the number of unique copies of\n`tutorial01.txt` to even fewer than 72, maybe only 3 or 4 as django is pretty\nstable and the tutorial for django 2.0 is still applicable for django 4. Lets take\na look at the diff between django 3.0 and 4.0:",
    "dependencies": {
      "0,0,0,61,6,6:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,173": {
    "value": "--- 3.0.txt\t2021-12-08 19:33:26.000000000 +0530\n+++ 4.0.txt\t2021-12-08 19:31:37.000000000 +0530\n@@ -23,7 +23,7 @@\n If Django is installed, you should see the version of your installation. If it\n isn't, you'll get an error telling \"No module named django\".\n\n-This tutorial is written for Django |version|, which supports Python 3.6 and\n+This tutorial is written for Django |version|, which supports Python 3.8 and\n later. If the Django version doesn't match, you can refer to the tutorial for\n your version of Django by using the version switcher at the bottom right corner\n of this page, or update Django to the newest version. If you're using an older\n@@ -35,10 +35,8 @@",
    "dependencies": {
      "0,0,0,61,6,7,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,174": {
    "value": "This is technically a logical change. Though ideally this diff must not have\nexisted at all, they should have defined `|minimum-supported-python-version|` like\nthey have defined `|version|`. As much as possible documentation must used\nvariables etc, so they do not go out of date so easily or create such needless\ndiffs for humans to review.",
    "dependencies": {
      "0,0,0,61,6,8:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,175": {
    "value": "-    If you're having trouble going through this tutorial, please post a message\n-    to |django-users| or drop by `#django on irc.freenode.net\n-    <irc://irc.freenode.net/django>`_ to chat with other Django users who might\n-    be able to help.\n+    If you're having trouble going through this tutorial, please head over to\n+    the :doc:`Getting Help</faq/help>` section of the FAQ.",
    "dependencies": {
      "0,0,0,61,6,9,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,176": {
    "value": "Seems that they have stopped supporting the IRC. Now this must not have been a\ndjango 4.0 change, I mean they are not supporting IRC for any version of django,\nthis must have been a change in django 3.0 docs as well. Imagine how many people\nwould be using django 3.0 for so long, years and years, and they will all be going\nto IRC and they would be failing to get help, wasting time. Why? All because they\ndecide to create a new branch for versioning and not what they should have done\nas I will describe later.",
    "dependencies": {
      "0,0,0,61,6,10:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,177": {
    "value": "     If your background is in plain old PHP (with no use of modern frameworks),\n-    you're probably used to putting code under the Web server's document root\n+    you're probably used to putting code under the web server's document root\n     (in a place such as ``/var/www``). With Django, you don't do that. It's\n-    not a good idea to put any of this Python code within your Web server's\n+    not a good idea to put any of this Python code within your web server's\n     document root, because it risks the possibility that people may be able\n-    to view your code over the Web. That's not good for security.\n+    to view your code over the web. That's not good for security.",
    "dependencies": {
      "0,0,0,61,6,11,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,178": {
    "value": "Again, as you can see, absolutely no reason this is a change django 3.0 users\nshould not see, this is completely generic improvement applicable to all django\nversions.",
    "dependencies": {
      "0,0,0,61,6,12:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,179": {
    "value": "@@ -86,6 +84,7 @@\n             __init__.py\n             settings.py\n             urls.py\n+            asgi.py\n             wsgi.py\n\n These files are:\n@@ -113,6 +112,9 @@\n   \"table of contents\" of your Django-powered site. You can read more about\n   URLs in :doc:`/topics/http/urls`.\n\n+* :file:`mysite/asgi.py`: An entry-point for ASGI-compatible web servers to\n+  serve your project. See :doc:`/howto/deployment/asgi/index` for more details.\n+\n * :file:`mysite/wsgi.py`: An entry-point for WSGI-compatible web servers to\n   serve your project. See :doc:`/howto/deployment/wsgi/index` for more details.",
    "dependencies": {
      "0,0,0,61,6,13,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,18": {
    "value": "30th Dec 2021\n\nArpita has been relentless about translation support. After finishing the basic\nfeatures she is now focussing on data presentation. Some of the UIs that are ready.",
    "dependencies": {}
  },
  "@body@0,18,1": {
    "value": "30th Dec 2021\n\nArpita has been relentless about translation support. After finishing the basic\nfeatures she is now focussing on data presentation. Some of the UIs that are ready.",
    "dependencies": {
      "0,0,0,14,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,180": {
    "value": "Finally some real change that should exist. Sometime between 3 and 4 they seem to\nhave added `asgi.py` and this change must not have been back-ported to django 3.0\ndocs.",
    "dependencies": {
      "0,0,0,61,6,14:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,181": {
    "value": "@@ -146,16 +148,16 @@\n     Ignore the warning about unapplied database migrations for now; we'll deal\n     with the database shortly.\n\n-You've started the Django development server, a lightweight Web server written\n+You've started the Django development server, a lightweight web server written\n purely in Python. We've included this with Django so you can develop things\n rapidly, without having to deal with configuring a production server -- such as\n Apache -- until you're ready for production.\n\n Now's a good time to note: **don't** use this server in anything resembling a\n production environment. It's intended only for use while developing. (We're in\n-the business of making Web frameworks, not Web servers.)\n+the business of making web frameworks, not web servers.)\n\n-Now that the server's running, visit http://127.0.0.1:8000/ with your Web\n+Now that the server's running, visit http://127.0.0.1:8000/ with your web\n browser. You'll see a \"Congratulations!\" page, with a rocket taking off.\n It worked!\n\n@@ -204,16 +206,16 @@\n\n .. admonition:: Projects vs. apps\n\n-    What's the difference between a project and an app? An app is a Web\n-    application that does something -- e.g., a Weblog system, a database of\n+    What's the difference between a project and an app? An app is a web\n+    application that does something -- e.g., a blog system, a database of\n     public records or a small poll app. A project is a collection of\n     configuration and apps for a particular website. A project can contain\n     multiple apps. An app can be in multiple projects.\n\n Your apps can live anywhere on your :ref:`Python path <tut-searchpath>`. In\n-this tutorial, we'll create our poll app right next to your :file:`manage.py`\n-file so that it can be imported as its own top-level module, rather than a\n-submodule of ``mysite``.\n+this tutorial, we'll create our poll app in the same directory as your\n+:file:`manage.py` file so that it can be imported as its own top-level module,\n+rather than a submodule of ``mysite``.\n\n To create your app, make sure you're in the same directory as :file:`manage.py`\n and type this command:",
    "dependencies": {
      "0,0,0,61,6,15,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,182": {
    "value": "Again, all these changes must have gone to 3.0, or even 1.0 for that matter. As you\ncan see, of all the changes, only the `asgi.py` thing was actually a difference\nbetween django 3 and django 4, and that must have been the only diff we should have\nseen. Every other change should have been back ported to the earliest version.\n\nBut they can not because of the way they manage versioning.",
    "dependencies": {
      "0,0,0,61,6,16:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,183": {
    "value": "Instead of creating a copy of each file by branching (ah yes, sure, git internally\ndoesn't copy, but that's a git's internal detail, from human operator/user\nperspective it is a copy), we must have a single folder with all versions, one\nfolder for each version. But when creating a new version, we must not copy content\nof the current version, we must create an **empty** folder and rely on fallback\nlogic at documentation build time to fill in the files from the last versions.\n\nFor this we create a sparse tree, each version folder only contains a file if that\nfile is **logically** divergent from the corresponding file in the previous\nversion. One can even store just the diff, and maybe that is what we will end up\ndoing, but from data structure perspective thinking as if we have only stored the\ndiff is the right way to think about what I am suggesting.\n\nWith this requirement to only copy when there is a logical change, the number of\ncopies would go down, and humans can easily review if the change is indeed logical.\nFor that matter, humans may also realise that the change in the software itself\ncan be tweaked so this logical change is not needed (I mean if you are changing\nsomething you are forcing every user of your library to learn something new, and\nif with a small amount of effort you can ensure that no change is needed, no need\nfor hundreds and thousands of users to learn something new, isn't that small effort\nworth it? And it's not just users you are helping, if you have to maintain one less\ndiverged file, it will reduce the overall work you have to do in the lifetime of\nthe project while maintaining the highest quality documentation).",
    "dependencies": {}
  },
  "@body@0,183,1": {
    "value": "Instead of creating a copy of each file by branching (ah yes, sure, git internally\ndoesn't copy, but that's a git's internal detail, from human operator/user\nperspective it is a copy), we must have a single folder with all versions, one\nfolder for each version. But when creating a new version, we must not copy content\nof the current version, we must create an **empty** folder and rely on fallback\nlogic at documentation build time to fill in the files from the last versions.\n\nFor this we create a sparse tree, each version folder only contains a file if that\nfile is **logically** divergent from the corresponding file in the previous\nversion. One can even store just the diff, and maybe that is what we will end up\ndoing, but from data structure perspective thinking as if we have only stored the\ndiff is the right way to think about what I am suggesting.\n\nWith this requirement to only copy when there is a logical change, the number of\ncopies would go down, and humans can easily review if the change is indeed logical.\nFor that matter, humans may also realise that the change in the software itself\ncan be tweaked so this logical change is not needed (I mean if you are changing\nsomething you are forcing every user of your library to learn something new, and\nif with a small amount of effort you can ensure that no change is needed, no need\nfor hundreds and thousands of users to learn something new, isn't that small effort\nworth it? And it's not just users you are helping, if you have to maintain one less\ndiverged file, it will reduce the overall work you have to do in the lifetime of\nthe project while maintaining the highest quality documentation).",
    "dependencies": {
      "0,0,0,61,7,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,184": {
    "value": "7th Dec 2021\n\nYesterday I [started implementing SQLite\nsupport](https://github.com/FifthTry/fpm/commit/3c2662a6797495c7ead4b7b3bb9c431616b1bf00)\nfor FTD documents via `$processor$` mechanism of `ftd`. It was stuck on some\nmissing helper utilities in FTD, you can see the two functions at the end with\n`todo!()` as their body.\n\nToday Arpita is feeling a bit better from the cold, and she has created [PR\nimplementing those functions in ftd](https://github.com/FifthTry/ftd/pull/24). She\ncan't not work even when down it seems!\n\nOn that change landed I got the [`$processor$: package-query`\nworking](https://github.com/FifthTry/fpm/commit/89d8ba1d1d5f93b5f8b58e306dd8b6b8965f1fb5).\nUpdate the [documentation](/fpm/package-query/) as well.\n\nDuring implementation, I found out that [`serde-json` support for\nrusqlite](https://docs.rs/rusqlite/0.26.1/rusqlite/types/trait.FromSql.html#impl-FromSql-for-Value) is\nactually, umm, not sure what word to use, not buggy per se, but kind of not as\nuseful as I first thought it would be. It converts only the text field to\n`serde_json::Value`, when other fields like integer, float etc can also be easily\nconverted to `serde_json::Value`. I implemented a [simple converter for other\nsqlite data types as well](https://github.com/FifthTry/fpm/blob/53492bb14f16983569184f0acfd9c1f45ddf1c32/src/library/sqlite.rs#L102-L108).\n\nWe are not done yet. We need the ability to pass parameters to queries. Also, those\nparameters should be able to refer to other ftd variables. And finally, we should\nbe able to read into more types, currently, we only read into records and a list of\nrecords.",
    "dependencies": {}
  },
  "@body@0,184,1": {
    "value": "7th Dec 2021\n\nYesterday I [started implementing SQLite\nsupport](https://github.com/FifthTry/fpm/commit/3c2662a6797495c7ead4b7b3bb9c431616b1bf00)\nfor FTD documents via `$processor$` mechanism of `ftd`. It was stuck on some\nmissing helper utilities in FTD, you can see the two functions at the end with\n`todo!()` as their body.\n\nToday Arpita is feeling a bit better from the cold, and she has created [PR\nimplementing those functions in ftd](https://github.com/FifthTry/ftd/pull/24). She\ncan't not work even when down it seems!\n\nOn that change landed I got the [`$processor$: package-query`\nworking](https://github.com/FifthTry/fpm/commit/89d8ba1d1d5f93b5f8b58e306dd8b6b8965f1fb5).\nUpdate the [documentation](/fpm/package-query/) as well.\n\nDuring implementation, I found out that [`serde-json` support for\nrusqlite](https://docs.rs/rusqlite/0.26.1/rusqlite/types/trait.FromSql.html#impl-FromSql-for-Value) is\nactually, umm, not sure what word to use, not buggy per se, but kind of not as\nuseful as I first thought it would be. It converts only the text field to\n`serde_json::Value`, when other fields like integer, float etc can also be easily\nconverted to `serde_json::Value`. I implemented a [simple converter for other\nsqlite data types as well](https://github.com/FifthTry/fpm/blob/53492bb14f16983569184f0acfd9c1f45ddf1c32/src/library/sqlite.rs#L102-L108).\n\nWe are not done yet. We need the ability to pass parameters to queries. Also, those\nparameters should be able to refer to other ftd variables. And finally, we should\nbe able to read into more types, currently, we only read into records and a list of\nrecords.",
    "dependencies": {
      "0,0,0,62,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,185": {
    "value": "So we have reasonable `sync`/`status`/`diff` working now. We are going to soon\nimplement \"ad hoc tracking\", basically a `.track` folder that contains `foo.track`\nlike file for each `foo.ftd` file. `status`/`diff` will look into the `.track` file\nfor any file and see if they are up to date with respect to the files being\ntracked.\n\nOnce we have ad-hoc tracking, we are going to work on translation tracking, where\na package would be able to designate itself to be a translation of another package\nusing `translation-of` key in `FPM.ftd`. When a package tracks another package like\nthis it means two things.",
    "dependencies": {}
  },
  "@body@0,185,1": {
    "value": "So we have reasonable `sync`/`status`/`diff` working now. We are going to soon\nimplement \"ad hoc tracking\", basically a `.track` folder that contains `foo.track`\nlike file for each `foo.ftd` file. `status`/`diff` will look into the `.track` file\nfor any file and see if they are up to date with respect to the files being\ntracked.\n\nOnce we have ad-hoc tracking, we are going to work on translation tracking, where\na package would be able to designate itself to be a translation of another package\nusing `translation-of` key in `FPM.ftd`. When a package tracks another package like\nthis it means two things.",
    "dependencies": {
      "0,0,0,63,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,186": {
    "value": "All files of the translation package are assumed to be tracking the corresponding\nfile for the original package being translated.\n\nIn ad-hoc tracking, you have to explicitly add tracking information using planned\n`fpm a tracks b` command. But with translation, tracking relationships are\nimplicitly assumed.",
    "dependencies": {}
  },
  "@body@0,186,1": {
    "value": "All files of the translation package are assumed to be tracking the corresponding\nfile for the original package being translated.\n\nIn ad-hoc tracking, you have to explicitly add tracking information using planned\n`fpm a tracks b` command. But with translation, tracking relationships are\nimplicitly assumed.",
    "dependencies": {
      "0,0,0,63,2,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,187": {
    "value": "It also means that if a file is absent in the translation package, the corresponding\nfile from the original package is built.\n\nSo to create a translation of another package, you can create an empty package, and\nall files of original would be the content of the translation package. And then\nyou can start translating one file at a time by copying over just that file, so you\ndo not have to litter your package with files that are just plain copies.",
    "dependencies": {}
  },
  "@body@0,187,1": {
    "value": "It also means that if a file is absent in the translation package, the corresponding\nfile from the original package is built.\n\nSo to create a translation of another package, you can create an empty package, and\nall files of original would be the content of the translation package. And then\nyou can start translating one file at a time by copying over just that file, so you\ndo not have to litter your package with files that are just plain copies.",
    "dependencies": {
      "0,0,0,63,3,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,188": {
    "value": "So we have translation tracking, which means we know if a file is up to date with\nthe corresponding file in original package, translation is complete for that file,\nbut what if it's not up to date? Or even it was never finished? What if you just\ncreated the translation file, have only translated the heading, what should we show\nin those cases?\n\nSo far, given a file `a.ftd`, we convert it to `a.html` and that's it. But now for\na file `translated:a.ftd` we have `original:a.ftd`. So we have to consider two\nfiles when generating `a.html`. In simple case, where `translated:a.ftd` is \"up to\ndate\", we render `translated:a.ftd` and that is that. But if `translated:a.ftd` is\nmissing or not up to date, we have to include the content of both (and two\npotential diffs, diff of `original:a.ftd` from the date `translated:a.ftd` was last\nmarked up to date by a human being, to the latest `original:a.ftd`, and diff of\n`translated:a.ftd` when and if it was marked updated date last to latest).\n\nSo we have two ftd files and two diffs, and possibly some metadata to include in\nthe generated `a.html`. We also need some JS to let people switch between\npotentially out of date or incomplete translation and the original version. And we\nneed an area to show some out of date warnings, and some UI to show/hide the two\ndiffs.",
    "dependencies": {}
  },
  "@body@0,188,1": {
    "value": "So we have translation tracking, which means we know if a file is up to date with\nthe corresponding file in original package, translation is complete for that file,\nbut what if it's not up to date? Or even it was never finished? What if you just\ncreated the translation file, have only translated the heading, what should we show\nin those cases?\n\nSo far, given a file `a.ftd`, we convert it to `a.html` and that's it. But now for\na file `translated:a.ftd` we have `original:a.ftd`. So we have to consider two\nfiles when generating `a.html`. In simple case, where `translated:a.ftd` is \"up to\ndate\", we render `translated:a.ftd` and that is that. But if `translated:a.ftd` is\nmissing or not up to date, we have to include the content of both (and two\npotential diffs, diff of `original:a.ftd` from the date `translated:a.ftd` was last\nmarked up to date by a human being, to the latest `original:a.ftd`, and diff of\n`translated:a.ftd` when and if it was marked updated date last to latest).\n\nSo we have two ftd files and two diffs, and possibly some metadata to include in\nthe generated `a.html`. We also need some JS to let people switch between\npotentially out of date or incomplete translation and the original version. And we\nneed an area to show some out of date warnings, and some UI to show/hide the two\ndiffs.",
    "dependencies": {
      "0,0,0,63,4,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,189": {
    "value": "Now that we have more than the content of an `ftd` file to render in any generated\n`.html` file, we have to ask ourselves if we should split our UI into two logical\narea, an area completely controlled by end user using ftd, and another for the\nspecial stuff, like translation out of date messaging?\n\nTomorrow we will have more stuff, like when we add versioning support, we would\nwant to show \"you are looking at the old version, jump to the latest version\" eg\ndocs.rs etc, but then if you are seeing a specific version, you want to see two\ndiffs as well: diff of what changed in this precise release, so diff from the last\nversion to this version, and diff of this version with the latest version. It would\nbe good if these two bits of info were available at a fingertip without doing\ncomplex git diff incantations.\n\nFor both versioning and translation, we need to show some sort of \"switcher\", go to\nanother language or version of this document.\n\nWe can do these by special variables. We can expect each \"theme\" to know about\nthese special variables, and the theme author can include the UI in the most\nlogical place.\n\nWe can also create a dedicated \"document info\" area, say a banner at the top, and\nthen theme does not need to bother with all that.\n\nWe can even let people customise say `FPM/document-info.ftd` file whose content\nwould be included in the special area.\n\nAnd finally, we can let these writers specify that they have indeed included the\ndocument info in the theme itself and `fpm` should not show\n`FPM/document-info.ftd`, maybe we inherit `FPM/document-info` from the theme and\nlet the theme set it to an empty file?\n\nThere is a little complexity when an FTD document basically says unload me and load\nsome other document. We do not have an FTD way to do this yet. Not sure if it's a\ngood idea.\n\nThe thing is this is a lot of complexity and a lot of potential changes, at least\nin the early days, leaving it for each theme to individually manage would be a bad\nidea as then the confidence with which you can switch theme will go down as you\nwill have to verify more things, and not just the look and feel of a theme.",
    "dependencies": {}
  },
  "@body@0,189,1": {
    "value": "Now that we have more than the content of an `ftd` file to render in any generated\n`.html` file, we have to ask ourselves if we should split our UI into two logical\narea, an area completely controlled by end user using ftd, and another for the\nspecial stuff, like translation out of date messaging?\n\nTomorrow we will have more stuff, like when we add versioning support, we would\nwant to show \"you are looking at the old version, jump to the latest version\" eg\ndocs.rs etc, but then if you are seeing a specific version, you want to see two\ndiffs as well: diff of what changed in this precise release, so diff from the last\nversion to this version, and diff of this version with the latest version. It would\nbe good if these two bits of info were available at a fingertip without doing\ncomplex git diff incantations.\n\nFor both versioning and translation, we need to show some sort of \"switcher\", go to\nanother language or version of this document.\n\nWe can do these by special variables. We can expect each \"theme\" to know about\nthese special variables, and the theme author can include the UI in the most\nlogical place.\n\nWe can also create a dedicated \"document info\" area, say a banner at the top, and\nthen theme does not need to bother with all that.\n\nWe can even let people customise say `FPM/document-info.ftd` file whose content\nwould be included in the special area.\n\nAnd finally, we can let these writers specify that they have indeed included the\ndocument info in the theme itself and `fpm` should not show\n`FPM/document-info.ftd`, maybe we inherit `FPM/document-info` from the theme and\nlet the theme set it to an empty file?\n\nThere is a little complexity when an FTD document basically says unload me and load\nsome other document. We do not have an FTD way to do this yet. Not sure if it's a\ngood idea.\n\nThe thing is this is a lot of complexity and a lot of potential changes, at least\nin the early days, leaving it for each theme to individually manage would be a bad\nidea as then the confidence with which you can switch theme will go down as you\nwill have to verify more things, and not just the look and feel of a theme.",
    "dependencies": {
      "0,0,0,63,5,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,19": {
    "value": "For package in original language (which is being translated in other languages), we\ncreate a translation status page now. The URL is\n`<domain>/FPM/translation-status/`, eg\n[arpita-jaiswal.github.io/vivekanand/FPM/translation-status/](https://arpita-jaiswal.github.io/vivekanand/FPM/translation-status/),\nwhich looks like this (screenshot added to capture current state, it so we can see\nthe progress):",
    "dependencies": {}
  },
  "@body@0,19,1": {
    "value": "For package in original language (which is being translated in other languages), we\ncreate a translation status page now. The URL is\n`<domain>/FPM/translation-status/`, eg\n[arpita-jaiswal.github.io/vivekanand/FPM/translation-status/](https://arpita-jaiswal.github.io/vivekanand/FPM/translation-status/),\nwhich looks like this (screenshot added to capture current state, it so we can see\nthe progress):",
    "dependencies": {
      "0,0,0,14,2,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,190": {
    "value": "6th Dec 2021\n\nJay has created a logo that we kind of like, and some initial design for our\nhomepage:",
    "dependencies": {}
  },
  "@body@0,190,1": {
    "value": "6th Dec 2021\n\nJay has created a logo that we kind of like, and some initial design for our\nhomepage:",
    "dependencies": {
      "0,0,0,64,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,191": {
    "value": "This is still under works.",
    "dependencies": {}
  },
  "@body@0,191,2": {
    "value": "This is still under works.",
    "dependencies": {
      "0,0,0,64,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,192": {
    "value": "Since we are anyways going to implement some sqlite support for [package\ndatabase](/fpm/~/16/), we may as well let people include arbitrary sqlite files in\nthe package, and let people do arbitrary SQL queries on top of any of the sqlite\ndatabases in the package or any package that is a dependency of this package.\n\n[Change Request](/fpm/~/26/).\n\n[Partially implemented `$processor$:\npackage-query`](https://github.com/FifthTry/fpm/commit/3c2662a6797495c7ead4b7b3bb9c431616b1bf00).\nNeed two methods in `ftd` crate, waiting for Arpita to get better and implement\nthem.",
    "dependencies": {}
  },
  "@body@0,192,1": {
    "value": "Since we are anyways going to implement some sqlite support for [package\ndatabase](/fpm/~/16/), we may as well let people include arbitrary sqlite files in\nthe package, and let people do arbitrary SQL queries on top of any of the sqlite\ndatabases in the package or any package that is a dependency of this package.\n\n[Change Request](/fpm/~/26/).\n\n[Partially implemented `$processor$:\npackage-query`](https://github.com/FifthTry/fpm/commit/3c2662a6797495c7ead4b7b3bb9c431616b1bf00).\nNeed two methods in `ftd` crate, waiting for Arpita to get better and implement\nthem.",
    "dependencies": {
      "0,0,0,65,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,193": {
    "value": "Recently I implemented `$processor$: http`, which paves the way for almost fully\nfledged [\"dynamic\"/data drive documents](///www.fifthtry.com/fpm/~/20/). To really\nexpose this feature, we can implement arbitrary URL handing, currently only the\nURLs corresponding to actual FTD files is available, this is too limiting as we can\nnot have author page for example, where we need a URL for each author, and author\nlist maybe in a table, or spread all over ftd documents.\n\nWith a `FPM/URLs.ftd`, we can define URL patterns that can contain dynamic data, eg\n`/<username>/` etc. We can map each URL pattern to a FTD file, and the file can\nextract the data by defining a schema (eg a record), where the fields of record\nwould be populated by URL query parameters, URL fragments (eg `username`) here, or\neven request body if its available.\n\nWe will sometime need redirect etc, eg if you need login to access something, or\nif the page has moved etc. So we need a mechanism to early return, currently its\nnot possible in a FTD document to let a document say we are done processing the\npage. At least we can have some standard variable, eg `fpm.redirect-url`, which\nwhen set, FPM will ignore the document and return the content of `fpm.redirect-url`\ninstead, along with some instruction to `fpm.js` to update the URL displayed in\nbrowser.\n\nThis is almost the design of [`realm`](///www.amitu.com/realm/). Once I wrote that\nI realised we also need an equivalent of \"realm actions\", and turned out the design\nis really easy. Wrote about it in another CR: [fpm\nactions](///www.fifthtry.com/fpm/~/24/).\n\nThe key element of actions is now we need a `fpm.js`, which will have some\nbehaviour, and this paves the way for [fpm client\nvariables](///www.fifthtry.com/fpm/~/25/).",
    "dependencies": {}
  },
  "@body@0,193,1": {
    "value": "Recently I implemented `$processor$: http`, which paves the way for almost fully\nfledged [\"dynamic\"/data drive documents](///www.fifthtry.com/fpm/~/20/). To really\nexpose this feature, we can implement arbitrary URL handing, currently only the\nURLs corresponding to actual FTD files is available, this is too limiting as we can\nnot have author page for example, where we need a URL for each author, and author\nlist maybe in a table, or spread all over ftd documents.\n\nWith a `FPM/URLs.ftd`, we can define URL patterns that can contain dynamic data, eg\n`/<username>/` etc. We can map each URL pattern to a FTD file, and the file can\nextract the data by defining a schema (eg a record), where the fields of record\nwould be populated by URL query parameters, URL fragments (eg `username`) here, or\neven request body if its available.\n\nWe will sometime need redirect etc, eg if you need login to access something, or\nif the page has moved etc. So we need a mechanism to early return, currently its\nnot possible in a FTD document to let a document say we are done processing the\npage. At least we can have some standard variable, eg `fpm.redirect-url`, which\nwhen set, FPM will ignore the document and return the content of `fpm.redirect-url`\ninstead, along with some instruction to `fpm.js` to update the URL displayed in\nbrowser.\n\nThis is almost the design of [`realm`](///www.amitu.com/realm/). Once I wrote that\nI realised we also need an equivalent of \"realm actions\", and turned out the design\nis really easy. Wrote about it in another CR: [fpm\nactions](///www.fifthtry.com/fpm/~/24/).\n\nThe key element of actions is now we need a `fpm.js`, which will have some\nbehaviour, and this paves the way for [fpm client\nvariables](///www.fifthtry.com/fpm/~/25/).",
    "dependencies": {
      "0,0,0,66,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,194": {
    "value": "Some variables can only be computed by client. So we need to ship a `fpm.js`, which\nwill compute them, and pass them to FTD. Some of these variables would also change\nduring the lifetime of the page.\n\n`fpm.js` will also do some browser history control, for managing server side\n\"internal redirect\", and `fpm actions`.",
    "dependencies": {}
  },
  "@body@0,194,1": {
    "value": "Some variables can only be computed by client. So we need to ship a `fpm.js`, which\nwill compute them, and pass them to FTD. Some of these variables would also change\nduring the lifetime of the page.\n\n`fpm.js` will also do some browser history control, for managing server side\n\"internal redirect\", and `fpm actions`.",
    "dependencies": {
      "0,0,0,67,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,195": {
    "value": "5th Dec 2021\n\nArpita has been on fire, implemented these three commands. This makes `fpm` puts\nsome \"version control\" features in `fpm`. Our goal is not become simplified git,\nwe definitely take a lot of inspiration from them, but more like advance\nDropbox/iCloud.\n\n`fpm repo` is needed before we can really call ourselves version control or compare\nourselves with Dropbox/iCloud etc. But if you are using Dropbox/iCloud, you can\nalready benefit from these commands.\n\nOur goal now is to implement [`adhoc tracking`](/fpm/~/12/), and get to\n[`translation tracking`](/fpm/~/3/).",
    "dependencies": {}
  },
  "@body@0,195,1": {
    "value": "5th Dec 2021\n\nArpita has been on fire, implemented these three commands. This makes `fpm` puts\nsome \"version control\" features in `fpm`. Our goal is not become simplified git,\nwe definitely take a lot of inspiration from them, but more like advance\nDropbox/iCloud.\n\n`fpm repo` is needed before we can really call ourselves version control or compare\nourselves with Dropbox/iCloud etc. But if you are using Dropbox/iCloud, you can\nalready benefit from these commands.\n\nOur goal now is to implement [`adhoc tracking`](/fpm/~/12/), and get to\n[`translation tracking`](/fpm/~/3/).",
    "dependencies": {
      "0,0,0,68,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,196": {
    "value": "5th Dec 2021\n\nWe implemented [these two processors](/fpm/processors/). TOC processor helps you\nwhen you are trying to create navigation bars, or table of content of your FPM\nsite (this is not the intra page TOC, which we still do not know how to implement).\n\n`$processor$: http` lets you fetch data from any HTTP endpoint that returns JSON\nwhen rendering a FTD document. It opens up massive opportunities, you can fetch\ndata from all sorts of places, data driven graphs and tables etc can be created.",
    "dependencies": {}
  },
  "@body@0,196,1": {
    "value": "5th Dec 2021\n\nWe implemented [these two processors](/fpm/processors/). TOC processor helps you\nwhen you are trying to create navigation bars, or table of content of your FPM\nsite (this is not the intra page TOC, which we still do not know how to implement).\n\n`$processor$: http` lets you fetch data from any HTTP endpoint that returns JSON\nwhen rendering a FTD document. It opens up massive opportunities, you can fetch\ndata from all sorts of places, data driven graphs and tables etc can be created.",
    "dependencies": {
      "0,0,0,69,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,197": {
    "value": "4th Dec 2021\n\nWe just added font support. This allows people to use custom fonts with FTD/FPM.\n\nYou can specify the fonts you want loaded in [`FPM.ftd`](/fpm/FPM/) file.",
    "dependencies": {}
  },
  "@body@0,197,1": {
    "value": "4th Dec 2021\n\nWe just added font support. This allows people to use custom fonts with FTD/FPM.\n\nYou can specify the fonts you want loaded in [`FPM.ftd`](/fpm/FPM/) file.",
    "dependencies": {
      "0,0,0,70,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,198": {
    "value": "3rd Dec 2021\n\nShobhit added support for adding package dependency, and fetching dependencies from\nGithub or any tar file. We store the dependencies in `.packages`.\n\nLots still pending, recursive package dependency, or any way to update a package,\nlooking for packages in FPM_HOME, but its exciting to have this feature land so\nsoon.",
    "dependencies": {}
  },
  "@body@0,198,1": {
    "value": "3rd Dec 2021\n\nShobhit added support for adding package dependency, and fetching dependencies from\nGithub or any tar file. We store the dependencies in `.packages`.\n\nLots still pending, recursive package dependency, or any way to update a package,\nlooking for packages in FPM_HOME, but its exciting to have this feature land so\nsoon.",
    "dependencies": {
      "0,0,0,71,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,199": {
    "value": "1st Dec 2021\n\nWrote about the design of [package database](/fpm/~/16/), basically a sqlite\ndatabase that we will maintain in the initial phase of `fpm build`, and a way to\nquery that database to get data stored in different ftd documents that are part\nof the FPM package.\n\nThis can make fpm packages the ideal data sharing format. You can have data\nauthored in FTD, and packaged as FPM package, along with some UI code, and publish\nthem to `fpm repo`. And then other packages can have a dependency on the original\ndata package, fpm will download the data, and they can do something more with it,\ncreate more visualisations, augment data even more using `$processors$` etc, and\nmaybe publish that package again for other to consume.",
    "dependencies": {}
  },
  "@body@0,199,1": {
    "value": "1st Dec 2021\n\nWrote about the design of [package database](/fpm/~/16/), basically a sqlite\ndatabase that we will maintain in the initial phase of `fpm build`, and a way to\nquery that database to get data stored in different ftd documents that are part\nof the FPM package.\n\nThis can make fpm packages the ideal data sharing format. You can have data\nauthored in FTD, and packaged as FPM package, along with some UI code, and publish\nthem to `fpm repo`. And then other packages can have a dependency on the original\ndata package, fpm will download the data, and they can do something more with it,\ncreate more visualisations, augment data even more using `$processors$` etc, and\nmaybe publish that package again for other to consume.",
    "dependencies": {
      "0,0,0,72,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,20": {
    "value": "Here we are seeing the status of the original language, which is English. We see\nthat the English FPM package was last modified on `2021-12-29T20:55` and has 13\ndocuments.\n\nWe see that it is translated in 2 languages, `hi`, 2 letter ISO 639-1 code for\nHindi, and `gu`, Gujarati. For each language we see how many of original 13\ndocuments are \"Partially? translated but **Never Marked** up to date\", \"**Missing**\n(translation not yet started)\", \"Translated was done at some point by is now\n**Out-Dated**\", and \"Up-to Date\". We also see when was any of the packages last\nmodified.\n\nThis gives a very good overall picture of the project. We plan to add word counts\ntoo as progress of library work, which is what FPM packages contain often, are\nbetter tracked by word counts, not file counts.\n\nWe have to try to strike a balance between too much data making the UI confusing vs\ntoo little data leading to people having to click around more than necessary to get\nthe information at a glance. We will have to do usability testing, engage with\nproper UX people etc. But its a good start, quite happy with it.",
    "dependencies": {}
  },
  "@body@0,20,2": {
    "value": "Here we are seeing the status of the original language, which is English. We see\nthat the English FPM package was last modified on `2021-12-29T20:55` and has 13\ndocuments.\n\nWe see that it is translated in 2 languages, `hi`, 2 letter ISO 639-1 code for\nHindi, and `gu`, Gujarati. For each language we see how many of original 13\ndocuments are \"Partially? translated but **Never Marked** up to date\", \"**Missing**\n(translation not yet started)\", \"Translated was done at some point by is now\n**Out-Dated**\", and \"Up-to Date\". We also see when was any of the packages last\nmodified.\n\nThis gives a very good overall picture of the project. We plan to add word counts\ntoo as progress of library work, which is what FPM packages contain often, are\nbetter tracked by word counts, not file counts.\n\nWe have to try to strike a balance between too much data making the UI confusing vs\ntoo little data leading to people having to click around more than necessary to get\nthe information at a glance. We will have to do usability testing, engage with\nproper UX people etc. But its a good start, quite happy with it.",
    "dependencies": {
      "0,0,0,14,2,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,200": {
    "value": "Shobhit is working full time on FPM now. We managed to nail down quite a bit of\nour design now.",
    "dependencies": {}
  },
  "@body@0,200,1": {
    "value": "Shobhit is working full time on FPM now. We managed to nail down quite a bit of\nour design now.",
    "dependencies": {
      "0,0,0,73,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,201": {
    "value": "Finally we can start using `fpm`. We have created a template repo:\n[FifthTry/fpm-blog](https://github.com/FifthTry/fpm-blog), [rendered\nversion](https://fifthtry.github.io/fpm-blog/), which shows how to create a blog\nusing FTD and FPM.",
    "dependencies": {}
  },
  "@body@0,201,1": {
    "value": "Finally we can start using `fpm`. We have created a template repo:\n[FifthTry/fpm-blog](https://github.com/FifthTry/fpm-blog), [rendered\nversion](https://fifthtry.github.io/fpm-blog/), which shows how to create a blog\nusing FTD and FPM.",
    "dependencies": {
      "0,0,0,73,2,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,202": {
    "value": "Me and Arpita recorded a detailed design review of FPM.",
    "dependencies": {}
  },
  "@body@0,202,1": {
    "value": "Me and Arpita recorded a detailed design review of FPM.",
    "dependencies": {
      "0,0,0,73,3,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,204": {
    "value": "25th Nov 2021\n\nWe have started working on this project now. We have written design docs for quite\na few elements:\n\n- `fpm build`: [file system organization](/fpm/~/1/)\n- [logical linking](/fpm/~/2/)\n- [translation tracking](/fpm/~/3/)\n- [version tracking](/fpm/~/5/)\n- [history tracking](/fpm/~/4/)\n- [cr tracking](/fpm/~/6/)\n- [upstream tracking: two way sync](/fpm/~/7/)\n- [`fpm-repo` authentication](/fpm/~/8/)\n- [package dependencies](/fpm/~/9/)\n- [access control](/fpm/~/10/)\n\n[Shobhit](https://github.com/sharmashobit) is taking the lead of implementing this.\nWe are hoping to create a minimal version that can convert ftd files to HTML so\n`fpm` can be considered an alternative to static site generators.",
    "dependencies": {}
  },
  "@body@0,204,1": {
    "value": "25th Nov 2021\n\nWe have started working on this project now. We have written design docs for quite\na few elements:\n\n- `fpm build`: [file system organization](/fpm/~/1/)\n- [logical linking](/fpm/~/2/)\n- [translation tracking](/fpm/~/3/)\n- [version tracking](/fpm/~/5/)\n- [history tracking](/fpm/~/4/)\n- [cr tracking](/fpm/~/6/)\n- [upstream tracking: two way sync](/fpm/~/7/)\n- [`fpm-repo` authentication](/fpm/~/8/)\n- [package dependencies](/fpm/~/9/)\n- [access control](/fpm/~/10/)\n\n[Shobhit](https://github.com/sharmashobit) is taking the lead of implementing this.\nWe are hoping to create a minimal version that can convert ftd files to HTML so\n`fpm` can be considered an alternative to static site generators.",
    "dependencies": {
      "0,0,0,74,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,21": {
    "value": "So you saw overall status of translations across all languages, but you would want\nto dig deep and see more details for any language. For this we have Language Detail\nPage, which has the URL: `<domain-of-translation>/FPM/translation-status/`. Not\ntoo fond of naming the page \"Language Detail Page\" but the URL containing\n\"translation-status\" when we already have another page called \"Translation Status\nPage\". But I like the URLs too, its technically translation status of that\nlanguage, but what do call it then, \"Translation Status Of Translation Page\"? That\nwould be monstrosity, \"Language Detail Page\" seems obvious.\n\nAnyways, so this is how say Hindi version of\n[arpita-jaiswal.github.io/vivekanand-hi/FPM/translation-status/](https://arpita-jaiswal.github.io/vivekanand-hi/FPM/translation-status/)\nlooks like:",
    "dependencies": {}
  },
  "@body@0,21,1": {
    "value": "So you saw overall status of translations across all languages, but you would want\nto dig deep and see more details for any language. For this we have Language Detail\nPage, which has the URL: `<domain-of-translation>/FPM/translation-status/`. Not\ntoo fond of naming the page \"Language Detail Page\" but the URL containing\n\"translation-status\" when we already have another page called \"Translation Status\nPage\". But I like the URLs too, its technically translation status of that\nlanguage, but what do call it then, \"Translation Status Of Translation Page\"? That\nwould be monstrosity, \"Language Detail Page\" seems obvious.\n\nAnyways, so this is how say Hindi version of\n[arpita-jaiswal.github.io/vivekanand-hi/FPM/translation-status/](https://arpita-jaiswal.github.io/vivekanand-hi/FPM/translation-status/)\nlooks like:",
    "dependencies": {
      "0,0,0,14,3,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,22": {
    "value": "We are showing the total number of documents in original package (currently it\nshould have shown 13, seems there is a bug), we will also show that this is the\ntranslation of \"Addresses at The Parliament of Religions\", which is in `en`, and\nlink back to Translation Status page shown earlier. Maybe we should show the last\ndate on which `English` was modified. Maybe we should show `5 / 13` to track\nthings.\n\nWe then list all the document, currently their `document-id`, but soon we will show\nthe `document-title` and `document-title-original` also (with decent non cluttered\nUI, maybe tooltips etc. We have to show timestamp of when the original was last\nmodified and when the translation was last modified also in this table.",
    "dependencies": {}
  },
  "@body@0,22,2": {
    "value": "We are showing the total number of documents in original package (currently it\nshould have shown 13, seems there is a bug), we will also show that this is the\ntranslation of \"Addresses at The Parliament of Religions\", which is in `en`, and\nlink back to Translation Status page shown earlier. Maybe we should show the last\ndate on which `English` was modified. Maybe we should show `5 / 13` to track\nthings.\n\nWe then list all the document, currently their `document-id`, but soon we will show\nthe `document-title` and `document-title-original` also (with decent non cluttered\nUI, maybe tooltips etc. We have to show timestamp of when the original was last\nmodified and when the translation was last modified also in this table.",
    "dependencies": {
      "0,0,0,14,3,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,23": {
    "value": "The `Translation Status Page` is built as part of original language `fpm package`\nand `Language Detail Page` is built as part of each translation. But they\ntranslation status page depends on data of all translations, and language detail\npage depends on data of the current language and the original language package.\n\nWhich means if they are not periodically rebuilt, or better built in some event\ndrive way (we know what package we depend on, what if we also knew what packages\ndepend on me, and I could tell each of them hey I have changed!, or maybe we can\nstill have a central repository, or maybe even say\n[orbit-db](https://github.com/orbitdb/orbit-db) etc which only keeps track of which\npackage was last built at what time, so we can auto refresh the entire page or\njust the `translation-status.html` file.\n\nOther approach could be we do client side fetching of `FPM.ftd` file, so when you\ngo to Translation Status Page, we show the last built version but we then download\n`FPM.ftd` for each of the translations, and recompute the data.\n\nI am not too happy with the frontend approach, every single visitor will\nre-download everything, think about the global warming people, FPM is trying to be\nnetwork resilient, if we create multi-planetary civilisations, HTTP based lets just\nfetch what we want when we want won't work, and such federated, change when needed,\nshow stale but refresh etc approaches would be needed.",
    "dependencies": {}
  },
  "@body@0,23,1": {
    "value": "The `Translation Status Page` is built as part of original language `fpm package`\nand `Language Detail Page` is built as part of each translation. But they\ntranslation status page depends on data of all translations, and language detail\npage depends on data of the current language and the original language package.\n\nWhich means if they are not periodically rebuilt, or better built in some event\ndrive way (we know what package we depend on, what if we also knew what packages\ndepend on me, and I could tell each of them hey I have changed!, or maybe we can\nstill have a central repository, or maybe even say\n[orbit-db](https://github.com/orbitdb/orbit-db) etc which only keeps track of which\npackage was last built at what time, so we can auto refresh the entire page or\njust the `translation-status.html` file.\n\nOther approach could be we do client side fetching of `FPM.ftd` file, so when you\ngo to Translation Status Page, we show the last built version but we then download\n`FPM.ftd` for each of the translations, and recompute the data.\n\nI am not too happy with the frontend approach, every single visitor will\nre-download everything, think about the global warming people, FPM is trying to be\nnetwork resilient, if we create multi-planetary civilisations, HTTP based lets just\nfetch what we want when we want won't work, and such federated, change when needed,\nshow stale but refresh etc approaches would be needed.",
    "dependencies": {
      "0,0,0,14,4,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,24": {
    "value": "The screenshots you see are the UI that's shipped as default with `fpm`, but you\ncan easily customise it by creating `FPM/translation/original-status.ftd` and\n`FPM/translation/translation-status.ftd` files.\n\nWe will soon create a \"document interface\" for FPM Package Info, which will include\ntranslation banners (will talk about them soon), translation status page, and\nupcoming: package info page, package and document history pages, change request\npages and so on.\n\nFurther we have to figure out how do we internationalise the UI messages.",
    "dependencies": {}
  },
  "@body@0,24,1": {
    "value": "The screenshots you see are the UI that's shipped as default with `fpm`, but you\ncan easily customise it by creating `FPM/translation/original-status.ftd` and\n`FPM/translation/translation-status.ftd` files.\n\nWe will soon create a \"document interface\" for FPM Package Info, which will include\ntranslation banners (will talk about them soon), translation status page, and\nupcoming: package info page, package and document history pages, change request\npages and so on.\n\nFurther we have to figure out how do we internationalise the UI messages.",
    "dependencies": {
      "0,0,0,14,5,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,25": {
    "value": "We have two large level approach for UI message internationalisation. First is the\ntried and tested, i18n approach, say we use [Mozilla's\nFluent](https://projectfluent.org). We can define special strings we have in our\nsource code, and we invest in comprehensive translation so no one has need to\nimprove it (meaning it can not be done by writing FTD files, you must recompile\n`fpm`).\n\nI am not fond of that approach, primarily because while we can do that for strings\nwe know about, but what about themes and other kind of content people create? Say\na theme for book (document interface) will have terms like \"table of content\", how\nto centrally translate such information so that each user of that document\ninterface in that language doesn't have to keep deciding how to translate things.\n\nWe need to think more about this.",
    "dependencies": {}
  },
  "@body@0,25,1": {
    "value": "We have two large level approach for UI message internationalisation. First is the\ntried and tested, i18n approach, say we use [Mozilla's\nFluent](https://projectfluent.org). We can define special strings we have in our\nsource code, and we invest in comprehensive translation so no one has need to\nimprove it (meaning it can not be done by writing FTD files, you must recompile\n`fpm`).\n\nI am not fond of that approach, primarily because while we can do that for strings\nwe know about, but what about themes and other kind of content people create? Say\na theme for book (document interface) will have terms like \"table of content\", how\nto centrally translate such information so that each user of that document\ninterface in that language doesn't have to keep deciding how to translate things.\n\nWe need to think more about this.",
    "dependencies": {
      "0,0,0,15,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,26": {
    "value": "Currently we are using 2 letter ISO 639-1 code to represent language names, eg in\n`FPM.ftd` file:",
    "dependencies": {}
  },
  "@body@0,26,1": {
    "value": "Currently we are using 2 letter ISO 639-1 code to represent language names, eg in\n`FPM.ftd` file:",
    "dependencies": {
      "0,0,0,16,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,27": {
    "value": "-- package: foo.com\nlanguage: en\ntranslation: foo.com/hi",
    "dependencies": {
      "0,0,0,16,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,28": {
    "value": "2 letter codes are okay, but in FTD/FPM we tend to stick with full names instead of\nshort versions, like `integer` instead of `int`, or `language` instead of `lang`,\nsince we believe things are written once and read many many times, and we have\nimmense capability in getting confused. How many people can guess `gu` stands for\nGujarati and not some African language? What have we really saved by writing `gu`,\ninstead of writing \"gujarati\" which has to be written precisely once in the\npackage which is probably going to have tens or thousands of words?\n\nWe have a few problems here. One we must ensure the language names are exactly the\nsame, we all call it either \"Gujarati\" or \"gujarati\". This is because we can then\neasily re-use translations etc, standardisation is good in general.\n\nWe can use the \"ISO Language Name\" column as shown in the\n[Wikipedia](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) (or find out\nwhere did they get the actual data from). They have mapped more than one names to\nsame code in a few cases, which I feel is actually a good thing, we can be more\nprecise in language name, honour the preference of the author, we are interested\nin the code, which we will get.\n\nSo this is our first decision. We will proper case also, so `language: Gujarati`\nas it is proper noun, and not `language: gujarati`.\n\nThen the other problem is how to show the name of language in language detail\npage in a form native speakers of that language can understand, so \"‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä\" we\nshould show. But the translation status page we should show probably both ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä and\nGujarati.",
    "dependencies": {
      "0,0,0,16,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,29": {
    "value": "So I was thinking of the two names for each language, and how both are relevant\ninformation, should we allow both somehow? Say `language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä`, we\nwill ignore the part after `|`, so that can be used as some sort of description\nabout the translation.\n\nThis got me into thinking if we must have a requirement that there can be only one\ntranslation in one language, since if not this allows us to also explain what is\nhappening, so we have syntax, but do we have a need?\n\nThis got me into thinking what if there was a book \"Rust Programming Language\" and\nsomeone translated it into \"Rust Programming Language for Advance Haskell\nProgrammer\", it will remain in English, but the audience has changed, advance\nHaskell programmers probably do not need such a laborious, long explanation, maybe\ntheir book would be just a 10 page book instead of the 100 (random guess) page\ncurrent book?\n\nAfter all the purpose of translation is to make some work accessible to a\npopulation who wanted to read it but could not because of language barrier. But\nisn't a book written in too much (or too little) technical detail a language\nbarrier itself? Can you read a book written for absolute beginner of a topic if you\nare in advanced stage, and vice versa? Can these two people really talk to each\nother meaningfully? Isn't there is a need for a translation there?\n\nAnd consider this also: say I am describing the strict specification of what FPM\ndoes, shouldn't there be a document like this? Which assumes you know everything,\nand you are only interested in exact description of precise behaviour of what FPM\ndoes? Of course that document must exist. But is that just a document? It must be\na package right? And then we have the \"end user documentation\" of FPM. Isn't that\njust a \"translation\" of the formal spec?\n\nConclusion: we will allow `language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä` syntax. First part must be\nlanguage name as per ISO 639-1. But when allowing or disallowing we will use the\nentire value of `language:` key. So you can not have two translations with\n`language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä`, but you can have one with\n`language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä` and other with `language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä\n(simplified)`.",
    "dependencies": {}
  },
  "@body@0,29,1": {
    "value": "So I was thinking of the two names for each language, and how both are relevant\ninformation, should we allow both somehow? Say `language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä`, we\nwill ignore the part after `|`, so that can be used as some sort of description\nabout the translation.\n\nThis got me into thinking if we must have a requirement that there can be only one\ntranslation in one language, since if not this allows us to also explain what is\nhappening, so we have syntax, but do we have a need?\n\nThis got me into thinking what if there was a book \"Rust Programming Language\" and\nsomeone translated it into \"Rust Programming Language for Advance Haskell\nProgrammer\", it will remain in English, but the audience has changed, advance\nHaskell programmers probably do not need such a laborious, long explanation, maybe\ntheir book would be just a 10 page book instead of the 100 (random guess) page\ncurrent book?\n\nAfter all the purpose of translation is to make some work accessible to a\npopulation who wanted to read it but could not because of language barrier. But\nisn't a book written in too much (or too little) technical detail a language\nbarrier itself? Can you read a book written for absolute beginner of a topic if you\nare in advanced stage, and vice versa? Can these two people really talk to each\nother meaningfully? Isn't there is a need for a translation there?\n\nAnd consider this also: say I am describing the strict specification of what FPM\ndoes, shouldn't there be a document like this? Which assumes you know everything,\nand you are only interested in exact description of precise behaviour of what FPM\ndoes? Of course that document must exist. But is that just a document? It must be\na package right? And then we have the \"end user documentation\" of FPM. Isn't that\njust a \"translation\" of the formal spec?\n\nConclusion: we will allow `language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä` syntax. First part must be\nlanguage name as per ISO 639-1. But when allowing or disallowing we will use the\nentire value of `language:` key. So you can not have two translations with\n`language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä`, but you can have one with\n`language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä` and other with `language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä\n(simplified)`.",
    "dependencies": {
      "0,0,0,17,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,3": {
    "value": "So links never break (and original author can keep updating document URL at whim).",
    "dependencies": {}
  },
  "@body@0,3,1": {
    "value": "So links never break (and original author can keep updating document URL at whim).",
    "dependencies": {
      "0,0,0,4,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,30": {
    "value": "What if there were fonts that can be distributed as FPM package? They can chose to\ninline the `.woff` etc file in the package itself, but they can also link to CDN\nhosted font files (this is a bit privacy issue, we do not want Google etc to know\nwhat page is being viewed, and today Browsers re download all assets, I may be\nwrong, to avoid timing attacks for [fingerprinting who you are or what websites\nyou visit](https://www.sciencedaily.com/releases/2018/10/181030102802.htm)).\n\nWe can do the same to distribute other assets, say you want to share images with\nthe world, you can upload it to unsplash or create a FPM package and put it on\nGithub.\n\nSoon people will start indexing such packages, and you will get a more direct\nreference, if anyone is using your assets you will be credited in the\n`fpm.dependency` of that package.\n\nOne question would be should these assets be copies over or given that each FPM\npackage has a URL those assets are directly linked? Direct linking may not be good,\nas people will have to pay for their package getting popular. We should copy over.\n\nShould we have a manifest file that tells what files to copy over? Should we have\nan asset folder which gets copied over? What about if multiple packages ended up\ntaking the same name? We should copy the asset with the full package name (or\npackage alias).\n\nHow would we refer to such asset?",
    "dependencies": {}
  },
  "@body@0,30,1": {
    "value": "What if there were fonts that can be distributed as FPM package? They can chose to\ninline the `.woff` etc file in the package itself, but they can also link to CDN\nhosted font files (this is a bit privacy issue, we do not want Google etc to know\nwhat page is being viewed, and today Browsers re download all assets, I may be\nwrong, to avoid timing attacks for [fingerprinting who you are or what websites\nyou visit](https://www.sciencedaily.com/releases/2018/10/181030102802.htm)).\n\nWe can do the same to distribute other assets, say you want to share images with\nthe world, you can upload it to unsplash or create a FPM package and put it on\nGithub.\n\nSoon people will start indexing such packages, and you will get a more direct\nreference, if anyone is using your assets you will be credited in the\n`fpm.dependency` of that package.\n\nOne question would be should these assets be copies over or given that each FPM\npackage has a URL those assets are directly linked? Direct linking may not be good,\nas people will have to pay for their package getting popular. We should copy over.\n\nShould we have a manifest file that tells what files to copy over? Should we have\nan asset folder which gets copied over? What about if multiple packages ended up\ntaking the same name? We should copy the asset with the full package name (or\npackage alias).\n\nHow would we refer to such asset?",
    "dependencies": {
      "0,0,0,18,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,31": {
    "value": "-- import: foo\n\n-- ft.image:\nsrc: foo:path/of/image.png",
    "dependencies": {
      "0,0,0,18,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,32": {
    "value": "We can make the URL resolve into `/assets/foo/path/of/image.png`. We can even do\nthis on demand, the asset package may have many files, but we only copy over the\nones referenced in current package.\n\nWhat if this is transitive? If `x` is being built and it depends on `a`, which\nneeds asset `f1:foo.png`. Should we create `assets/a/foo.png` or\n`assets/f1/foo.png`. The problem is same `f1` could be imported by multiple\ndependencies with different names, so we end up having lots of copies of the same.\n\nTo solve this folder name must match full package name, not just the alias.",
    "dependencies": {
      "0,0,0,18,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,33": {
    "value": "29th Dec 2021\n\nWas reviewing the latest PR done by Arpita, and this thought occurred to me: we\ncurrently do, what Jest popularised as \"[snapshot\ntesting](https://jestjs.io/docs/snapshot-testing)\", we create \"snapshots\" of\ngenerated HTML files, and ensure they do not change.\n\nI find HTML a bit noisy, reviewing change in generated HTML is not fun. Further\nthere is a question of coverage - not all features of `fpm` could have been used\nin the `.ftd` file, maybe it is bare-bones, and when someone uses realistic `.ftd`\nfiles, maybe things would not go as expected.",
    "dependencies": {}
  },
  "@body@0,33,1": {
    "value": "29th Dec 2021\n\nWas reviewing the latest PR done by Arpita, and this thought occurred to me: we\ncurrently do, what Jest popularised as \"[snapshot\ntesting](https://jestjs.io/docs/snapshot-testing)\", we create \"snapshots\" of\ngenerated HTML files, and ensure they do not change.\n\nI find HTML a bit noisy, reviewing change in generated HTML is not fun. Further\nthere is a question of coverage - not all features of `fpm` could have been used\nin the `.ftd` file, maybe it is bare-bones, and when someone uses realistic `.ftd`\nfiles, maybe things would not go as expected.",
    "dependencies": {
      "0,0,0,19,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,34": {
    "value": "We are currently creating one main dynamic file, `fpm.ftd`, its a virtual file,\ndoes not exist on disc, is generated on run time, for each document getting\nrendered, and it contains data related to that document.\n\nWe should snapshot the generated `fpm.ftd` file as well on file system, and ensure\nit doesn't change without review, so all the variables are asserted upon.",
    "dependencies": {}
  },
  "@body@0,34,1": {
    "value": "We are currently creating one main dynamic file, `fpm.ftd`, its a virtual file,\ndoes not exist on disc, is generated on run time, for each document getting\nrendered, and it contains data related to that document.\n\nWe should snapshot the generated `fpm.ftd` file as well on file system, and ensure\nit doesn't change without review, so all the variables are asserted upon.",
    "dependencies": {
      "0,0,0,19,2,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,35": {
    "value": "There are some special files, eg `translation-stats`, its provided by us, and it\ncant really have any bug per se, I mean we can ship some broken\n`FPM/translation/status.ftd` file, sure, but its just a text file, I do not want to\nsee the generated `.html` file for. Similarly we have `FPM/markdown.ftd` file,\nwhich again, would do what it would do, and not much point storing the `.html` of.\n\nNot sure. The thought that's coming to me is in such cases we need not necessarily\nstore the `.html` file, we just stored the corresponding dynamic context, `fpm.ftd`\nor whatever, and snapshotting `.ftd` is enough. We will have more readable and\nsmaller diffs. I guess I just trying to reduce the amount of code review I have to\ndo üòÖ.",
    "dependencies": {}
  },
  "@body@0,35,1": {
    "value": "There are some special files, eg `translation-stats`, its provided by us, and it\ncant really have any bug per se, I mean we can ship some broken\n`FPM/translation/status.ftd` file, sure, but its just a text file, I do not want to\nsee the generated `.html` file for. Similarly we have `FPM/markdown.ftd` file,\nwhich again, would do what it would do, and not much point storing the `.html` of.\n\nNot sure. The thought that's coming to me is in such cases we need not necessarily\nstore the `.html` file, we just stored the corresponding dynamic context, `fpm.ftd`\nor whatever, and snapshotting `.ftd` is enough. We will have more readable and\nsmaller diffs. I guess I just trying to reduce the amount of code review I have to\ndo üòÖ.",
    "dependencies": {
      "0,0,0,19,3,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,36": {
    "value": "A few days back, as part of some other larger PR, Arpita implemented `fpm update`.\nIt's currently pretty \"hacky\", deletes the `.packages` folder, and re-downloads all\nthe dependencies.",
    "dependencies": {}
  },
  "@body@0,36,1": {
    "value": "A few days back, as part of some other larger PR, Arpita implemented `fpm update`.\nIt's currently pretty \"hacky\", deletes the `.packages` folder, and re-downloads all\nthe dependencies.",
    "dependencies": {
      "0,0,0,20,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,37": {
    "value": "Shobhit just [implemented support for\n`FPM/prelude.ftd`](https://github.com/FifthTry/fpm/pull/37/files), this file if\nfound, is prepended to every `.ftd` file being processed (except `FPM.ftd` file).\n\nUsually you would have a `config.ftd` file that can store a bunch of things that\nyou want available everywhere. Also you would want to include one or more component\nlibraries in your `ftd` files. Putting them all in `FPM/prelude.ftd` saves you from\nrepeating the same lines in every document, making documents that bit cleaner.",
    "dependencies": {}
  },
  "@body@0,37,1": {
    "value": "Shobhit just [implemented support for\n`FPM/prelude.ftd`](https://github.com/FifthTry/fpm/pull/37/files), this file if\nfound, is prepended to every `.ftd` file being processed (except `FPM.ftd` file).\n\nUsually you would have a `config.ftd` file that can store a bunch of things that\nyou want available everywhere. Also you would want to include one or more component\nlibraries in your `ftd` files. Putting them all in `FPM/prelude.ftd` saves you from\nrepeating the same lines in every document, making documents that bit cleaner.",
    "dependencies": {
      "0,0,0,21,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,38": {
    "value": "Recently we discussed we will start publishing (copying) `FPM.ftd` in `.build`\nfolder during build, and how we can sometime download just the `FPM.ftd` for an\nFPM package instead of downloading the entire package `.zip` file. It sounded like\na great idea, and Arpita implemented it right away, and she did one better, she\nincluded some extra data also in the `FPM.ftd` file.\n\nThis opens up interesting possibilities, now we can include all sorts of generated\npackage meta data and make it part of the published `FPM.ftd` file. We can show\nnumber of files or word count of the package, we can include LICENSE, even sitemap,\nlatest snapshot versions etc etc. We can anticipate a lot of need, and most of the\n\"metadata\" needs of `fpm` can be satisfied by putting data in `FPM.ftd`.\n\nSo currently we also publish `/FPM/index.html`, which is generated out of `FPM.ftd`\nfile in the package. With this idea, of making lot more data available to `FPM.ftd`\nthat becomes even more interesting.\n\nWe will create `FPM/info.ftd` file, which will have all the `FPM.ftd` data\navailable, and would be rendered in `FPM/index.html`, so we can have a proper\npackage meta data page as well.",
    "dependencies": {}
  },
  "@body@0,38,1": {
    "value": "Recently we discussed we will start publishing (copying) `FPM.ftd` in `.build`\nfolder during build, and how we can sometime download just the `FPM.ftd` for an\nFPM package instead of downloading the entire package `.zip` file. It sounded like\na great idea, and Arpita implemented it right away, and she did one better, she\nincluded some extra data also in the `FPM.ftd` file.\n\nThis opens up interesting possibilities, now we can include all sorts of generated\npackage meta data and make it part of the published `FPM.ftd` file. We can show\nnumber of files or word count of the package, we can include LICENSE, even sitemap,\nlatest snapshot versions etc etc. We can anticipate a lot of need, and most of the\n\"metadata\" needs of `fpm` can be satisfied by putting data in `FPM.ftd`.\n\nSo currently we also publish `/FPM/index.html`, which is generated out of `FPM.ftd`\nfile in the package. With this idea, of making lot more data available to `FPM.ftd`\nthat becomes even more interesting.\n\nWe will create `FPM/info.ftd` file, which will have all the `FPM.ftd` data\navailable, and would be rendered in `FPM/index.html`, so we can have a proper\npackage meta data page as well.",
    "dependencies": {
      "0,0,0,22,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,39": {
    "value": "For any package, we have two potential source of truth, the repository where you\ncan get the package source from, where it is presumably being maintained, say\nGithub, or the actual built and deployed URL where things are hosted. Both contain\n`FPM.ftd` file.\n\nConsider translation status. Say the original package is trying to create a status\ndashboard for all translation packages, showing like how many documents in that\ntranslation are upto date, missing etc. To compute this information `fpm` can\ndownload the latest version of each translation package, but this information is\ncoming from where source repo, like Github, so `zip` may point to `main` branch's\n`.zip` file.\n\nIf we trusted the `main` branch the problem is end users are viewing the\ntranslation status page, and they may see, oh this package is 100% translated in\nso and so language, but when the click on the link they may find that its not so,\nas there is a possibility that things have landed in `main` branch, but not yet\nbuilt and published. This can happen because say deploy failed due to some reason.\n\nSo it seems that the `<package-name>/FPM.ftd` should be considered source of truth\nwhen its materially different from `<package-repo>/FPM.ftd`.",
    "dependencies": {}
  },
  "@body@0,39,1": {
    "value": "For any package, we have two potential source of truth, the repository where you\ncan get the package source from, where it is presumably being maintained, say\nGithub, or the actual built and deployed URL where things are hosted. Both contain\n`FPM.ftd` file.\n\nConsider translation status. Say the original package is trying to create a status\ndashboard for all translation packages, showing like how many documents in that\ntranslation are upto date, missing etc. To compute this information `fpm` can\ndownload the latest version of each translation package, but this information is\ncoming from where source repo, like Github, so `zip` may point to `main` branch's\n`.zip` file.\n\nIf we trusted the `main` branch the problem is end users are viewing the\ntranslation status page, and they may see, oh this package is 100% translated in\nso and so language, but when the click on the link they may find that its not so,\nas there is a possibility that things have landed in `main` branch, but not yet\nbuilt and published. This can happen because say deploy failed due to some reason.\n\nSo it seems that the `<package-name>/FPM.ftd` should be considered source of truth\nwhen its materially different from `<package-repo>/FPM.ftd`.",
    "dependencies": {
      "0,0,0,23,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,40": {
    "value": "28th Dec 2021\n\nSeems it takes less time for Arpita to build a feature than for me write what\nshould be built! Just like that she implemented [package with Golang like\nidentifiers](https://github.com/FifthTry/fpm/pull/34/files).\n\nConsider this [FPM.ftd](https://github.com/Arpita-Jaiswal/vivekanand/blob/main/FPM.ftd)\nfile for instance:",
    "dependencies": {}
  },
  "@body@0,40,1": {
    "value": "28th Dec 2021\n\nSeems it takes less time for Arpita to build a feature than for me write what\nshould be built! Just like that she implemented [package with Golang like\nidentifiers](https://github.com/FifthTry/fpm/pull/34/files).\n\nConsider this [FPM.ftd](https://github.com/Arpita-Jaiswal/vivekanand/blob/main/FPM.ftd)\nfile for instance:",
    "dependencies": {
      "0,0,0,24,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,41": {
    "value": "-- import: fpm\n\n-- fpm.package: arpita-jaiswal.github.io/vivekanand\nlanguage: en\nzip: github.com/arpita-jaiswal/vivekanand/archive/refs/heads/main.zip\ntranslation: arpita-jaiswal.github.io/vivekanand-hi\ntranslation: arpita-jaiswal.github.io/vivekanand-gu",
    "dependencies": {
      "0,0,0,24,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,42": {
    "value": "Without searching now you can just copy paste the package id in browser and see\nthe content of the package. So much better than the earlier approach of searching\nfor the package in the package repo, and hoping the repo index page links to the\npublished version somewhere.\n\nArpita pointed out that one of the cool side effect of this design (the fact that\n`FPM.ftd` is now downloadable, without having to download the entire FPM package)\nis that for many cases we will not have to download full package, eg when\nspecifying translations, when a FPM package is specifying the translations, we only\nspecify the package name, the actual language of the package is part of `FPM.ftd`\nmeta-data of that package, and she used to have to download the entire FPM package\nzip file just to get the language (so she can show it in the translation dropdown).",
    "dependencies": {
      "0,0,0,24,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,43": {
    "value": "So we are going to approach few open source projects to checkout FPM and our\ntranslation features soon. For us to setup the demo properly and get the discussion\nrolling, it would be good to import a the project we are targeting, convert them\nto a FPM package and publish on some temporary URL for demo purpose.\n\nBut we do not want Google to index our page. We can do robots.txt and block\nindexing, but its even better to add canonical URL so Google gives proper credit to\noriginal URL for improving their search ranking.\n\nSo we will support `canonical-url` key in `fpm.package`:",
    "dependencies": {}
  },
  "@body@0,43,1": {
    "value": "So we are going to approach few open source projects to checkout FPM and our\ntranslation features soon. For us to setup the demo properly and get the discussion\nrolling, it would be good to import a the project we are targeting, convert them\nto a FPM package and publish on some temporary URL for demo purpose.\n\nBut we do not want Google to index our page. We can do robots.txt and block\nindexing, but its even better to add canonical URL so Google gives proper credit to\noriginal URL for improving their search ranking.\n\nSo we will support `canonical-url` key in `fpm.package`:",
    "dependencies": {
      "0,0,0,25,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,44": {
    "value": "-- package: www.amitu.com/rust-book/\ncanonical-url: https://doc.rust-lang.org/book/",
    "dependencies": {
      "0,0,0,25,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,45": {
    "value": "Currently we are supporting it only at package level. This means every URL that we\ngenerate, eg /foo/, which is generated from `foo.ftd`, will be have a:",
    "dependencies": {
      "0,0,0,25,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,46": {
    "value": "<link rel=\"canonical\" href=\"https://doc.rust-lang.org/book/foo/\" />",
    "dependencies": {
      "0,0,0,25,4,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,47": {
    "value": "In the generate file, with `href` pointing to corresponding URL.",
    "dependencies": {
      "0,0,0,25,5:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,48": {
    "value": "In future we will also allow `canonical-url` on a special module `fpm`, so any\ndocument can `-- import: fpm` and overwrite `fpm.canonical-url: <some url>` to\nspecify arbitrary canonical URL on a per document basis if they wanted to.",
    "dependencies": {}
  },
  "@body@0,48,1": {
    "value": "In future we will also allow `canonical-url` on a special module `fpm`, so any\ndocument can `-- import: fpm` and overwrite `fpm.canonical-url: <some url>` to\nspecify arbitrary canonical URL on a per document basis if they wanted to.",
    "dependencies": {
      "0,0,0,25,6,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,49": {
    "value": "Shobhit [implemented document title\nsupport](https://github.com/FifthTry/fpm/pull/32/files) yesterday. Till now all\nHTML files generated by FPM used to have title `ftd`, after this pull request the\ntitle is picked from content of FTD document being process right now.\n\nIn FTD we have a concept called [`region`](/ftd/common/), any FTD element can use\nregion to express their semantic meaning. The idea is to let screen readers, search\nengines etc discover what is the heading, or what is the role played by different\nelements, so they can skip over things and focus on main content etc.\n\nWe have regions like `h0`, `h1` and so on for headings of different levels. To\ncompute the title we look for the first text block with `h0` region, if its not\nfound we look at first `h1` and so on. If no region is set then we look for first\ntext element. If that is also missing then we assume the `document-id` (relative\nfile path of the file being process with respect to package root, without the\n`.ftd` extension) is the title.",
    "dependencies": {}
  },
  "@body@0,49,1": {
    "value": "Shobhit [implemented document title\nsupport](https://github.com/FifthTry/fpm/pull/32/files) yesterday. Till now all\nHTML files generated by FPM used to have title `ftd`, after this pull request the\ntitle is picked from content of FTD document being process right now.\n\nIn FTD we have a concept called [`region`](/ftd/common/), any FTD element can use\nregion to express their semantic meaning. The idea is to let screen readers, search\nengines etc discover what is the heading, or what is the role played by different\nelements, so they can skip over things and focus on main content etc.\n\nWe have regions like `h0`, `h1` and so on for headings of different levels. To\ncompute the title we look for the first text block with `h0` region, if its not\nfound we look at first `h1` and so on. If no region is set then we look for first\ntext element. If that is also missing then we assume the `document-id` (relative\nfile path of the file being process with respect to package root, without the\n`.ftd` extension) is the title.",
    "dependencies": {
      "0,0,0,26,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,50": {
    "value": "[Shobhit's PR for dependency aliasing][pr] was merged today. This brings us one\nstep close to changing a theme should be just one line change (its a bit harder\nthan other systems where theming is well defined, you always know what you are\ntheming, Wordpress support Wordpress themes, which only work for blogs, and say\nWinamp supports Winamp \"Skins\", which only works Winamp, you cant use Winamp skin\nwith your Wordpress blog for example[1], with FPM you all sorts of UI, music\nplayer to Browser, to pricing page to Resume etc can all be \"themed\", and we want\ncross portability across all of them \"as long as it makes sense\": follows the same\n\"document interface\").\n\n[pr]: https://github.com/FifthTry/fpm/pull/33/files\n\nThis is how you create an alias:",
    "dependencies": {}
  },
  "@body@0,50,1": {
    "value": "[Shobhit's PR for dependency aliasing][pr] was merged today. This brings us one\nstep close to changing a theme should be just one line change (its a bit harder\nthan other systems where theming is well defined, you always know what you are\ntheming, Wordpress support Wordpress themes, which only work for blogs, and say\nWinamp supports Winamp \"Skins\", which only works Winamp, you cant use Winamp skin\nwith your Wordpress blog for example[1], with FPM you all sorts of UI, music\nplayer to Browser, to pricing page to Resume etc can all be \"themed\", and we want\ncross portability across all of them \"as long as it makes sense\": follows the same\n\"document interface\").\n\n[pr]: https://github.com/FifthTry/fpm/pull/33/files\n\nThis is how you create an alias:",
    "dependencies": {
      "0,0,0,27,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,51": {
    "value": "-- import: fpm\n\n-- fpm.package: fifthtry.github.io/amitu\nzip: github.com/fifthtry/amitu/archive/refs/heads/main.zip\n\n-- fpm.dependency: fifthtry.github.io/blog-theme as theme",
    "dependencies": {
      "0,0,0,27,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,52": {
    "value": "We have used `as theme` to create an alias `theme` for the package\n`fifthtry.github.io/blog-theme`.\n\nIn order to use it you can do this:",
    "dependencies": {
      "0,0,0,27,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,53": {
    "value": "-- import: theme\n\n-- theme.h4 : Hello world!",
    "dependencies": {
      "0,0,0,27,4,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,54": {
    "value": "We are importing `fifthtry.github.io/blog-theme` by importing `theme`.\n\nNote: We can also import the full package name if we wanted.\n\n[1]: In case you are wondering why would anyone in their sane mind want to include\n     a music player theme in their blog? Say you are discussing the UI of the\n     player, say you want to show how the UI works, what would you do? Take a\n     screenshot? And you call that action of a sane mind? What will happen if that\n     theme changes? Are you going to come back and update the screenshot? _That_\n     would be lunacy my friend. Just import the FPM package for the Winamp theme,\n     pass the data that Winamp would have passed it (if we were living in the world\n     where people are not, you know, insane -- creating UI in platform after\n     platform, even more insane where UI of one \"framework\" on same platform can't\n     use UI of another frame, I am looking at you JavaScript, with your framework\n     pared -- and using FPM for example), and now you blog post contains always\n     refreshing, true, intractable Winamp screen. FPM makes it possible. Why would\n     you not?",
    "dependencies": {
      "0,0,0,27,5:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,55": {
    "value": "27th Dec 2021\n\nArpita just finished translation UI (and basic translation feature in general). I\nstarted writing update about translation feature on Journal, but I feel this\ndeserves a video update. Let's do a bit more polish, create different states,\ncurrently all translations are missing, do a bit of UI polish and towards the end\nof the day create the video.\n\nIn the meanwhile you can [check it out here](https://arpita-jaiswal.github.io/vivekanand-gu/).\nNotice the links in the header, they take you to respective pages in other\nlanguages.\n\nSuper awesome job üôå, Arpita!",
    "dependencies": {}
  },
  "@body@0,55,1": {
    "value": "27th Dec 2021\n\nArpita just finished translation UI (and basic translation feature in general). I\nstarted writing update about translation feature on Journal, but I feel this\ndeserves a video update. Let's do a bit more polish, create different states,\ncurrently all translations are missing, do a bit of UI polish and towards the end\nof the day create the video.\n\nIn the meanwhile you can [check it out here](https://arpita-jaiswal.github.io/vivekanand-gu/).\nNotice the links in the header, they take you to respective pages in other\nlanguages.\n\nSuper awesome job üôå, Arpita!",
    "dependencies": {
      "0,0,0,28,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,56": {
    "value": "Currently when we add a dependency on another package, we need two bits of\ninformation, the name of the package and the repository where you can get the\npackage from.",
    "dependencies": {}
  },
  "@body@0,56,1": {
    "value": "Currently when we add a dependency on another package, we need two bits of\ninformation, the name of the package and the repository where you can get the\npackage from.",
    "dependencies": {
      "0,0,0,29,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,57": {
    "value": "We need to know where to download a package from because of our decentralised\ndesign. We do not want a single central infrastructure in FPM like they have in\nother languages, eg `crates.io` for Rust or `npmjs.com` for Javascript and so on.\nCentralisation has many problems, censorship becomes easy, single point of attack\nfor bad players, difficulty with confidentiality (what if you have some\ninformation you do not want to leave your company VPN etc), bureaucracy (you can\nnot get a new feature on crates.io till you go through whatever hoops that there\nto work with their team: I am sure they are very responsive etc, but they cant be\nas responsive as your own self hosted repo, that you can tweak and deploy hourly\nif you wanted to).\n\nBut for FPM, centralisation is especially a problem: other package managers only\ndistribute packages to be downloaded once at build time, when you are doing a\ndeploy, you will download the `.zip` file from package repository, and won't\ndownload again till another dependency is added or version changes. No end user\ngoes to `crates.io`/`npmjs.com` etc.\n\nFPM packages on the other hand are actual websites. So FPM repository is used by\nall end users, and all your site traffic goes to your `fpm-repo`. One single\nwebsite or a company can not host the entire Internet (live traffic, not like\n`Archive.org`).\n\nWe also envisage that `fpm-repo` will be giving differential features, some may\ngive load balanced deployment with support for Edge caching, some other may focus\non Math related computation etc. FPM and FTD has a lot of dynamic features, and\nthat means there is a lot of play in features offered, pricing and business models\nand so on.",
    "dependencies": {}
  },
  "@body@0,57,1": {
    "value": "We need to know where to download a package from because of our decentralised\ndesign. We do not want a single central infrastructure in FPM like they have in\nother languages, eg `crates.io` for Rust or `npmjs.com` for Javascript and so on.\nCentralisation has many problems, censorship becomes easy, single point of attack\nfor bad players, difficulty with confidentiality (what if you have some\ninformation you do not want to leave your company VPN etc), bureaucracy (you can\nnot get a new feature on crates.io till you go through whatever hoops that there\nto work with their team: I am sure they are very responsive etc, but they cant be\nas responsive as your own self hosted repo, that you can tweak and deploy hourly\nif you wanted to).\n\nBut for FPM, centralisation is especially a problem: other package managers only\ndistribute packages to be downloaded once at build time, when you are doing a\ndeploy, you will download the `.zip` file from package repository, and won't\ndownload again till another dependency is added or version changes. No end user\ngoes to `crates.io`/`npmjs.com` etc.\n\nFPM packages on the other hand are actual websites. So FPM repository is used by\nall end users, and all your site traffic goes to your `fpm-repo`. One single\nwebsite or a company can not host the entire Internet (live traffic, not like\n`Archive.org`).\n\nWe also envisage that `fpm-repo` will be giving differential features, some may\ngive load balanced deployment with support for Edge caching, some other may focus\non Math related computation etc. FPM and FTD has a lot of dynamic features, and\nthat means there is a lot of play in features offered, pricing and business models\nand so on.",
    "dependencies": {
      "0,0,0,29,2,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,58": {
    "value": "Golang recommends package names to contain domain names, including special\n[emphasis on vanity URLs](https://rakyll.org/style-packages/) (not just URLs\npointing to code hosting locations). Their entire tooling works with domain names:",
    "dependencies": {}
  },
  "@body@0,58,1": {
    "value": "Golang recommends package names to contain domain names, including special\n[emphasis on vanity URLs](https://rakyll.org/style-packages/) (not just URLs\npointing to code hosting locations). Their entire tooling works with domain names:",
    "dependencies": {
      "0,0,0,29,3,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,59": {
    "value": "godoc cloud.google.com/go/datastore",
    "dependencies": {
      "0,0,0,29,3,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,6": {
    "value": "(on how having article.page allows us to get just the content of a page, without\nheader/sidebar/footer etc).",
    "dependencies": {}
  },
  "@body@0,6,1": {
    "value": "(on how having article.page allows us to get just the content of a page, without\nheader/sidebar/footer etc).",
    "dependencies": {
      "0,0,0,7,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,60": {
    "value": "The cool thing is you can open the package name in browser and see the\ndocumentation of that package. This is far better experience than Rust etc where\nif you see a module being imported in any file you have to do a search to go to\nthe documentation of that module.\n\nSo can we have:",
    "dependencies": {
      "0,0,0,29,3,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,61": {
    "value": "-- fpm.dependency: amitu.com/realm",
    "dependencies": {
      "0,0,0,29,3,4,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,62": {
    "value": "Instead of",
    "dependencies": {
      "0,0,0,29,3,5:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,63": {
    "value": "-- fpm.dependency: amitu/realm\nrepo: github",
    "dependencies": {
      "0,0,0,29,3,6,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,64": {
    "value": "For this to work we will need the meta data about the package that we want to\ndownload. The URL may point to static site hosting URL, and that URL does not give\nus entire package source.\n\nWe can chose to upload the latest package along with the static build, but that\nforces us to use `.zip` path, where as if we know the repo is a git repo, we can do\nmore optimal downloads (eg `git pull` instead of full download). Git or upcoming\n`fpm-repo` also gives us more features like branch, get things from other folder\netc, so uploading `.zip` is not optimal.\n\nWe must copy just the `FPM.ftd` file instead.",
    "dependencies": {}
  },
  "@body@0,64,1": {
    "value": "For this to work we will need the meta data about the package that we want to\ndownload. The URL may point to static site hosting URL, and that URL does not give\nus entire package source.\n\nWe can chose to upload the latest package along with the static build, but that\nforces us to use `.zip` path, where as if we know the repo is a git repo, we can do\nmore optimal downloads (eg `git pull` instead of full download). Git or upcoming\n`fpm-repo` also gives us more features like branch, get things from other folder\netc, so uploading `.zip` is not optimal.\n\nWe must copy just the `FPM.ftd` file instead.",
    "dependencies": {
      "0,0,0,29,4,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,65": {
    "value": "Currently we assume each package is hosted on Github and construct the `.zip` URL\nwhen we have to download a package, and download it in `.packages` folder.\n\nWhat we want to do now is given the package name, append `/FPM.ftd` to it, download\nthe `FPM.ftd` file, parse it, and get `fpm.package.zip` attribute.\n\nEarlier we used the `repo` key, which was a single key to contain different kind\nof value, could have been `zip` URL, `Github` etc, or the URL of the `fpm-repo`.\n\nNow we will have dedicated keys, if the package is to be officially distributed as\nzip file, set the `zip` key, if its on `github`, set it with the `git-url` (URL\nthat `git clone` understands), and we can support `hg`/`svn`/`fossil` etc as well.\n\nThe package name can not contain `https://`, for cleanliness. We will do what\nmodern browsers do, first check if `https://` is opening, else try `http://`.",
    "dependencies": {}
  },
  "@body@0,65,1": {
    "value": "Currently we assume each package is hosted on Github and construct the `.zip` URL\nwhen we have to download a package, and download it in `.packages` folder.\n\nWhat we want to do now is given the package name, append `/FPM.ftd` to it, download\nthe `FPM.ftd` file, parse it, and get `fpm.package.zip` attribute.\n\nEarlier we used the `repo` key, which was a single key to contain different kind\nof value, could have been `zip` URL, `Github` etc, or the URL of the `fpm-repo`.\n\nNow we will have dedicated keys, if the package is to be officially distributed as\nzip file, set the `zip` key, if its on `github`, set it with the `git-url` (URL\nthat `git clone` understands), and we can support `hg`/`svn`/`fossil` etc as well.\n\nThe package name can not contain `https://`, for cleanliness. We will do what\nmodern browsers do, first check if `https://` is opening, else try `http://`.",
    "dependencies": {
      "0,0,0,29,5,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,66": {
    "value": "26th Dec 2021\n\nWhen using `fpm build` locally vs when using it for GitHub Pages hosted site there\nis a difference. Locally we build everything in `.build` folder directly, and URLs\nare /x/ for `x.ftd` file. But when hosting a site on Github Pages, without using\ncustom domain, the URL GitHub Pages gives us is `<account-name>.github.io/<repo-name>/x/`.\nSo every URL is prefixed by `/<repo-name>/`.\n\nOne idea that came to me was we use HTML's [`base`\ntag](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base), set the\nbase to either `/` on local or `/repo-name/` in Github Action for GitHub Pages,\nand use relative URLs in `ftd` files. Have implemented this feature.\n\nOther idea that came to me after implementing first solution: we create a folder\n`<repo-name>` in `.build` folder, so when browsing locally we get the same path as\nwhen browsing remotely, all URLs that we put in `ftd` files have `/<repo-name>/`\nprefix.\n\nNot sure the pros and cons of the two. Former is implemented already so that's one\npro. Later somehow feels cleaner to me. Not yet sure.\n\nIf you are using GitHub Pages, build your files with `fpm build --base=/` locally\nand `fpm build --base=/repo-name/` in your GitHub Actions, and use remove use `x/`\ninstead of `/x/` when creating links in your ftd files.",
    "dependencies": {}
  },
  "@body@0,66,1": {
    "value": "26th Dec 2021\n\nWhen using `fpm build` locally vs when using it for GitHub Pages hosted site there\nis a difference. Locally we build everything in `.build` folder directly, and URLs\nare /x/ for `x.ftd` file. But when hosting a site on Github Pages, without using\ncustom domain, the URL GitHub Pages gives us is `<account-name>.github.io/<repo-name>/x/`.\nSo every URL is prefixed by `/<repo-name>/`.\n\nOne idea that came to me was we use HTML's [`base`\ntag](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base), set the\nbase to either `/` on local or `/repo-name/` in Github Action for GitHub Pages,\nand use relative URLs in `ftd` files. Have implemented this feature.\n\nOther idea that came to me after implementing first solution: we create a folder\n`<repo-name>` in `.build` folder, so when browsing locally we get the same path as\nwhen browsing remotely, all URLs that we put in `ftd` files have `/<repo-name>/`\nprefix.\n\nNot sure the pros and cons of the two. Former is implemented already so that's one\npro. Later somehow feels cleaner to me. Not yet sure.\n\nIf you are using GitHub Pages, build your files with `fpm build --base=/` locally\nand `fpm build --base=/repo-name/` in your GitHub Actions, and use remove use `x/`\ninstead of `/x/` when creating links in your ftd files.",
    "dependencies": {
      "0,0,0,30,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,67": {
    "value": "`fpm` already supported macOS (we develop it on macOS) and Linux (our CI runs our\ntest suite on Linux), but we never tried it on Windows so far.\n\nGanesh has been trying to use FPM on windows, and he had to install Visual Studio\nand Rust to build it. He had Windows 7, 32-bit based really old laptop, and turns\nout Visual Studio itself doesn't support Windows 7/32-bit combination. He upgraded\nhis laptop's hard disc to SSD, and updated to Windows 11, and got Rust to compile\nFPM. We came across SQLite related issue, some SQLite DLL was required, so I\n[switched to bundled\nSQLite](https://github.com/FifthTry/fpm/commit/429e957aa17ec8291fc7dc1dd102676764a3ce28),\nand it finally compiled.\n\nBut the `fpm build` did not work! It did not find any file. Turns out our code had\nhard coded `/` in a bunch of places, Shobhit found and [fixed some of those\nissues](https://github.com/FifthTry/fpm/pull/26/files), and after this `fpm build`\nis working for Ganesh.\n\nShobhit basically followed [Microsoft Documentation about Rust\nsetup](https://docs.microsoft.com/en-us/windows/dev-environment/rust/setup) and it\njust worked. Cool thing is the compiled exe works even on machines without Rust,\nof course, and Visual Studio (was not sure about this) installed.\n\nWe have not yet created any automation for creating exe every time a new release on\nFPM is created, we will figure out this soon (Jan end timeframe). For now if you\nneed latest FPM exe, shout out to Shobhit on or discord channel and he will do it\nfor you.\n\nWe have not yet run our test suite on Windows actually, only verified basic feature\nmanually. We use [`fbt`](///www.fifthtry.com/fbt/) for testing, a testing\nframework for CLI applications, we have developed at FifthTry, but it too doesn't\nsupport Windows yet.",
    "dependencies": {}
  },
  "@body@0,67,1": {
    "value": "`fpm` already supported macOS (we develop it on macOS) and Linux (our CI runs our\ntest suite on Linux), but we never tried it on Windows so far.\n\nGanesh has been trying to use FPM on windows, and he had to install Visual Studio\nand Rust to build it. He had Windows 7, 32-bit based really old laptop, and turns\nout Visual Studio itself doesn't support Windows 7/32-bit combination. He upgraded\nhis laptop's hard disc to SSD, and updated to Windows 11, and got Rust to compile\nFPM. We came across SQLite related issue, some SQLite DLL was required, so I\n[switched to bundled\nSQLite](https://github.com/FifthTry/fpm/commit/429e957aa17ec8291fc7dc1dd102676764a3ce28),\nand it finally compiled.\n\nBut the `fpm build` did not work! It did not find any file. Turns out our code had\nhard coded `/` in a bunch of places, Shobhit found and [fixed some of those\nissues](https://github.com/FifthTry/fpm/pull/26/files), and after this `fpm build`\nis working for Ganesh.\n\nShobhit basically followed [Microsoft Documentation about Rust\nsetup](https://docs.microsoft.com/en-us/windows/dev-environment/rust/setup) and it\njust worked. Cool thing is the compiled exe works even on machines without Rust,\nof course, and Visual Studio (was not sure about this) installed.\n\nWe have not yet created any automation for creating exe every time a new release on\nFPM is created, we will figure out this soon (Jan end timeframe). For now if you\nneed latest FPM exe, shout out to Shobhit on or discord channel and he will do it\nfor you.\n\nWe have not yet run our test suite on Windows actually, only verified basic feature\nmanually. We use [`fbt`](///www.fifthtry.com/fbt/) for testing, a testing\nframework for CLI applications, we have developed at FifthTry, but it too doesn't\nsupport Windows yet.",
    "dependencies": {
      "0,0,0,31,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,68": {
    "value": "Was looking at this thread on Reddit: [Filename with dots or Unicode chars not\nworking](https://www.reddit.com/r/rust/comments/2pvksp/filename_with_dots_or_unicode_chars_not_working/)\nand I kind of agree with this sentiment:\n\n> I find it little disconcerting that a \"modern\" language has such an arcane\n> restriction about Unicode filenames.\n\nReviewing the [`non-ascii-idents`](https://rust-lang.github.io/rfcs/2457-non-ascii-idents.html)\nRFC that Steve Klabnik linked to, I kind of only agree with only of the drawback\nlisted there:\n\n> Homoglyph attacks are possible.\n\nOverall I believe we should go ahead with it. Rust has decided to despite the\nissues so should we.\n\nWhat would it entail? What would we have to do? We should support unicode in FPM\npackage names, as well as identified (component, variable, record names etc) in\nFTD. Any character is allowed in names? No, [`ID_Start` and `ID_Continue` character\nclasses are defined in\nUnicode](http://www.unicode.org/Public/7.0.0/ucd/DerivedCoreProperties.txt), so\nall our \"id\"s should accept allow them (minis keywords reserved by FTD itself, eg\n`record`).",
    "dependencies": {}
  },
  "@body@0,68,1": {
    "value": "Was looking at this thread on Reddit: [Filename with dots or Unicode chars not\nworking](https://www.reddit.com/r/rust/comments/2pvksp/filename_with_dots_or_unicode_chars_not_working/)\nand I kind of agree with this sentiment:\n\n> I find it little disconcerting that a \"modern\" language has such an arcane\n> restriction about Unicode filenames.\n\nReviewing the [`non-ascii-idents`](https://rust-lang.github.io/rfcs/2457-non-ascii-idents.html)\nRFC that Steve Klabnik linked to, I kind of only agree with only of the drawback\nlisted there:\n\n> Homoglyph attacks are possible.\n\nOverall I believe we should go ahead with it. Rust has decided to despite the\nissues so should we.\n\nWhat would it entail? What would we have to do? We should support unicode in FPM\npackage names, as well as identified (component, variable, record names etc) in\nFTD. Any character is allowed in names? No, [`ID_Start` and `ID_Continue` character\nclasses are defined in\nUnicode](http://www.unicode.org/Public/7.0.0/ucd/DerivedCoreProperties.txt), so\nall our \"id\"s should accept allow them (minis keywords reserved by FTD itself, eg\n`record`).",
    "dependencies": {
      "0,0,0,32,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,69": {
    "value": "Other than Unicode stuff in package names, we actually have some restricts on\npackage naming, so wanted to write down my thoughts about them. Currently all\npackages in FTM are distributed via Github. In short future ~ Jan-Feb 2022\ntimeframe we should also have `fpm-repo` that can be used for publishing packages.\n\n`fpm-repo` is going to be self host-able, as well as SAAS version. But the\ndistinction, if something is self hosted or on some package repository should not\nexposed to users of package, so authors should easily move their package from\nself-hosting to SAAS or back without breaking anything.\n\nMoving from Github to `fpm-repo` should ideally also be seamless, but currently we\nexpect the package to specify `repo: github`. We also have `domain` setting for\neach package, so domain name can be considered as part of a package, if we did that\nthen the published version of package may include some information about how to\nfetch the source version of package, so in dependency it would be enough to give\nthe package name, (with domain name as part of package name).\n\nI was going in another direction, but I think I like this decision even more.",
    "dependencies": {}
  },
  "@body@0,69,1": {
    "value": "Other than Unicode stuff in package names, we actually have some restricts on\npackage naming, so wanted to write down my thoughts about them. Currently all\npackages in FTM are distributed via Github. In short future ~ Jan-Feb 2022\ntimeframe we should also have `fpm-repo` that can be used for publishing packages.\n\n`fpm-repo` is going to be self host-able, as well as SAAS version. But the\ndistinction, if something is self hosted or on some package repository should not\nexposed to users of package, so authors should easily move their package from\nself-hosting to SAAS or back without breaking anything.\n\nMoving from Github to `fpm-repo` should ideally also be seamless, but currently we\nexpect the package to specify `repo: github`. We also have `domain` setting for\neach package, so domain name can be considered as part of a package, if we did that\nthen the published version of package may include some information about how to\nfetch the source version of package, so in dependency it would be enough to give\nthe package name, (with domain name as part of package name).\n\nI was going in another direction, but I think I like this decision even more.",
    "dependencies": {
      "0,0,0,33,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,7": {
    "value": "2nd Jan 2022\n\nStill can't believe 22 is here! So I have been thinking about `fpm update` recently\nand came across [nostr](https://github.com/fiatjaf/nostr) that implements something\nvery close to what I had in mind.\n\nI kind of consider `nostr` design the right design, good balance between\ncentralised (prone to attacks, censorship etc) and \"pure\" peer to peer (complex,\nless reliable etc). Maybe there are issues, but to me it sounds good.\n\nSo we know how to distribute packages. What is missing is package identity. Package\nnames depend on DNS if you buy your own domain, and with others, eg github if you\nhost on `<username>.github.io` etc. So how do we ensure you really own the package\nidentity? That you can move from `.github.io` to something else without losing\npeople who may be interested in your content.\n\nTraditional way requires you to do a redirect from old to new. But this relies on\nold service still running, often companies come and go, domain can expire or sold\nto someone with no interest in honouring the old contracts.\n\nIf not domain name then what? One candidate is cryptographic keys. But they are too\nhard, at least when you are targeting billions of publishers, like Twitter and\nFacebook does. Eventually your FPM packages should be your twitter/Facebook\nprofile, but how do you manage identity?\n\nWhatsApp etc, E2E, End To End-Encryption systems rely on some shared identity, eg\na phone number of email address as a convenience, and then they generate some keys\nbehind the scenes, you can see the fingerprint of your keys in whatsapp for\nexample, and verify each others identity (phone number appears to be the identity\nfrom the layman's perspective, but its backed by strong cryptographic foundations).\n\nSo let me repeat, when you are sending a message on WhatsApp, you think you are\nsending it to a phone number, but WhatsApp has internally exchanged some encryption\nkeys with that contact, and its going to that key.\n\nLet me say it in a more formal way, in PKI, whatever that might be, anyone can\ngenerate a key pair, a private key and a public key. This key pair can be\nconsidered an identity. When you send a message it goes to someone, that someone\nneeds to be identified, and how we identify them can be considered their identity.\nWhat you can do is encrypt the message with the public key of the recipient, and\nonly the corresponding private key can de-crypt the message.\n\nSo in this sense, a key pair can be your identity. But key pairs are just numbers,\nand unlike phone numbers, they are much bigger. So exchanging these numbers is not\nfun, it's opaque, no one can remember them, nor can see what they are referring to\nif we see a huge number representing a public key in someone's `FPM.ftd` file as a\ndependency.\n\nSo we need a way for the key pair to get an alias. The domain name is a good alias.\nIf we tread DNS as alias, not the source of truth, things are much better. Identity\nmoves are rare, but they do happen. People switch providers, people may want to\nmove from Github Pages to another service, and back. Once someone starts following\nsomeone, such moves should not affect them, the followers should continue to get\nupdates despite name changes. So how do we achieve this with PKI and aliases?\n\nImagine Github Pages implemented our protocol, this is how it could work. They\ngenerate a key pair for you when you sign up. This is important if we want\nbillions of people to use services. Most people are not going to want to bother\nwith all this. This is what WhatsApp/Telegram do to deliver strong cryptographic\nguarantees (at least by design/promise, implementation is another matter) to\nmasses.\n\nSo when you create an account on any of these services, they create a new unique\nidentity (key pair) for you. You start using that service, you gain followers,\nand say you get serious. This is the point you will bother with all this identity\nbusiness details. Now you have say 100s of followers and you want to move to a\ndifferent provider, without losing the followers (without breaking 100s/thousands\nof packages that depend on breaking).\n\nAt this point you will now claim your identity. You install another app, offline\nonly for strictest guarantees, and generate your real identity, real key pair.\n\nNow if Github Pages etc are acting in good faith, they will let everyone know that\nthey are temporary guardians of your identity, that you have not yet claimed your\nidentity, and the moment you do so they will cooperate. If they chose to act in\nbad faith, charge you money for you to claim your identity or not let you do it\nwhile initially promising that they will, then you could lose follower, but\nhopefully word will spread and people will shun such services.\n\nSo the temporary guardian of your identity can accept your real identity keys,\nand everyone who is following your via `<username>.github.io` now learns of your\ntrue identity as well (and that Github is an intermediary working for you for now,\nvia you signing the Github generated keypair with your real identity).\n\nSo real identity has always been the keypair, but we would be using the domain\nname. We need a distributed store of keypair to DNS mapping, so you can switch\nthe domain for your keypair. Some sort of \"key server\" is needed. Your followers\nwhere initially thinking that the Github generated keypair was the true identity,\nbut since you update your identity, github will notify them about the true\nidentity and your FPM will now store the true identity of what you are following.\n\nWe also will have to allow for \"key revocation\", say one of the guardians went\nrogue, got bought out, hacked etc, and starts sending updates on your behalf to\nyour followers, you had signed that key-pair with your key, so now you have to\nrevoke that key-pair. The key-server can do that as well.\n\nSo the protocol is: in `FPM.ftd` you see domains. You keep a cache of domain to\nkeypair id on your file system. Periodically you check with key-server if the\ndomain for any keypair has changed, if so `fpm` commands start reporting warnings\nthat domain entries are out of date, please update ASAP. `fpm` can now chose to,\nif you so want, start using the latest entries from key-server for the\nidentities, so say if dependencies say you are publishing on\n`<username>.github.io`, but since `key-server` says domain moved to\n`<username>.com`, `fpm` will start fetching from `<username>.com`.",
    "dependencies": {}
  },
  "@body@0,7,1": {
    "value": "2nd Jan 2022\n\nStill can't believe 22 is here! So I have been thinking about `fpm update` recently\nand came across [nostr](https://github.com/fiatjaf/nostr) that implements something\nvery close to what I had in mind.\n\nI kind of consider `nostr` design the right design, good balance between\ncentralised (prone to attacks, censorship etc) and \"pure\" peer to peer (complex,\nless reliable etc). Maybe there are issues, but to me it sounds good.\n\nSo we know how to distribute packages. What is missing is package identity. Package\nnames depend on DNS if you buy your own domain, and with others, eg github if you\nhost on `<username>.github.io` etc. So how do we ensure you really own the package\nidentity? That you can move from `.github.io` to something else without losing\npeople who may be interested in your content.\n\nTraditional way requires you to do a redirect from old to new. But this relies on\nold service still running, often companies come and go, domain can expire or sold\nto someone with no interest in honouring the old contracts.\n\nIf not domain name then what? One candidate is cryptographic keys. But they are too\nhard, at least when you are targeting billions of publishers, like Twitter and\nFacebook does. Eventually your FPM packages should be your twitter/Facebook\nprofile, but how do you manage identity?\n\nWhatsApp etc, E2E, End To End-Encryption systems rely on some shared identity, eg\na phone number of email address as a convenience, and then they generate some keys\nbehind the scenes, you can see the fingerprint of your keys in whatsapp for\nexample, and verify each others identity (phone number appears to be the identity\nfrom the layman's perspective, but its backed by strong cryptographic foundations).\n\nSo let me repeat, when you are sending a message on WhatsApp, you think you are\nsending it to a phone number, but WhatsApp has internally exchanged some encryption\nkeys with that contact, and its going to that key.\n\nLet me say it in a more formal way, in PKI, whatever that might be, anyone can\ngenerate a key pair, a private key and a public key. This key pair can be\nconsidered an identity. When you send a message it goes to someone, that someone\nneeds to be identified, and how we identify them can be considered their identity.\nWhat you can do is encrypt the message with the public key of the recipient, and\nonly the corresponding private key can de-crypt the message.\n\nSo in this sense, a key pair can be your identity. But key pairs are just numbers,\nand unlike phone numbers, they are much bigger. So exchanging these numbers is not\nfun, it's opaque, no one can remember them, nor can see what they are referring to\nif we see a huge number representing a public key in someone's `FPM.ftd` file as a\ndependency.\n\nSo we need a way for the key pair to get an alias. The domain name is a good alias.\nIf we tread DNS as alias, not the source of truth, things are much better. Identity\nmoves are rare, but they do happen. People switch providers, people may want to\nmove from Github Pages to another service, and back. Once someone starts following\nsomeone, such moves should not affect them, the followers should continue to get\nupdates despite name changes. So how do we achieve this with PKI and aliases?\n\nImagine Github Pages implemented our protocol, this is how it could work. They\ngenerate a key pair for you when you sign up. This is important if we want\nbillions of people to use services. Most people are not going to want to bother\nwith all this. This is what WhatsApp/Telegram do to deliver strong cryptographic\nguarantees (at least by design/promise, implementation is another matter) to\nmasses.\n\nSo when you create an account on any of these services, they create a new unique\nidentity (key pair) for you. You start using that service, you gain followers,\nand say you get serious. This is the point you will bother with all this identity\nbusiness details. Now you have say 100s of followers and you want to move to a\ndifferent provider, without losing the followers (without breaking 100s/thousands\nof packages that depend on breaking).\n\nAt this point you will now claim your identity. You install another app, offline\nonly for strictest guarantees, and generate your real identity, real key pair.\n\nNow if Github Pages etc are acting in good faith, they will let everyone know that\nthey are temporary guardians of your identity, that you have not yet claimed your\nidentity, and the moment you do so they will cooperate. If they chose to act in\nbad faith, charge you money for you to claim your identity or not let you do it\nwhile initially promising that they will, then you could lose follower, but\nhopefully word will spread and people will shun such services.\n\nSo the temporary guardian of your identity can accept your real identity keys,\nand everyone who is following your via `<username>.github.io` now learns of your\ntrue identity as well (and that Github is an intermediary working for you for now,\nvia you signing the Github generated keypair with your real identity).\n\nSo real identity has always been the keypair, but we would be using the domain\nname. We need a distributed store of keypair to DNS mapping, so you can switch\nthe domain for your keypair. Some sort of \"key server\" is needed. Your followers\nwhere initially thinking that the Github generated keypair was the true identity,\nbut since you update your identity, github will notify them about the true\nidentity and your FPM will now store the true identity of what you are following.\n\nWe also will have to allow for \"key revocation\", say one of the guardians went\nrogue, got bought out, hacked etc, and starts sending updates on your behalf to\nyour followers, you had signed that key-pair with your key, so now you have to\nrevoke that key-pair. The key-server can do that as well.\n\nSo the protocol is: in `FPM.ftd` you see domains. You keep a cache of domain to\nkeypair id on your file system. Periodically you check with key-server if the\ndomain for any keypair has changed, if so `fpm` commands start reporting warnings\nthat domain entries are out of date, please update ASAP. `fpm` can now chose to,\nif you so want, start using the latest entries from key-server for the\nidentities, so say if dependencies say you are publishing on\n`<username>.github.io`, but since `key-server` says domain moved to\n`<username>.com`, `fpm` will start fetching from `<username>.com`.",
    "dependencies": {
      "0,0,0,8,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,70": {
    "value": "24th Dec 2021\n\nAfter [fixing font issue in\nFTD](https://github.com/FifthTry/ftd/commit/0ce8a3cc3a115a0dca06b9d06824641bc4bc42a4),\nfinally we got FPM working with custom Google Fonts (any font for that matter\nshould work).\n\nWe had an easy way to fix and a \"correct\" way to fix it. The problem is Font is not\na simple file. Since we have a lot of languages, we can not embed symbols for all\ncharacters in all languages in a single font file, as that would become a large\nfile and would slow down websites (and waste CPU/battery/bandwidth). Similarly many\nfonts design regular font face, italics, bold etc separately, previously people\nused to just algorithmically slant the characters or make the font bold by\nthickening the lines, but for best effect font designers create custom design for\none or more/all characters for each font style. So we can not put regular, bold,\nitalics etc in one file as well, as that too will be wasteful.\n\nSo CSS lets you specify multiple font files, for different unicode range and font\nface etc, and let browser download the font they need based on the content of the\ncurrent page.\n\nSo coming back to problem: we only had place to store one font file, which clearly\nwon't cut it. The easy way to fix was suggested by Sourabh to allow people to pass\nURL of CSS file, eg Google Font recommends something like this:",
    "dependencies": {}
  },
  "@body@0,70,1": {
    "value": "24th Dec 2021\n\nAfter [fixing font issue in\nFTD](https://github.com/FifthTry/ftd/commit/0ce8a3cc3a115a0dca06b9d06824641bc4bc42a4),\nfinally we got FPM working with custom Google Fonts (any font for that matter\nshould work).\n\nWe had an easy way to fix and a \"correct\" way to fix it. The problem is Font is not\na simple file. Since we have a lot of languages, we can not embed symbols for all\ncharacters in all languages in a single font file, as that would become a large\nfile and would slow down websites (and waste CPU/battery/bandwidth). Similarly many\nfonts design regular font face, italics, bold etc separately, previously people\nused to just algorithmically slant the characters or make the font bold by\nthickening the lines, but for best effect font designers create custom design for\none or more/all characters for each font style. So we can not put regular, bold,\nitalics etc in one file as well, as that too will be wasteful.\n\nSo CSS lets you specify multiple font files, for different unicode range and font\nface etc, and let browser download the font they need based on the content of the\ncurrent page.\n\nSo coming back to problem: we only had place to store one font file, which clearly\nwon't cut it. The easy way to fix was suggested by Sourabh to allow people to pass\nURL of CSS file, eg Google Font recommends something like this:",
    "dependencies": {
      "0,0,0,34,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,71": {
    "value": "<style>\n@import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');\n</style>",
    "dependencies": {
      "0,0,0,34,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,72": {
    "value": "`@import`, or the `<link href=\"<some-url>\" rel=\"stylesheet\">` equivalent can be\nused. So we can ask people to give us CSS file URL as font file, and we can include\nit in the page. This does solve the problem, its easy. But it has a problem: it\nallows people to now provide arbitrary CSS file, there is no way to check the\ncontent of the target file to ensure it only contains `@font-face` declarations, it\ncan contain any CSS, and it becomes a way for people to include CSS in FTD files.\n\nThis is a problem because FTD is designed with multiple target support, we\ncurrently compile FTD to HTML/CSS/JS, but in future we will compile to Swift code\nor Kotlin etc for mobile devices, or C code for ncurses based terminal UI support\nand so on. We are taking inspiration from CSS, the attributes for example, but\nthat's it, those attributes will have equivalent in Android/nCurses etc, or we will\ntry to degrade gracefully.\n\nIf we allow CSS then suddenly our layout kernels can be misused to give arbitrary\nlayouts, and suddenly FTD files won't be compatible with our future FTD rendering\ntargets. We believe CSS is over designed etc, and so is JS. We can create a browser\nfrom scratch without CSS/JS overhead, which is capable of rendering FTD files, so\neven for browsers we do not need the whole thing. We can maybe even use canvas API\nto use such custom rendering even for current HTML based browsers.\n\nSo we can not include CSS. What we did instead of looked at `@font-face` from CSS,\nand created an equivalent for the same:",
    "dependencies": {
      "0,0,0,34,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,73": {
    "value": "-- fpm.font: Roboto\nwoff2: https://fonts.gstatic.com/s/roboto/v29-normal.woff2\nstyle: normal\n\n-- fpm.font: Roboto\nwoff2: https://fonts.gstatic.com/s/roboto/v29-italic.woff2\nstyle: italic",
    "dependencies": {
      "0,0,0,34,4,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,74": {
    "value": "This is quite equivalent to what those CSS files for font include:",
    "dependencies": {
      "0,0,0,34,5:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,75": {
    "value": "@font-face {\n  font-family: 'Roboto';\n  font-style: italic;\n  font-weight: 100;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/roboto/v29/font.woff2) format('woff2');\n  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4;\n}\n@font-face {\n  font-family: 'Roboto';\n  font-style: italic;\n  font-weight: 100;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/roboto/v29/font-2.woff2) format('woff2');\n  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;\n}",
    "dependencies": {
      "0,0,0,34,6,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,76": {
    "value": "We support all the attributes on `fpm.font`, with simplified names, eg `name`\ninstead of `font-family`, or `style` instead of `font-style` etc, and removed `src`\nin favour of individual font types supported, eg `woff` or `opentype` etc.\n\nSo now we generate the CSS instead of getting the CSS from user, this was we know\nhow to translate this transparently to Android when we come around to supporting\nnative Android rendering and so on.\n\nIn future we may create a utility `fpm css2font` that will take the css URL from\nGoogle Font etc, and auto convert it to `ftd.font` specs that can be added to\n`FPM.ftd` file.",
    "dependencies": {
      "0,0,0,34,7:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,77": {
    "value": "23rd Dec 2021\n\nSo I said including content from other package is proving to be challenging. Lets\nsee the problem. We have to modes of including contents from other packages.",
    "dependencies": {}
  },
  "@body@0,77,1": {
    "value": "23rd Dec 2021\n\nSo I said including content from other package is proving to be challenging. Lets\nsee the problem. We have to modes of including contents from other packages.",
    "dependencies": {
      "0,0,0,35,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,78": {
    "value": "In this say we have a document, and in that document I want to include some content\nfrom another document. If I want to include just an image, or a table or a code\nsnippet from that document then life is easy. But what if I want to include an\nentire heading subtree?\n\nSay that document has been organised into using heading `h1`, `h2`, `h3` etc, and\nsay I want to include the entire heading subtree rooted at second `h2` or third\n`h1`. To not have to complicate life we can given that specific `h2` an `id`.\n\nSo we want to include that entire `h2` in current document, including that `h2`'s\ndescendents like `h3` etc, all code and images and tables of that `h2`. We can\nwrite something like this:",
    "dependencies": {}
  },
  "@body@0,78,1": {
    "value": "In this say we have a document, and in that document I want to include some content\nfrom another document. If I want to include just an image, or a table or a code\nsnippet from that document then life is easy. But what if I want to include an\nentire heading subtree?\n\nSay that document has been organised into using heading `h1`, `h2`, `h3` etc, and\nsay I want to include the entire heading subtree rooted at second `h2` or third\n`h1`. To not have to complicate life we can given that specific `h2` an `id`.\n\nSo we want to include that entire `h2` in current document, including that `h2`'s\ndescendents like `h3` etc, all code and images and tables of that `h2`. We can\nwrite something like this:",
    "dependencies": {
      "0,0,0,35,2,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,79": {
    "value": "-- include: the-id-of/the-document\nid: the-id-of-the-h2",
    "dependencies": {
      "0,0,0,35,2,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,8": {
    "value": "1st Jan 2022\n\nArpita has been working relentlessly on transition UI and I am quite proud of what\nshe has done so far.",
    "dependencies": {}
  },
  "@body@0,8,1": {
    "value": "1st Jan 2022\n\nArpita has been working relentlessly on transition UI and I am quite proud of what\nshe has done so far.",
    "dependencies": {
      "0,0,0,9,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,80": {
    "value": "Now lets assume that the document where we are including that `h2` does not have\nthat much complexity, and it wants to include that `h2` at `h1` level.\n\nThis is the \"re-levelling\" problem. We may want to write something like this:",
    "dependencies": {
      "0,0,0,35,2,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,81": {
    "value": "-- include: the-id-of/the-document\nid: the-id-of-the-h2\nlevel: h1",
    "dependencies": {
      "0,0,0,35,2,4,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,82": {
    "value": "First challenge is if the content is from a different package, the two packages\nmay have different ideas on how to show a code snippet or a table etc.\n\nPackage Interface, and package aliasing are features that we are working towards to\nsolve this problem. So if you include the package as a dependency and overwrite it\ntransitive dependencies to use a package you provide instead of the package the\noriginal package author requested (as long as the substituted package confirms to\nthe package interface of the package being substituted), we achieve component\nvisual harmonisation.",
    "dependencies": {}
  },
  "@body@0,82,1": {
    "value": "First challenge is if the content is from a different package, the two packages\nmay have different ideas on how to show a code snippet or a table etc.\n\nPackage Interface, and package aliasing are features that we are working towards to\nsolve this problem. So if you include the package as a dependency and overwrite it\ntransitive dependencies to use a package you provide instead of the package the\noriginal package author requested (as long as the substituted package confirms to\nthe package interface of the package being substituted), we achieve component\nvisual harmonisation.",
    "dependencies": {
      "0,0,0,35,2,5,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,83": {
    "value": "In visual harmonisation we had to map `foo.code` to `bar.code`, the name of\ncomponent was the same, the package where the component was imported was\nsubstituted, this is easy to implement in `ftd::Library::get()` method.\n\nBut here was have to replace each instance of `foo.h2` with an `foo.h1`, and\n`foo.h3` with `foo.h2` and so on. Problem is how `foo.code` is not going to change.\nSo how do we find what are the promotion/demotion rules for any component in any\npackage.\n\nWe can try to solve it by creating promotion rule entry in `FPM.ftd`:",
    "dependencies": {}
  },
  "@body@0,83,1": {
    "value": "In visual harmonisation we had to map `foo.code` to `bar.code`, the name of\ncomponent was the same, the package where the component was imported was\nsubstituted, this is easy to implement in `ftd::Library::get()` method.\n\nBut here was have to replace each instance of `foo.h2` with an `foo.h1`, and\n`foo.h3` with `foo.h2` and so on. Problem is how `foo.code` is not going to change.\nSo how do we find what are the promotion/demotion rules for any component in any\npackage.\n\nWe can try to solve it by creating promotion rule entry in `FPM.ftd`:",
    "dependencies": {
      "0,0,0,35,2,6,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,84": {
    "value": "-- package: foo\n\n-- promotion-rules:\nheading-2: heading-1\nheading-3: heading-2\nheading-4: heading-3",
    "dependencies": {
      "0,0,0,35,2,6,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,85": {
    "value": "With these rules in place we are saying 1. only the components listed in\n`promotion-rules` are to be promoted or demoted, and 2. `heading-2` can be\npromoted to `heading-1` and demoted to `heading-3` and so on.",
    "dependencies": {
      "0,0,0,35,2,6,3:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,86": {
    "value": "This is the scenario that a package a table of content, and it wants to include\nmultiple documents from another package in the table of content. The challenge in\nthis case is \"re-levelling\" document \"roles\" like \"Chapter\" or \"Section\" and so on.\nIn original package the subtree we want to include may be just a section, but in\ncurrent package we may want to import it a chapter level.\n\nIf the documents know about their role, eg the title of a document was \"section\n1: introduction\", it will read wrong if it's included as a chapter. Also chapter\nnumbering must not be part of the document.\n\nOne thought for this is to define variables like `fpm.role` and `fpm.role-number`,\nand asking documents to use these variables instead of making assumptions about\ntheir roles etc.",
    "dependencies": {}
  },
  "@body@0,86,1": {
    "value": "This is the scenario that a package a table of content, and it wants to include\nmultiple documents from another package in the table of content. The challenge in\nthis case is \"re-levelling\" document \"roles\" like \"Chapter\" or \"Section\" and so on.\nIn original package the subtree we want to include may be just a section, but in\ncurrent package we may want to import it a chapter level.\n\nIf the documents know about their role, eg the title of a document was \"section\n1: introduction\", it will read wrong if it's included as a chapter. Also chapter\nnumbering must not be part of the document.\n\nOne thought for this is to define variables like `fpm.role` and `fpm.role-number`,\nand asking documents to use these variables instead of making assumptions about\ntheir roles etc.",
    "dependencies": {
      "0,0,0,35,3,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,87": {
    "value": "22nd Dec 2021\n\nSince Monday, I and Shobhit has been spending lot of time discussing how best to\nallow people to include content from package into another.\n\nThings are easier with data. Say you have a package that has defined some list or\nvariable or some record, you can easily import that package, and iterate through\nthat list or use the variable, and create your custom visualisations etc. This\npart of FTD/FPM is working well already.\n\nBut when it comes to text content, it proving to be surprisingly hard.",
    "dependencies": {}
  },
  "@body@0,87,1": {
    "value": "22nd Dec 2021\n\nSince Monday, I and Shobhit has been spending lot of time discussing how best to\nallow people to include content from package into another.\n\nThings are easier with data. Say you have a package that has defined some list or\nvariable or some record, you can easily import that package, and iterate through\nthat list or use the variable, and create your custom visualisations etc. This\npart of FTD/FPM is working well already.\n\nBut when it comes to text content, it proving to be surprisingly hard.",
    "dependencies": {
      "0,0,0,36,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,88": {
    "value": "21st Dec 2021\n\nWhen we are writing software we do not start from scratch, we take existing\nlibraries and build on top of them. When writing on the other hand, say a book, we\nsomehow live in the world where the assumption is every last word must be written\nor well its not a book.\n\nIt is not like we do not have open licensing available today for prose and creative\nwriting. Creative Commons is out there. [Wikipedia](https://en.wikipedia.org/wiki/Wikipedia:Copyrights)\nis successful project using Creative Commons. Github today has [147,082 Creative\nCommons repositories](https://github.com/search?q=license%3Acc&type=Repositories&ref=advsearch&l=&l=).\n\nEven software documentation like Django documentation, is available in permissible\nlicense, even though it is not Creative Commons. Significant number of open source\nsoftware ships with documentation, and usually that documentation is available in\npermissive licenses.\n\nSo we have *huge* amount of content available today. And yet we almost never see\nthe content being \"remixed\". Work being built on top of existing stuff. Everyone\nwriting a new book on say Python feels they must start from scratch.\n\nThis I believe is bad for the world. We may think like we have a lot of books but\nwe do not have enough books written. I once tried to write \"Python for PHP\nDevelopers\" and I got quite a good response on Reddit etc. We do not have enough\nintermediate level books.\n\nBut much worse than books, the real problem is ironically still too many books.\nLike say you are an intern and you want to join FifthTry, you will have to learn\nRust, but then also Diesel, and PostgreSQL. And yes Django. And possibly even Elm.\nSome JavaScript. Some CSS. And of course enough about Linux, and AWS? And this is\nassuming they do not have to learn any FifthTry specific stuff. Which they still\nhave to. What is FTD? How we deploy our services, how we do things and so forth.\n\nImagine there was a great book written about each of these topics, am I supposed to\nhand that many books to an intern who joins us? Maybe not all of them but it still\nmany books.\n\nHow about if there was just one book? Think about it. Do we really need to learn\nwhole of Django? Of course not, we only use Django for database modelling and\nmigrations, so they must not actually read about django views and admin and\ntemplate and so on. If you think about it telling an intern to learn any of them\nis itself really hard. How much of Rust should they know? How do you even talk\nabout it? Every team that uses Rust uses a different aspect of Rust.\n\nShould you learn about things that's not directly pertinent to your job, the exact\ntask? Of course learning is never bad, but we have only so much time, and if you\nnot smart about it you may end up spending too much of your precious learning time\nlearning things that may not be used for the job at the expense of other stuff that\nyou will need. Knowledge acquisition simply can not be done in depth first fashion,\nsince it's a bottom less pit.\n\nIn summary we want people to be able to create books or dedicated websites for\nlearning something, or compilation of information, knowledge, data etc, by using\nother packages as dependencies. This can allow \"knowledge curators\" to create\nlearning paths for specific audiences.",
    "dependencies": {}
  },
  "@body@0,88,1": {
    "value": "21st Dec 2021\n\nWhen we are writing software we do not start from scratch, we take existing\nlibraries and build on top of them. When writing on the other hand, say a book, we\nsomehow live in the world where the assumption is every last word must be written\nor well its not a book.\n\nIt is not like we do not have open licensing available today for prose and creative\nwriting. Creative Commons is out there. [Wikipedia](https://en.wikipedia.org/wiki/Wikipedia:Copyrights)\nis successful project using Creative Commons. Github today has [147,082 Creative\nCommons repositories](https://github.com/search?q=license%3Acc&type=Repositories&ref=advsearch&l=&l=).\n\nEven software documentation like Django documentation, is available in permissible\nlicense, even though it is not Creative Commons. Significant number of open source\nsoftware ships with documentation, and usually that documentation is available in\npermissive licenses.\n\nSo we have *huge* amount of content available today. And yet we almost never see\nthe content being \"remixed\". Work being built on top of existing stuff. Everyone\nwriting a new book on say Python feels they must start from scratch.\n\nThis I believe is bad for the world. We may think like we have a lot of books but\nwe do not have enough books written. I once tried to write \"Python for PHP\nDevelopers\" and I got quite a good response on Reddit etc. We do not have enough\nintermediate level books.\n\nBut much worse than books, the real problem is ironically still too many books.\nLike say you are an intern and you want to join FifthTry, you will have to learn\nRust, but then also Diesel, and PostgreSQL. And yes Django. And possibly even Elm.\nSome JavaScript. Some CSS. And of course enough about Linux, and AWS? And this is\nassuming they do not have to learn any FifthTry specific stuff. Which they still\nhave to. What is FTD? How we deploy our services, how we do things and so forth.\n\nImagine there was a great book written about each of these topics, am I supposed to\nhand that many books to an intern who joins us? Maybe not all of them but it still\nmany books.\n\nHow about if there was just one book? Think about it. Do we really need to learn\nwhole of Django? Of course not, we only use Django for database modelling and\nmigrations, so they must not actually read about django views and admin and\ntemplate and so on. If you think about it telling an intern to learn any of them\nis itself really hard. How much of Rust should they know? How do you even talk\nabout it? Every team that uses Rust uses a different aspect of Rust.\n\nShould you learn about things that's not directly pertinent to your job, the exact\ntask? Of course learning is never bad, but we have only so much time, and if you\nnot smart about it you may end up spending too much of your precious learning time\nlearning things that may not be used for the job at the expense of other stuff that\nyou will need. Knowledge acquisition simply can not be done in depth first fashion,\nsince it's a bottom less pit.\n\nIn summary we want people to be able to create books or dedicated websites for\nlearning something, or compilation of information, knowledge, data etc, by using\nother packages as dependencies. This can allow \"knowledge curators\" to create\nlearning paths for specific audiences.",
    "dependencies": {
      "0,0,0,37,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,89": {
    "value": "20th Dec 2021\n\nMe and Arpita worked further on the design of translation UI. Check out [this\ncommit](https://github.com/FifthTry/fpm/commit/20e709dfb5f30cae9db33d3ca2b97357c4fc3872)\nto see the basic skeleton of our design.\n\nThe key idea is now we will have multiple base HTML files, `with-fallback.html`\nand `with-message.html`, which will be created with content of more than one FTD\ndocuments. For example `with-message.html` will render a \"message document\" and\na \"main document\". Further, individual documents can be shown and hidden using\nbasic DOM style manipulation (`display: none` etc).\n\nWe are going to need a new feature in FTD, [\"message-host\"](/ftd/~/127/), which\nwill allow an event handler to message the \"ftd host\" (also in future we are going\nto rename FTD \"Library\" terminology to \"FTD Host\").\n\nOur `with-fallback.html` will come with a `show_main()` and `show_fallback()` host\nmessages that our \"message ftd\" file will be able to trigger using `$event-click$:\nmessage-host show-main` etc.\n\nWe are quite happy with this design for now. I wrote couple of feature requests\nthat can be implemented using this: [\"banner support\"](/fpm/~/32/) and [encryption\nsupport](/fpm/~/33/).",
    "dependencies": {}
  },
  "@body@0,89,1": {
    "value": "20th Dec 2021\n\nMe and Arpita worked further on the design of translation UI. Check out [this\ncommit](https://github.com/FifthTry/fpm/commit/20e709dfb5f30cae9db33d3ca2b97357c4fc3872)\nto see the basic skeleton of our design.\n\nThe key idea is now we will have multiple base HTML files, `with-fallback.html`\nand `with-message.html`, which will be created with content of more than one FTD\ndocuments. For example `with-message.html` will render a \"message document\" and\na \"main document\". Further, individual documents can be shown and hidden using\nbasic DOM style manipulation (`display: none` etc).\n\nWe are going to need a new feature in FTD, [\"message-host\"](/ftd/~/127/), which\nwill allow an event handler to message the \"ftd host\" (also in future we are going\nto rename FTD \"Library\" terminology to \"FTD Host\").\n\nOur `with-fallback.html` will come with a `show_main()` and `show_fallback()` host\nmessages that our \"message ftd\" file will be able to trigger using `$event-click$:\nmessage-host show-main` etc.\n\nWe are quite happy with this design for now. I wrote couple of feature requests\nthat can be implemented using this: [\"banner support\"](/fpm/~/32/) and [encryption\nsupport](/fpm/~/33/).",
    "dependencies": {
      "0,0,0,38,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,9": {
    "value": "Consider [this page for example](https://arpita-jaiswal.github.io/vivekanand/), it\nis originally in English and is being translated in two other languages, Hindi and\nGujarati. From any page in the English language one, you can click on the language\ndropdown to see other languages it is available in, and jump to that corresponding\npage in that language.\n\nNow say you go to the the corresponding [Hindi\ntranslation](https://arpita-jaiswal.github.io/vivekanand-hi/), you see the\nfollowing:",
    "dependencies": {}
  },
  "@body@0,9,2": {
    "value": "Consider [this page for example](https://arpita-jaiswal.github.io/vivekanand/), it\nis originally in English and is being translated in two other languages, Hindi and\nGujarati. From any page in the English language one, you can click on the language\ndropdown to see other languages it is available in, and jump to that corresponding\npage in that language.\n\nNow say you go to the the corresponding [Hindi\ntranslation](https://arpita-jaiswal.github.io/vivekanand-hi/), you see the\nfollowing:",
    "dependencies": {
      "0,0,0,9,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,90": {
    "value": "19th Dec 2021\n\nA relatively strong consideration for designing translation, especially translation\nof versioned packages is that \"translation can not alter logical content\" rule.\nConsider `1.0/intro.txt` vs `1.1/intro.txt`. Consider a question: who decides if\n`1.1/intro.txt` must exist? Original package only, or can translation package also\ndecide this? Is it possible that in original we only have `1.0/intro.txt` and no\n`1.1/intro.txt`, which means as per the maintainers of original package, who\nsupposedly are working closest with the actual software being translated, as per\nthem there is no need for `1.1/intro.txt`, that there is no software change between\n`1.0` and `1.1` such that `intro.txt` content changes. But can translation\nmaintainers take overwrite this call and still decide to have `1.1/intro.txt`?\n\nWhat if the original `1.0/intro.txt` had only so much content and translation team\nnot only translated but decided to expand the intro and cover more topics in the\nintro? If they do then original and translated intro have logically diverged. It\nwould then not be accurate to say that this is just a translation, it is not an\nindependent work which was derived from the original.\n\nI am not saying logical changes, derivative work shouldn't be allowed, just that\none should be aware when they are doing it. Some authors may be okay with their\nwork being translated \"faithfully\" in other languages, but may not like their work\neditorialised or \"improved upon\" by others (and sold / marketed in the original\nauthor's name). I as an author may not be able to read how you have altered my work\nin Chinese or some, so how can I as an author endorse it? I don't even know what's\nin it, maybe the change is minor but its really hard to say what is minor and what\nis not. A little thing the translator decided to omit as its too early to mention\nthis feature, maybe the reason people would not buy that product because the author\nknew that that feature must be mentioned earlier as author knows the audience\nbetter than the translator.\n\nBottom line is there should be a clean line between translation and derivative\nwork. And authors should be allowed to say they are okay with strict translation\nand may not have energy to whet the \"editorialisations\" and may not want\nderivative work.\n\nSo when we are talking about translation so far, we are talking about the stricter\ntranslation, no logical changes, as faithful as vagaries of natural languages\nallows one to be.\n\nLet's talk about tracking now. Tracking basically says \"hey this document has\nchanged, and you said that document depends on this document, so maybe consider\nupdating that document\".\n\nNow one can argue that tracking should not be allowed in translation packages. If\nyou want to be strict, you maybe tempted to say the only document a translated\ndocument should be allowed to track is the corresponding document in original\npackage.\n\nBy and large I agree with assessment. There is one exception tho: what if say you\nare also maintaining a \"translated glossary\". This document may not exist in\noriginal, but in every translation one must maintain a document that lists what's\nthe translated term we are using for each interesting technical term in the\noriginal language. If we start from scratch, two different translators can pick\ntwo different ways to translate a term, and that may not be good for readers. So\nthis document should be present, and one can argue every document in the translated\npackage should be tracking the glossary file.\n\nWe are planning to implement a [feature in\n`ftd`](///www.fifthtry.com/fifthtry/ftd/~/9/), which can make this consideration\nredundant though, do not put translated term in respective documents at all, but\nrefer to them from a common glossary file via ftd markup references so if\ntranslation for a term changes all documents using that automatically get the\nlatest version.\n\nWhere does it leave us? Disallow tracking in translation packages?",
    "dependencies": {}
  },
  "@body@0,90,1": {
    "value": "19th Dec 2021\n\nA relatively strong consideration for designing translation, especially translation\nof versioned packages is that \"translation can not alter logical content\" rule.\nConsider `1.0/intro.txt` vs `1.1/intro.txt`. Consider a question: who decides if\n`1.1/intro.txt` must exist? Original package only, or can translation package also\ndecide this? Is it possible that in original we only have `1.0/intro.txt` and no\n`1.1/intro.txt`, which means as per the maintainers of original package, who\nsupposedly are working closest with the actual software being translated, as per\nthem there is no need for `1.1/intro.txt`, that there is no software change between\n`1.0` and `1.1` such that `intro.txt` content changes. But can translation\nmaintainers take overwrite this call and still decide to have `1.1/intro.txt`?\n\nWhat if the original `1.0/intro.txt` had only so much content and translation team\nnot only translated but decided to expand the intro and cover more topics in the\nintro? If they do then original and translated intro have logically diverged. It\nwould then not be accurate to say that this is just a translation, it is not an\nindependent work which was derived from the original.\n\nI am not saying logical changes, derivative work shouldn't be allowed, just that\none should be aware when they are doing it. Some authors may be okay with their\nwork being translated \"faithfully\" in other languages, but may not like their work\neditorialised or \"improved upon\" by others (and sold / marketed in the original\nauthor's name). I as an author may not be able to read how you have altered my work\nin Chinese or some, so how can I as an author endorse it? I don't even know what's\nin it, maybe the change is minor but its really hard to say what is minor and what\nis not. A little thing the translator decided to omit as its too early to mention\nthis feature, maybe the reason people would not buy that product because the author\nknew that that feature must be mentioned earlier as author knows the audience\nbetter than the translator.\n\nBottom line is there should be a clean line between translation and derivative\nwork. And authors should be allowed to say they are okay with strict translation\nand may not have energy to whet the \"editorialisations\" and may not want\nderivative work.\n\nSo when we are talking about translation so far, we are talking about the stricter\ntranslation, no logical changes, as faithful as vagaries of natural languages\nallows one to be.\n\nLet's talk about tracking now. Tracking basically says \"hey this document has\nchanged, and you said that document depends on this document, so maybe consider\nupdating that document\".\n\nNow one can argue that tracking should not be allowed in translation packages. If\nyou want to be strict, you maybe tempted to say the only document a translated\ndocument should be allowed to track is the corresponding document in original\npackage.\n\nBy and large I agree with assessment. There is one exception tho: what if say you\nare also maintaining a \"translated glossary\". This document may not exist in\noriginal, but in every translation one must maintain a document that lists what's\nthe translated term we are using for each interesting technical term in the\noriginal language. If we start from scratch, two different translators can pick\ntwo different ways to translate a term, and that may not be good for readers. So\nthis document should be present, and one can argue every document in the translated\npackage should be tracking the glossary file.\n\nWe are planning to implement a [feature in\n`ftd`](///www.fifthtry.com/fifthtry/ftd/~/9/), which can make this consideration\nredundant though, do not put translated term in respective documents at all, but\nrefer to them from a common glossary file via ftd markup references so if\ntranslation for a term changes all documents using that automatically get the\nlatest version.\n\nWhere does it leave us? Disallow tracking in translation packages?",
    "dependencies": {
      "0,0,0,39,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,91": {
    "value": "17th Dec 2021\n\nSo Arpita has heroically built the entire translation feature almost.\n`fpm translation-status` is working. It looks for status of all documents in\noriginal package by reviewing content of `.track` and shows status for each file\nlike \"Never Marked\", \"Update Date\" etc.\n\nTODO: Arpita to give me sample output of the command.\n\nShe has also implement fallback based build: if `django-hi/intro.ftd` doesn't exist\nwe look for `django/intro.ftd`.\n\nNext: We will build `fpm mark-upto-date` to keep updating translation status.\n\nWe also discussed if django has N dependencies do we auto include them in\n`django-hi` if `django-hi` is a translation? Or should each translation mention\neach dependency explicitly? For translation we may want to use the translation of\na dependency instead of the original package, and while doing so we would need to\nbe able to rename and keep using the same name.\n\nNext we also have to add `language` in `fpm::Package`, and ensure that key is set\nif current package is `translation-of` some \"original package\". Original package\nmust also have the `language` set and the languages must be different. Also\n`translation-of` can't be \"chained\", if this package is a translation of some other\npackage then no other package can translate this package, everyone must translate\nthe same package, each translation \"cluster\" has a single original translation\npackage that every package in that cluster is translating.\n\nFinally we need to come to UI. We have a few scenarios, say translation doesn't\nexist for some document, in which case we have to show a message on top saying you\nare seeing the English version because this document is not yet translated in\nHindi. Similarly we need UI for \"never marked\", \"out-of-date\" and \"upto date\".\n\nWe want people to be able to control these messages, these messages themselves must\nbe translated. We will have files `FPM/{missing, never-marked, out-of-date}.ftd`,\nif they are not present we will have some fallback message. When creating a new\ntranslation using a future `fpm create-translation` command we will auto create\nthese files maybe.\n\nIn never-marked and out-of-date scenarios we will have three FTD files to build,\nwhich will go in the generated `.html` file. The \"message\" file will show on the\ntop of the page, and then one of the two, original and translation, would be shown\nand the \"message\" file will have a button with an `$event-click$: call-js\n<function-name>`, and we will have FPM.js file, which will have functions\n`show-original` and `show-translation` (and a \"client variable:\n`fpm.showing-original`).\n\nWe will also need other server variables to be used when building \"message\" file\nwith variables like `original-language`, `translation-language`,\n`translation-status: \"never marked\" etc`, `original-marked-on-date`,\n`original-latest-date`, `original-diff` etc.",
    "dependencies": {}
  },
  "@body@0,91,1": {
    "value": "17th Dec 2021\n\nSo Arpita has heroically built the entire translation feature almost.\n`fpm translation-status` is working. It looks for status of all documents in\noriginal package by reviewing content of `.track` and shows status for each file\nlike \"Never Marked\", \"Update Date\" etc.\n\nTODO: Arpita to give me sample output of the command.\n\nShe has also implement fallback based build: if `django-hi/intro.ftd` doesn't exist\nwe look for `django/intro.ftd`.\n\nNext: We will build `fpm mark-upto-date` to keep updating translation status.\n\nWe also discussed if django has N dependencies do we auto include them in\n`django-hi` if `django-hi` is a translation? Or should each translation mention\neach dependency explicitly? For translation we may want to use the translation of\na dependency instead of the original package, and while doing so we would need to\nbe able to rename and keep using the same name.\n\nNext we also have to add `language` in `fpm::Package`, and ensure that key is set\nif current package is `translation-of` some \"original package\". Original package\nmust also have the `language` set and the languages must be different. Also\n`translation-of` can't be \"chained\", if this package is a translation of some other\npackage then no other package can translate this package, everyone must translate\nthe same package, each translation \"cluster\" has a single original translation\npackage that every package in that cluster is translating.\n\nFinally we need to come to UI. We have a few scenarios, say translation doesn't\nexist for some document, in which case we have to show a message on top saying you\nare seeing the English version because this document is not yet translated in\nHindi. Similarly we need UI for \"never marked\", \"out-of-date\" and \"upto date\".\n\nWe want people to be able to control these messages, these messages themselves must\nbe translated. We will have files `FPM/{missing, never-marked, out-of-date}.ftd`,\nif they are not present we will have some fallback message. When creating a new\ntranslation using a future `fpm create-translation` command we will auto create\nthese files maybe.\n\nIn never-marked and out-of-date scenarios we will have three FTD files to build,\nwhich will go in the generated `.html` file. The \"message\" file will show on the\ntop of the page, and then one of the two, original and translation, would be shown\nand the \"message\" file will have a button with an `$event-click$: call-js\n<function-name>`, and we will have FPM.js file, which will have functions\n`show-original` and `show-translation` (and a \"client variable:\n`fpm.showing-original`).\n\nWe will also need other server variables to be used when building \"message\" file\nwith variables like `original-language`, `translation-language`,\n`translation-status: \"never marked\" etc`, `original-marked-on-date`,\n`original-latest-date`, `original-diff` etc.",
    "dependencies": {
      "0,0,0,40,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,92": {
    "value": "15th Dec 2021\n\n\nWhen referring to a document, we use a document id. The document id for a document\nin current package is the relative path from package root. If we are referring to\na document from another package, we use `<package-name>:<document-name>`, the colon\nseparated path.\n\nOn its own if you see `x`, it can either be a document in current package, you may\nask why no `x.ftd`? Are we allowing `x/index.ftd` to be referred to by `x`? No. Our\n`index.ftd` is only special at package root level, and not at individual folder\nlevel, we follow `x.ftd` and `x/y.ftd` convention and do not fall back to\n`x/index.ftd`, `x/y.ftd` as say node etc do. There are advantages to fall back, eg\nwhole of `/x/*` is in a folder `x`, this leads to some simplicity, eg if you want\nto ignore that path, you have to no ignore `x/` folder as well as `x.ftd` file.\n\nWe also have complications around import path in ftd documents vs file paths on\ncommand line. If you want to import `x.ftd` you write `-- import: x`, without the\nextension. Does that mean when you want to refer to `x.ftd` anywhere in FPM context\nit must be `x`? Like on command line if you want to add tracking on `x.ftd` or sync\n`x.ftd` do you use `x` or `x.ftd`?\n\nWe can have a rule, if only ftd file is meaningful in any context, eg in import\nstatement, you can not import a `.txt` file, but you can track `.txt` file, so if\nonly `.ftd` is allowed for something we use the path without `.ftd` extension and\nany file can be passed we use the extension.\n\nWe can also standardise on file vs document terminology. Document in FPM context\nstrictly means it is a FTD file, where as file means any file. So function names,\nparameters etc can use `print_file()` or `print_document()` etc naming convention.\n\nThere is one more complexity. Say you have a `logo.png` file, there can also be a\n`logo.png.ftd` file which contains the meta data or web index of the `logo.png`. We\ncan argue that this is too much complexity and lets have no such special\nconvention. For example this causes another complexity as to what should be the URL\nof such `logo.png.ftd` file? The URL of `logo.png` is `/logo.png` if it is at\npackage root, but for `x.ftd` the URL is `/x/` so with this logic the URL of\n`logo.png.ftd` would be `/logo.png/`, and having different content based on\npresence or absence of a trailing `/` in URL seems to be a bad idea. Or maybe we do\nit based on \"accept\" header, if you request an HTML for `/logo.png` you get the\ncontent of `logo.png.ftd` and if you request image you get the `.png`. But then how\nwould you link to the file? Say you want to open an image in a new tab?",
    "dependencies": {}
  },
  "@body@0,92,1": {
    "value": "15th Dec 2021\n\n\nWhen referring to a document, we use a document id. The document id for a document\nin current package is the relative path from package root. If we are referring to\na document from another package, we use `<package-name>:<document-name>`, the colon\nseparated path.\n\nOn its own if you see `x`, it can either be a document in current package, you may\nask why no `x.ftd`? Are we allowing `x/index.ftd` to be referred to by `x`? No. Our\n`index.ftd` is only special at package root level, and not at individual folder\nlevel, we follow `x.ftd` and `x/y.ftd` convention and do not fall back to\n`x/index.ftd`, `x/y.ftd` as say node etc do. There are advantages to fall back, eg\nwhole of `/x/*` is in a folder `x`, this leads to some simplicity, eg if you want\nto ignore that path, you have to no ignore `x/` folder as well as `x.ftd` file.\n\nWe also have complications around import path in ftd documents vs file paths on\ncommand line. If you want to import `x.ftd` you write `-- import: x`, without the\nextension. Does that mean when you want to refer to `x.ftd` anywhere in FPM context\nit must be `x`? Like on command line if you want to add tracking on `x.ftd` or sync\n`x.ftd` do you use `x` or `x.ftd`?\n\nWe can have a rule, if only ftd file is meaningful in any context, eg in import\nstatement, you can not import a `.txt` file, but you can track `.txt` file, so if\nonly `.ftd` is allowed for something we use the path without `.ftd` extension and\nany file can be passed we use the extension.\n\nWe can also standardise on file vs document terminology. Document in FPM context\nstrictly means it is a FTD file, where as file means any file. So function names,\nparameters etc can use `print_file()` or `print_document()` etc naming convention.\n\nThere is one more complexity. Say you have a `logo.png` file, there can also be a\n`logo.png.ftd` file which contains the meta data or web index of the `logo.png`. We\ncan argue that this is too much complexity and lets have no such special\nconvention. For example this causes another complexity as to what should be the URL\nof such `logo.png.ftd` file? The URL of `logo.png` is `/logo.png` if it is at\npackage root, but for `x.ftd` the URL is `/x/` so with this logic the URL of\n`logo.png.ftd` would be `/logo.png/`, and having different content based on\npresence or absence of a trailing `/` in URL seems to be a bad idea. Or maybe we do\nit based on \"accept\" header, if you request an HTML for `/logo.png` you get the\ncontent of `logo.png.ftd` and if you request image you get the `.png`. But then how\nwould you link to the file? Say you want to open an image in a new tab?",
    "dependencies": {
      "0,0,0,41,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,93": {
    "value": "14th Dec 2021\n\n`fpm` cli currently is littered with `println()` and `eprintln()` calls all over\nthe place. This works okay if we assume that output will always be on terminal, but\nwe want to support JSON output as well. Also even if we did not want to, in\ngeneral this is bad software design as if the code on how to show output is spread\nover the entire crate then its harder to modify it, test it etc.\n\nWhat we should do instead if each of the commands that we have must have a\ncorresponding output type define. Currently we return just a success indicator, and\nthe return is returned as some custom error type, which in general sounds good but\nhas no provision for warnings etc, say if you are building `cp` someone asked you\nto copy 10 files and you failed to copy the last file, should you only get the\n`Err` part, then you will have to stuff information about the files that were\nsuccessfully parsed inside `Err`, or you say if even one file was successful then\nwe return `Ok`.\n\nThis is just mis-using `Result`. We can use `Result::Err` to indicate something\nreally bad has gone wrong, we could not proceed at all, say the command you tried\nto execute does not exist, or the config file is not found. But all other wrong,\neg a given FTD file has bad syntax or could not be read due to permission issues,\nwe should send all as `Result::Ok`.\n\nFurther we should have a type for each command which represents the output, which\ncan be printed out on stdout with colour highlighting or converted to JSON etc.\nAlso, `main()` should do the print to stdout or convert to json etc and not\nindividual command handler functions.",
    "dependencies": {}
  },
  "@body@0,93,1": {
    "value": "14th Dec 2021\n\n`fpm` cli currently is littered with `println()` and `eprintln()` calls all over\nthe place. This works okay if we assume that output will always be on terminal, but\nwe want to support JSON output as well. Also even if we did not want to, in\ngeneral this is bad software design as if the code on how to show output is spread\nover the entire crate then its harder to modify it, test it etc.\n\nWhat we should do instead if each of the commands that we have must have a\ncorresponding output type define. Currently we return just a success indicator, and\nthe return is returned as some custom error type, which in general sounds good but\nhas no provision for warnings etc, say if you are building `cp` someone asked you\nto copy 10 files and you failed to copy the last file, should you only get the\n`Err` part, then you will have to stuff information about the files that were\nsuccessfully parsed inside `Err`, or you say if even one file was successful then\nwe return `Ok`.\n\nThis is just mis-using `Result`. We can use `Result::Err` to indicate something\nreally bad has gone wrong, we could not proceed at all, say the command you tried\nto execute does not exist, or the config file is not found. But all other wrong,\neg a given FTD file has bad syntax or could not be read due to permission issues,\nwe should send all as `Result::Ok`.\n\nFurther we should have a type for each command which represents the output, which\ncan be printed out on stdout with colour highlighting or converted to JSON etc.\nAlso, `main()` should do the print to stdout or convert to json etc and not\nindividual command handler functions.",
    "dependencies": {
      "0,0,0,42,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,94": {
    "value": "13th Dec 2021\n\n\n- [x] `fpm sync <list of files file>`\n- [x] `fpm status <file>` to show all statuses for the file\n- [x] `fpm status` to show status of adhoc tracking but not translation stuff\n- [x] `fpm stop-tracking`\n- [x] `fpm diff <file>` to show all diffs (including tracking diff, translation\n       diff)\n- [x] `fpm diff -a` to show everything for every file`\n- [x] support tracking, sync, diff for any file, not just ftd files\n- [x] allow any file type to track any file type\n- [ ] `fpm translation-status`\n- [ ] `fpm translation-status <file or folder>`\n- [ ] `fpm mark-upto-date a --target b --on <timestamp>`\n- [ ] `fpm diff <optional-folder>` to only show regular diff (only changes from\n      `.history` file)",
    "dependencies": {}
  },
  "@body@0,94,1": {
    "value": "13th Dec 2021\n\n\n- [x] `fpm sync <list of files file>`\n- [x] `fpm status <file>` to show all statuses for the file\n- [x] `fpm status` to show status of adhoc tracking but not translation stuff\n- [x] `fpm stop-tracking`\n- [x] `fpm diff <file>` to show all diffs (including tracking diff, translation\n       diff)\n- [x] `fpm diff -a` to show everything for every file`\n- [x] support tracking, sync, diff for any file, not just ftd files\n- [x] allow any file type to track any file type\n- [ ] `fpm translation-status`\n- [ ] `fpm translation-status <file or folder>`\n- [ ] `fpm mark-upto-date a --target b --on <timestamp>`\n- [ ] `fpm diff <optional-folder>` to only show regular diff (only changes from\n      `.history` file)",
    "dependencies": {
      "0,0,0,43,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,95": {
    "value": "12th Dec 2021\n\nBeen looking at code and found a struct `fpm::document::Document`. Not too happy\nwith its design right now.\n\nThe idea is we have a lot of commands, and many of these commands go through\nall the documents in the current package, and `fpm::document::Document` and the\ncorresponding `get_documents()` gives you a vector of these documents for easier\ntime handling all files. The main job this `get_documents()` is abstracting over\nthe directory walking so you do not have to worry about anything and you can just\ndo a `for d in get_documents()`. Another thing `get_documents()` takes care of is\nignoring documents that should not be handled, eg `.history`, `.track`, `.build`\netc special folders.\n\nI was thinking about what's bothering so much about it. The first thought is\nabstraction and frameworks. I kind of am not fond of them, unless there is a strong\nreason. It like a trade, you want to have a nice Mercedes, sure, go ahead, you just\nhave to pay for it. You cant just wish it. If you want to create a framework you\nhave to understand all future needs. You have to educate people, it must be well\ndocumented. There must be abstraction boundaries. Everyone must understand what\nthis framework is doing etc etc. People look at framework and go say I will also\nmake one. But I will do all the work later. If you wonder where tech debt comes\nfrom, this is where it comes from. You went to a Mercedes showroom and drove off\nwith a shiny car, and told them you will pay for it later. Live with your\n\"bailgadi\" instead.",
    "dependencies": {}
  },
  "@body@0,95,1": {
    "value": "12th Dec 2021\n\nBeen looking at code and found a struct `fpm::document::Document`. Not too happy\nwith its design right now.\n\nThe idea is we have a lot of commands, and many of these commands go through\nall the documents in the current package, and `fpm::document::Document` and the\ncorresponding `get_documents()` gives you a vector of these documents for easier\ntime handling all files. The main job this `get_documents()` is abstracting over\nthe directory walking so you do not have to worry about anything and you can just\ndo a `for d in get_documents()`. Another thing `get_documents()` takes care of is\nignoring documents that should not be handled, eg `.history`, `.track`, `.build`\netc special folders.\n\nI was thinking about what's bothering so much about it. The first thought is\nabstraction and frameworks. I kind of am not fond of them, unless there is a strong\nreason. It like a trade, you want to have a nice Mercedes, sure, go ahead, you just\nhave to pay for it. You cant just wish it. If you want to create a framework you\nhave to understand all future needs. You have to educate people, it must be well\ndocumented. There must be abstraction boundaries. Everyone must understand what\nthis framework is doing etc etc. People look at framework and go say I will also\nmake one. But I will do all the work later. If you wonder where tech debt comes\nfrom, this is where it comes from. You went to a Mercedes showroom and drove off\nwith a shiny car, and told them you will pay for it later. Live with your\n\"bailgadi\" instead.",
    "dependencies": {
      "0,0,0,44,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,96": {
    "value": "So our bullock-cart should be `std::path::PathBuf`. Also instead of framework - a\nfull on abstraction over file system, as that is what the `fpm::document` module\nis trying to be, an abstraction over file system so you do not have to deal with\nfile system API - we should think of use cases and write helper methods.\n\nLet's see what all we need? We need to know if the given path is ftd document or\nmarkdown or some static file. Further want to know if some path is top level,\nin-fact there is only one such use case, we only do one special handling, the\ntop level `index.ftd` maps to `index.html`, every other `.ftd` maps to\n`<without-extension/index.html`. Further during processing we want to report\nrelative path of every document being processed, with respect to current directory.\n\nAnother thing we need is some sort of expectation if we are running from the\npackage root directory or any random path inside it. We want to support the later\ncase so none of the function should be written with respect to the assumption that\nthey are running from package root directory. Either that or we assume everything\nis running from package root and we do a chdir at the start of the program. If we\ndo change directory then we still need to keep track of which directory we were\ncalled from so that during reporting we show the relative paths.\n\nWe also need to be able to process the subset of a directory, either the current\ndirectory or a directory whose path was specified on the command line. So whatever\ndirectory walker we need, need that ability.\n\nFurther we want to sometime process files from another package, say in case of\ntranslation, we want to walk the original package and find corresponding files in\ncurrent package. That too we would want to do starting from an arbitrary folder, eg\nthe folder corresponding to current dir in the original package (eg if package root\nis `foo` and you are in currently in `foo/a/b`, and original is `foo-en`, then we\nwant to traverse all files in `.packages/foo-en/a/b/`).",
    "dependencies": {}
  },
  "@body@0,96,2": {
    "value": "So our bullock-cart should be `std::path::PathBuf`. Also instead of framework - a\nfull on abstraction over file system, as that is what the `fpm::document` module\nis trying to be, an abstraction over file system so you do not have to deal with\nfile system API - we should think of use cases and write helper methods.\n\nLet's see what all we need? We need to know if the given path is ftd document or\nmarkdown or some static file. Further want to know if some path is top level,\nin-fact there is only one such use case, we only do one special handling, the\ntop level `index.ftd` maps to `index.html`, every other `.ftd` maps to\n`<without-extension/index.html`. Further during processing we want to report\nrelative path of every document being processed, with respect to current directory.\n\nAnother thing we need is some sort of expectation if we are running from the\npackage root directory or any random path inside it. We want to support the later\ncase so none of the function should be written with respect to the assumption that\nthey are running from package root directory. Either that or we assume everything\nis running from package root and we do a chdir at the start of the program. If we\ndo change directory then we still need to keep track of which directory we were\ncalled from so that during reporting we show the relative paths.\n\nWe also need to be able to process the subset of a directory, either the current\ndirectory or a directory whose path was specified on the command line. So whatever\ndirectory walker we need, need that ability.\n\nFurther we want to sometime process files from another package, say in case of\ntranslation, we want to walk the original package and find corresponding files in\ncurrent package. That too we would want to do starting from an arbitrary folder, eg\nthe folder corresponding to current dir in the original package (eg if package root\nis `foo` and you are in currently in `foo/a/b`, and original is `foo-en`, then we\nwant to traverse all files in `.packages/foo-en/a/b/`).",
    "dependencies": {
      "0,0,0,44,2,2:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,97": {
    "value": "To simplify things our code can assume they are running from the right place. The\nconfig object will keep track of the original current directory.",
    "dependencies": {}
  },
  "@body@0,97,1": {
    "value": "To simplify things our code can assume they are running from the right place. The\nconfig object will keep track of the original current directory.",
    "dependencies": {
      "0,0,0,44,3,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,98": {
    "value": "All paths would be stored in the \"Rustonic\" way. We will have a method on config\nobject that converts any path to original current directory relative string for\ndisplay purpose.",
    "dependencies": {}
  },
  "@body@0,98,1": {
    "value": "All paths would be stored in the \"Rustonic\" way. We will have a method on config\nobject that converts any path to original current directory relative string for\ndisplay purpose.",
    "dependencies": {
      "0,0,0,44,4,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@body@0,99": {
    "value": "In fact we would be using [camino](https://crates.io/crates/camino/1.0.2) for\nstoring paths, so we do not have to do `.unwrap()` when converting path to str\neverywhere.",
    "dependencies": {}
  },
  "@body@0,99,1": {
    "value": "In fact we would be using [camino](https://crates.io/crates/camino/1.0.2) for\nstoring paths, so we do not have to do `.unwrap()` when converting path to str\neverywhere.",
    "dependencies": {
      "0,0,0,44,5,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@caption@0,108": {
    "value": "using heading from some-lib",
    "dependencies": {
      "0,0,0,47,4,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@caption@0,130": {
    "value": "IDE showing the documentation",
    "dependencies": {
      "0,0,0,48,4,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@caption@0,149": {
    "value": "generalised import",
    "dependencies": {
      "0,0,0,56,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@caption@0,151": {
    "value": "fpm and markdown",
    "dependencies": {
      "0,0,0,56,4,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@caption@0,153": {
    "value": "fpm and markdown",
    "dependencies": {
      "0,0,0,56,6,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@caption@0,156": {
    "value": "a.py",
    "dependencies": {
      "0,0,0,57,3,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@caption@0,46": {
    "value": "Note the /foo/ appended to canonical-url",
    "dependencies": {
      "0,0,0,25,4,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@caption@0,9": {
    "value": "You can see the translation banner and available languages",
    "dependencies": {
      "0,0,0,9,2,1:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@id@0,160": {
    "value": "SdpCVTk84DM",
    "dependencies": {}
  },
  "@id@0,203": {
    "value": "rny1EGkqw_M",
    "dependencies": {}
  },
  "@lang@0,106": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,108": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,110": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,113": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,116": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,118": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,121": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,123": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,125": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,128": {
    "value": "py",
    "dependencies": {}
  },
  "@lang@0,143": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,149": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,151": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,153": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,155": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,156": {
    "value": "py",
    "dependencies": {}
  },
  "@lang@0,168": {
    "value": "sh",
    "dependencies": {}
  },
  "@lang@0,171": {
    "value": "py",
    "dependencies": {}
  },
  "@lang@0,173": {
    "value": "diff",
    "dependencies": {}
  },
  "@lang@0,175": {
    "value": "diff",
    "dependencies": {}
  },
  "@lang@0,177": {
    "value": "diff",
    "dependencies": {}
  },
  "@lang@0,179": {
    "value": "diff",
    "dependencies": {}
  },
  "@lang@0,181": {
    "value": "diff",
    "dependencies": {}
  },
  "@lang@0,27": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,31": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,41": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,44": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,46": {
    "value": "html",
    "dependencies": {}
  },
  "@lang@0,51": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,53": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,59": {
    "value": "sh",
    "dependencies": {}
  },
  "@lang@0,61": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,63": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,71": {
    "value": "html",
    "dependencies": {}
  },
  "@lang@0,73": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,75": {
    "value": "css",
    "dependencies": {}
  },
  "@lang@0,79": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,81": {
    "value": "ftd",
    "dependencies": {}
  },
  "@lang@0,84": {
    "value": "ftd",
    "dependencies": {}
  },
  "@link@0,0,0,0,1": {
    "value": "about/",
    "dependencies": {}
  },
  "@link@0,1,1,0,2": {
    "value": "about/",
    "dependencies": {}
  },
  "@src@0,10": {
    "value": "https://i.imgur.com/2zHKX8m.jpg",
    "dependencies": {
      "0,0,0,9,3,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@src@0,11": {
    "value": "https://i.imgur.com/QzstrXh.jpg",
    "dependencies": {
      "0,0,0,9,4,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@src@0,12": {
    "value": "https://i.imgur.com/BunGHmW.jpg",
    "dependencies": {
      "0,0,0,9,5,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@src@0,130": {
    "value": "https://i.imgur.com/rdaUo2D.jpg",
    "dependencies": {
      "0,0,0,48,4,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@src@0,14": {
    "value": "https://i.imgur.com/90xCFV3.jpg",
    "dependencies": {
      "0,0,0,10,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@src@0,191": {
    "value": "https://i.imgur.com/axb1vKD.png",
    "dependencies": {
      "0,0,0,64,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@src@0,20": {
    "value": "https://i.imgur.com/eL3C99a.jpg",
    "dependencies": {
      "0,0,0,14,2,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@src@0,22": {
    "value": "https://i.imgur.com/7gWQZvy.jpg",
    "dependencies": {
      "0,0,0,14,3,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@src@0,9": {
    "value": "/images/translation/english-with-dropdown.jpg",
    "dependencies": {
      "0,0,0,9,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@src@0,96": {
    "value": "https://i.imgur.com/EKBUF48.jpg",
    "dependencies": {
      "0,0,0,44,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,0": {
    "value": "FPM Journal",
    "dependencies": {
      "0,0,0,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,0,0,0,0,1": {
    "value": "FPM-DEV",
    "dependencies": {
      "0,0,0,0,0,1": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,0,0,0,1": {
    "value": "Docs",
    "dependencies": {
      "0,0,0,0,1": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,1": {
    "value": "Thoughts: Browsing History",
    "dependencies": {
      "0,0,0,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,1,1,0,1,1": {
    "value": "FPM-DEV",
    "dependencies": {
      "0,1,1,0,1,1": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,1,1,0,2": {
    "value": "Docs",
    "dependencies": {
      "0,1,1,0,2": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,100": {
    "value": "Contract 4: If `fpm::Config` exists we can be sure its a proper package",
    "dependencies": {
      "0,0,0,44,6,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,101": {
    "value": "Contract 5: Temporary files are created in `/tmp` etc",
    "dependencies": {
      "0,0,0,44,7,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,102": {
    "value": "Contract 6: We never go beyond the package root",
    "dependencies": {
      "0,0,0,44,8,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,103": {
    "value": "`fpm fmt`",
    "dependencies": {
      "0,0,0,45,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,104": {
    "value": "Markdown Index Support and 0.1.5 Release",
    "dependencies": {
      "0,0,0,46,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,105": {
    "value": "Package Interface and Package Alias",
    "dependencies": {
      "0,0,0,47,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,112": {
    "value": "Using `import as`",
    "dependencies": {
      "0,0,0,47,8,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,115": {
    "value": "Using Package Alias in `FPM.ftd`",
    "dependencies": {
      "0,0,0,47,9,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,120": {
    "value": "Package Interfaces",
    "dependencies": {
      "0,0,0,47,10,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,127": {
    "value": "Thoughts: Tangled Documentation",
    "dependencies": {
      "0,0,0,48,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,13": {
    "value": "FPM Package Info Page",
    "dependencies": {
      "0,0,0,10,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,131": {
    "value": "Problem 1: Editing Is Hard",
    "dependencies": {
      "0,0,0,48,5,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,132": {
    "value": "Problem 2: Discourages Long Form Documentation",
    "dependencies": {
      "0,0,0,48,6,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,133": {
    "value": "Problem 3: Translation is impossible",
    "dependencies": {
      "0,0,0,48,7,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,134": {
    "value": "Problem 4: Versioning",
    "dependencies": {
      "0,0,0,48,8,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,135": {
    "value": "So What Should Be Done: Tangle And Weave",
    "dependencies": {
      "0,0,0,48,9,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,136": {
    "value": "Patching pip/cargo etc",
    "dependencies": {
      "0,0,0,48,10,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,137": {
    "value": "Arpita Next Steps",
    "dependencies": {
      "0,0,0,49,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,138": {
    "value": "Ad hoc Tracking Is Here!",
    "dependencies": {
      "0,0,0,50,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,139": {
    "value": "Notes on Deleting Files And History",
    "dependencies": {
      "0,0,0,51,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,140": {
    "value": "`.latest.ftd`",
    "dependencies": {
      "0,0,0,51,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,141": {
    "value": "Auto Stop Tracking If File Is Deleted?",
    "dependencies": {
      "0,0,0,51,3,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,142": {
    "value": "Multiple SQLite DB Support",
    "dependencies": {
      "0,0,0,52,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,145": {
    "value": "Thoughts: SQLite And Build Optimisation",
    "dependencies": {
      "0,0,0,53,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,146": {
    "value": "Merged: Static File Support Is Here!",
    "dependencies": {
      "0,0,0,54,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,147": {
    "value": "Thoughts: Security",
    "dependencies": {
      "0,0,0,55,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,148": {
    "value": "Markdown Special Variables",
    "dependencies": {
      "0,0,0,56,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,15": {
    "value": "\"FPM Theme\"",
    "dependencies": {
      "0,0,0,11,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,154": {
    "value": "How do we handle code include?",
    "dependencies": {
      "0,0,0,57,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,158": {
    "value": "`fpm tracks` and `fpm mark` is here!",
    "dependencies": {
      "0,0,0,58,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,159": {
    "value": "Explanation Of Dynamic Documents and Actions",
    "dependencies": {
      "0,0,0,59,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,16": {
    "value": "Thought: How Should `fpm update` Work?",
    "dependencies": {
      "0,0,0,12,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,161": {
    "value": "100th Commit! We now honour `.gitignore` etc",
    "dependencies": {
      "0,0,0,60,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,162": {
    "value": "Some thoughts on Versioning",
    "dependencies": {
      "0,0,0,61,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,163": {
    "value": "Problem With The Way Git / SVN etc Do Versioning",
    "dependencies": {
      "0,0,0,61,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,164": {
    "value": "Documentation and Software Are Different",
    "dependencies": {
      "0,0,0,61,3,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,165": {
    "value": "Updating Documentation For A Published Version Of Software Must Be Possible",
    "dependencies": {
      "0,0,0,61,4,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,166": {
    "value": "Open Source Maintainers Are Busy Enough",
    "dependencies": {
      "0,0,0,61,5,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,167": {
    "value": "The Root Problem In Current Documentation Workflow",
    "dependencies": {
      "0,0,0,61,6,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,17": {
    "value": "Thought: GlueSQL Based Package Query",
    "dependencies": {
      "0,0,0,13,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,18": {
    "value": "Translation Status Coming Along Nicely",
    "dependencies": {
      "0,0,0,14,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,183": {
    "value": "So How Should Version Be Maintained?",
    "dependencies": {
      "0,0,0,61,7,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,184": {
    "value": "SQLite Support!",
    "dependencies": {
      "0,0,0,62,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,185": {
    "value": "Some thoughts on Translation Support",
    "dependencies": {
      "0,0,0,63,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,186": {
    "value": "Every File Tracks Corresponding File",
    "dependencies": {
      "0,0,0,63,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,187": {
    "value": "Missing Files and Fallback",
    "dependencies": {
      "0,0,0,63,3,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,188": {
    "value": "Out Of Date File's HTML",
    "dependencies": {
      "0,0,0,63,4,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,189": {
    "value": "User's Area vs Special Area?",
    "dependencies": {
      "0,0,0,63,5,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,19": {
    "value": "Translation Status Page",
    "dependencies": {
      "0,0,0,14,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,190": {
    "value": "Started Design",
    "dependencies": {
      "0,0,0,64,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,192": {
    "value": "SQLite Support",
    "dependencies": {
      "0,0,0,65,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,193": {
    "value": "Dynamic Documents and FPM Action",
    "dependencies": {
      "0,0,0,66,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,194": {
    "value": "Client Variables",
    "dependencies": {
      "0,0,0,67,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,195": {
    "value": "`fpm sync`, `fpm status` and `fpm diff`",
    "dependencies": {
      "0,0,0,68,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,196": {
    "value": "`$processor$: toc` and `$processor$: http`",
    "dependencies": {
      "0,0,0,69,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,197": {
    "value": "Font Support",
    "dependencies": {
      "0,0,0,70,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,198": {
    "value": "Package Dependency Fetching",
    "dependencies": {
      "0,0,0,71,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,199": {
    "value": "Package Database",
    "dependencies": {
      "0,0,0,72,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,2": {
    "value": "Readership Tracking",
    "dependencies": {
      "0,0,0,3,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,200": {
    "value": "Update for 30th Nov 2021",
    "dependencies": {
      "0,0,0,73,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,201": {
    "value": "`fpm build` working",
    "dependencies": {
      "0,0,0,73,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,202": {
    "value": "Design Review With Arpita",
    "dependencies": {
      "0,0,0,73,3,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,204": {
    "value": "Kickoff",
    "dependencies": {
      "0,0,0,74,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,21": {
    "value": "Language Detail Page",
    "dependencies": {
      "0,0,0,14,3,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,23": {
    "value": "A Note On Upto-Date-ness Of These Pages",
    "dependencies": {
      "0,0,0,14,4,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,24": {
    "value": "UI Customization",
    "dependencies": {
      "0,0,0,14,5,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,25": {
    "value": "UI Message Internationalisation",
    "dependencies": {
      "0,0,0,15,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,26": {
    "value": "Thought: Language IDs",
    "dependencies": {
      "0,0,0,16,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,29": {
    "value": "Special Languages",
    "dependencies": {
      "0,0,0,17,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,3": {
    "value": "Linking Using Package Dependency",
    "dependencies": {
      "0,0,0,4,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,30": {
    "value": "Thought: Font/Asset Packages",
    "dependencies": {
      "0,0,0,18,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,33": {
    "value": "Thought: Testing Improvement (dynamic documents)",
    "dependencies": {
      "0,0,0,19,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,34": {
    "value": "`fpm.ftd` snapshotting",
    "dependencies": {
      "0,0,0,19,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,35": {
    "value": "Special Files",
    "dependencies": {
      "0,0,0,19,3,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,36": {
    "value": "`fpm update` Implemented",
    "dependencies": {
      "0,0,0,20,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,37": {
    "value": "`FPM/prelude.fpm` Added",
    "dependencies": {
      "0,0,0,21,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,38": {
    "value": "Thought: Publishing `FPM.ftd` With Extra Data, and Better /FPM/ Page",
    "dependencies": {
      "0,0,0,22,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,39": {
    "value": "Source Of Truth: Repo Or Deployed?",
    "dependencies": {
      "0,0,0,23,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,4": {
    "value": "Git Tracking",
    "dependencies": {
      "0,0,0,5,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,40": {
    "value": "Domain In Package Support Done",
    "dependencies": {
      "0,0,0,24,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,43": {
    "value": "Idea: Canonical URL Support",
    "dependencies": {
      "0,0,0,25,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,48": {
    "value": "`fpm.canonical-url`",
    "dependencies": {
      "0,0,0,25,6,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,49": {
    "value": "Document Title Support Implemented",
    "dependencies": {
      "0,0,0,26,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,5": {
    "value": "More than one fpm package per git repo",
    "dependencies": {
      "0,0,0,6,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,50": {
    "value": "Dependency Alias Support Implemented",
    "dependencies": {
      "0,0,0,27,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,55": {
    "value": "Translation UI Working!",
    "dependencies": {
      "0,0,0,28,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,56": {
    "value": "Package Name With Domain?",
    "dependencies": {
      "0,0,0,29,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,57": {
    "value": "Decentralisation",
    "dependencies": {
      "0,0,0,29,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,58": {
    "value": "Golang Like Package Naming",
    "dependencies": {
      "0,0,0,29,3,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,6": {
    "value": "Article Out",
    "dependencies": {
      "0,0,0,7,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,64": {
    "value": "`fpm build` to copy `FPM.ftd`",
    "dependencies": {
      "0,0,0,29,4,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,65": {
    "value": "The New Package Download Scheme",
    "dependencies": {
      "0,0,0,29,5,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,66": {
    "value": "`fpm build --base=/foo/` for Github Pages",
    "dependencies": {
      "0,0,0,30,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,67": {
    "value": "`fpm` CLI now Supports Windows",
    "dependencies": {
      "0,0,0,31,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,68": {
    "value": "Thought: Unicode in FPM/FTD",
    "dependencies": {
      "0,0,0,32,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,69": {
    "value": "Thoughts: Package Naming Restrictions & `$FPM_HOME`",
    "dependencies": {
      "0,0,0,33,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,7": {
    "value": "Thought: Package Identity",
    "dependencies": {
      "0,0,0,8,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,70": {
    "value": "Font Support Added (and thoughts on future renderers)",
    "dependencies": {
      "0,0,0,34,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,77": {
    "value": "Doc/TOC Subtree Re-levelling Problem",
    "dependencies": {
      "0,0,0,35,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,78": {
    "value": "Doc Sub-Tree Includes",
    "dependencies": {
      "0,0,0,35,2,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,8": {
    "value": "Basic Translation UI Done!",
    "dependencies": {
      "0,0,0,9,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,82": {
    "value": "Cross Package Component Visual Harmonisation",
    "dependencies": {
      "0,0,0,35,2,5,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,83": {
    "value": "Re-Levelling Challenge",
    "dependencies": {
      "0,0,0,35,2,6,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,86": {
    "value": "TOC Sub-Tree Includes",
    "dependencies": {
      "0,0,0,35,3,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,87": {
    "value": "Challenges In \"Remixing\" Text Content",
    "dependencies": {
      "0,0,0,36,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,88": {
    "value": "Remixing Books: Documents from Dependency Packages",
    "dependencies": {
      "0,0,0,37,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,89": {
    "value": "Translation UI Design & Multi FTD Technique",
    "dependencies": {
      "0,0,0,38,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,90": {
    "value": "Can Translation Package Use Tracking?",
    "dependencies": {
      "0,0,0,39,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,91": {
    "value": "Translation Way Forward",
    "dependencies": {
      "0,0,0,40,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,92": {
    "value": "Document-Name and Package Ambiguities",
    "dependencies": {
      "0,0,0,41,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,93": {
    "value": "TranslationStatus Output",
    "dependencies": {
      "0,0,0,42,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,94": {
    "value": "Arpita Next Steps",
    "dependencies": {
      "0,0,0,43,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,95": {
    "value": "`fpm::document` refactor",
    "dependencies": {
      "0,0,0,44,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,97": {
    "value": "Contract 1: We will change into package root at app start",
    "dependencies": {
      "0,0,0,44,3,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,98": {
    "value": "Contract 2: We will always use `PathBuf` of `Path` in our program",
    "dependencies": {
      "0,0,0,44,4,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@title@0,99": {
    "value": "Contract 3: We do not support non UTF-8 paths",
    "dependencies": {
      "0,0,0,44,5,0:main-container-external:0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "@width@0,130": {
    "value": "500",
    "dependencies": {}
  },
  "fifthtry.github.io/Jupiter-theme#content-padding": {
    "value": "150",
    "dependencies": {}
  },
  "fifthtry.github.io/Jupiter-theme#dark-mode": {
    "value": "true",
    "dependencies": {}
  },
  "fifthtry.github.io/Jupiter-theme#github": {
    "value": "https://github.com/fifthtry/fpm-dev-en/",
    "dependencies": {}
  },
  "fifthtry.github.io/Jupiter-theme#max-width": {
    "value": "1000",
    "dependencies": {}
  },
  "fifthtry.github.io/Jupiter-theme#mobile": {
    "value": "false",
    "dependencies": {
      "main-container:0,0": "[{\"dependency_type\":\"Visible\",\"condition\":\"false\",\"parameters\":{}}]",
      "main-container:0,1": "[{\"dependency_type\":\"Visible\",\"condition\":\"true\",\"parameters\":{}}]"
    }
  },
  "fifthtry.github.io/Jupiter-theme#neutral": {
    "value": "#fff",
    "dependencies": {}
  },
  "fifthtry.github.io/Jupiter-theme#neutral-200": {
    "value": "#ced2dd",
    "dependencies": {}
  },
  "fifthtry.github.io/Jupiter-theme#neutral-300": {
    "value": "#F9F9F9",
    "dependencies": {}
  },
  "fifthtry.github.io/Jupiter-theme#neutral-400": {
    "value": "#E1E1E1",
    "dependencies": {}
  },
  "fifthtry.github.io/Jupiter-theme#neutral-500": {
    "value": "#323546",
    "dependencies": {}
  },
  "fifthtry.github.io/Jupiter-theme#neutral-600": {
    "value": "#3E4155",
    "dependencies": {}
  },
  "fifthtry.github.io/Jupiter-theme#neutral-700": {
    "value": "#1C1C24",
    "dependencies": {}
  },
  "fifthtry.github.io/Jupiter-theme#neutral-800": {
    "value": "#000",
    "dependencies": {}
  },
  "fifthtry.github.io/Jupiter-theme#sidebar-open": {
    "value": "false",
    "dependencies": {
      "0,1,0": "[{\"dependency_type\":\"Visible\",\"condition\":\"true\",\"parameters\":{}}]"
    }
  },
  "fifthtry.github.io/Jupiter-theme#site-icon": {
    "value": "static/images/logo.svg",
    "dependencies": {
      "0,0,0,0,0,0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]",
      "0,1,1,0,1,0": "[{\"dependency_type\":\"Value\",\"condition\":null,\"parameters\":{}}]"
    }
  },
  "fifthtry.github.io/Jupiter-theme#site-name": {
    "value": "FPM-DEV",
    "dependencies": {}
  },
  "fifthtry.github.io/Jupiter-theme#site-url": {
    "value": "/ftd-dev-en",
    "dependencies": {}
  },
  "journal.ftd#show-t-py": {
    "value": "false",
    "dependencies": {
      "0,0,0,61,6,3:main-container-external:0": "[{\"dependency_type\":\"Visible\",\"condition\":\"true\",\"parameters\":{}}]",
      "0,0,0,61,6,4:main-container-external:0": "[{\"dependency_type\":\"Visible\",\"condition\":\"false\",\"parameters\":{}}]",
      "0,0,0,61,6,5:main-container-external:0": "[{\"dependency_type\":\"Visible\",\"condition\":\"true\",\"parameters\":{}}]"
    }
  }
}
    </script>
    <script type="ftd" id="ftd-external-children-main">
        {
  "main-container-external:0": [
    {
      "condition": [
        "main-container:0,0,1,1",
        "main-container:0,0"
      ],
      "set_at": "main-container:0,0,1,1"
    },
    {
      "condition": [
        "main-container:0,1,2,0",
        "main-container:0,1"
      ],
      "set_at": "main-container:0,1,2,0"
    }
  ]
}
    </script>

    <script>
        // all ftd_utils are meant to be pure functions only: they can only depend on the
// input passed, not on closures or global data etc
let ftd_utils = {
    is_visible: function (id, affected_id) {
        return (document.querySelector(`[data-id="${affected_id}:${id}"]`).style.display !== "none");
    },

    box_shadow_value_null: function (value) {
        return (value === "0px 0px 0px 0px") ? null : value;
    },

    box_shadow_value: function (parameter, data_id, value) {
        let current_value  = document.querySelector(`[data-id="${data_id}"]`).style.getPropertyValue('box-shadow');
        if (current_value.length === 0) {
            current_value = "0px 0px 0px 0px";
        }
        let first_split = current_value.split(') ');
        if (first_split.length === 1) {
            first_split.unshift('');
        } else {
            first_split[0] = `${first_split[0]})`;
        }
        if (parameter === "shadow-color") {
            if (value === null) {
                return ftd_utils.box_shadow_value_null(first_split[1].trim());
            }
            first_split[0] = value;
            return ftd_utils.box_shadow_value_null(first_split.join(' ').trim());
        }
        let second_split =  first_split[1].split(' ');
        if (parameter === "shadow-offset-x") {
            second_split[0] = value !== null ? value : '0px' ;
            first_split[1] = second_split.join(' ');
            return ftd_utils.box_shadow_value_null(first_split.join(' ').trim());
        }
        if (parameter === "shadow-offset-y") {
            second_split[1] = value !== null ? value : '0px' ;
            first_split[1] = second_split.join(' ');
            return ftd_utils.box_shadow_value_null(first_split.join(' ').trim());
        }
        if (parameter === "shadow-blur") {
            second_split[2] = value !== null ? value : '0px' ;
            first_split[1] = second_split.join(' ');
            return ftd_utils.box_shadow_value_null(first_split.join(' ').trim());
        }
        if (parameter === "shadow-size") {
            second_split[3] = value !== null ? value : '0px' ;
            first_split[1] = second_split.join(' ');
            return ftd_utils.box_shadow_value_null(first_split.join(' ').trim());
        }
    },

    align_value: function (data_id, value) {
        let current_position  = document.querySelector(`[data-id="${data_id}"]`).style.getPropertyValue('position');
        if (current_position === "fixed" || current_position === "absolute") {
            document.querySelector(`[data-id="${data_id}"]`).style.setProperty('left', null);
            document.querySelector(`[data-id="${data_id}"]`).style.setProperty('top', null);
            document.querySelector(`[data-id="${data_id}"]`).style.setProperty('transform', null);
            document.querySelector(`[data-id="${data_id}"]`).style.setProperty('right', null);
            document.querySelector(`[data-id="${data_id}"]`).style.setProperty('bottom', null);
            if (value === "center") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('left', '50%');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('top', '50%');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('transform', 'translate(-50%,-50%)');
            } else if (value === "top") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('left', '50%');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('top', '0');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('transform', 'translateX(-50%)');
            } else if (value === "left") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('left', '0');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('top', '50%');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('transform', 'translateY(-50%)');
            } else if (value === "right") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('right', '0');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('top', '50%');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('transform', 'translate(-50%)');
            } else if (value === "bottom") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('left', '50%');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('bottom', '0');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('transform', 'translateX(-50%)');
            } else if (value === "top-left") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('left', '0');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('top', '0');
            } else if (value === "top-right") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('right', '0');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('top', '0');
            } else if (value === "bottom-left") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('left', '0');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('bottom', '0');
            } else if (value === "bottom-right") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('right', '0');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('bottom', '0');
            }
        } else {
            document.querySelector(`[data-id="${data_id}"]`).style.setProperty('align-self', null);
            document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-bottom',null);
            document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-top',null);
            document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-left',null);
            if (value === "center") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('align-self', 'center');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-bottom', 'auto');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-top', 'auto');
            } else if (value === "top") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('align-self', 'center');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-bottom', 'auto');
            } else if (value === "left") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('align-self', 'flex-start');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-bottom', 'auto');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-top', 'auto');
            } else if (value === "right") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('align-self', 'flex-end');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-bottom', 'auto');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-top', 'auto');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-left', 'auto');
            } else if (value === "bottom") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('align-self', 'center');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-bottom', '0');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-top', 'auto');
            } else if (value === "top-left") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('align-self', 'flex-start');
            } else if (value === "top-right") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('align-self', 'flex-end');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-left', 'auto');
            } else if (value === "bottom-left") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('align-self', 'flex-start');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-bottom', '0');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-top', 'auto');
            } else if (value === "bottom-right") {
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('align-self', 'flex-end');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-bottom', '0');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-top', 'auto');
                document.querySelector(`[data-id="${data_id}"]`).style.setProperty('margin-left', 'auto');
            }
        }

    },

    line_clamp: function (data_id, value) {
        let doc = document.querySelector(`[data-id="${data_id}"]`);
        if (value == null) {
            doc.style.setProperty('display', null);
            doc.style.setProperty('overflow', null);
            doc.style.setProperty('-webkit-line-clamp', null);
            doc.style.setProperty('-webkit-box-orient', null);
        } else {
            doc.style.setProperty('display', '-webkit-box');
            doc.style.setProperty('overflow', 'hidden');
            doc.style.setProperty('-webkit-line-clamp', value);
            doc.style.setProperty('-webkit-box-orient', 'vertical');
        }
    },

    background_image: function (data_id, value) {
        let background_repeat = document.querySelector(`[data-id="${data_id}"]`).style.getPropertyValue('background-repeat');
        let doc = document.querySelector(`[data-id="${data_id}"]`);
        if (value == null) {
            doc.style.setProperty('background-image', null);
            doc.style.setProperty('background-size', null);
            doc.style.setProperty('background-position', null);
        } else {
            doc.style.setProperty('background-image', `url(${value})`);
            if (background_repeat.length === 0) {
                doc.style.setProperty('background-size', 'cover');
                doc.style.setProperty('background-position', 'center');
            }
        }
    },

    background_repeat: function (data_id, value) {
        let doc = document.querySelector(`[data-id="${data_id}"]`);
        if (value == null) {
            doc.style.setProperty('background-repeat', null);
            doc.style.setProperty('background-size', 'cover');
            doc.style.setProperty('background-position', 'center');
        } else {
            doc.style.setProperty('background-repeat', 'repeat');
            doc.style.setProperty('background-size', null);
            doc.style.setProperty('background-position', null);
        }
    },

    first_child_styling: function (data_id) {
        let parent = document.querySelector(`[data-id="${data_id}"]`).parentElement;
        if (parent.dataset.spacing !== undefined) {
            let spacing = parent.dataset.spacing.split(":");
            let property = spacing[0].trim();
            let value = spacing[1].trim();
            let first_child = true;
            for (let i = 0; i < parent.children.length; i++) {
                if (!first_child) {
                    parent.children[i].style.setProperty(property, value);
                } else if (parent.children[i].style.display !== 'none') {
                    parent.children[i].style.setProperty(property, null);
                    first_child = false;
                }
            }
        }
    },


    set_style: function (parameter, data_id, value, important) {
        if (["shadow-offset-x", "shadow-offset-y", "shadow-size", "shadow-blur", "shadow-color"].includes(parameter)) {
            let box_shadow_value = ftd_utils.box_shadow_value(parameter,data_id, value);
            document.querySelector(`[data-id="${data_id}"]`).style.setProperty('box-shadow', box_shadow_value);
        } else if (parameter === "align" || parameter === "position") {
            ftd_utils.align_value(data_id, value);
        } else if (parameter === "line-clamp") {
            ftd_utils.line_clamp(data_id, value);
        } else if (parameter === "background-image") {
            ftd_utils.background_image(data_id, value);
        } else if (parameter === "background-repeat") {
            ftd_utils.background_repeat(data_id, value);
        } else if (important) {
            document.querySelector(`[data-id="${data_id}"]`).style.setProperty(`${parameter}`, value, 'important');
        } else {
            document.querySelector(`[data-id="${data_id}"]`).style.setProperty(`${parameter}`, value);
        }
    },

    handle_action: function (id, target, value, data) {
        data[target].value = value.toString();

        let dependencies = data[target].dependencies;
        for (const dependency in dependencies) {
            if (!dependencies.hasOwnProperty(dependency)) {
                continue;
            }
            let json_dependencies = JSON.parse(dependencies[dependency]);
            var styles_edited = [];
            for (const index in json_dependencies) {
                let json_dependency = json_dependencies[index];
                if (json_dependency.dependency_type === "Value") {
                    document.querySelector(`[data-id="${dependency}:${id}"]`).innerText = data[target].value;
                } else if (json_dependency.dependency_type === "Visible") {
                    let display = "none";
                    if (data[target].value === json_dependency.condition) {
                        let is_flex = document.querySelector(`[data-id="${dependency}:${id}"]`).style.flexDirection.length;
                        let is_webkit = document.querySelector(`[data-id="${dependency}:${id}"]`).style.webkitLineClamp.length;
                        if (is_flex) {
                            display = "flex";
                        } else if (is_webkit) {
                            display = "-webkit-box";
                        } else {
                            display = "block";
                        }
                    }
                    document.querySelector(`[data-id="${dependency}:${id}"]`).style.display = display;
                    ftd_utils.first_child_styling(`${dependency}:${id}`);

                } else if (json_dependency.dependency_type === "Style") {
                    if (data[target].value === json_dependency.condition) {
                        for (const parameter in json_dependency.parameters) {
                            let value = json_dependency.parameters[`${parameter}`].value.value;
                            let important = json_dependency.parameters[`${parameter}`].value.important;
                            ftd_utils.set_style(parameter, `${dependency}:${id}`, value, important);
                            if (!styles_edited.includes(parameter)) {
                                styles_edited.push(parameter);
                            }
                        }
                    } else {
                        for (const parameter in json_dependency.parameters) {
                            let default_value = json_dependency.parameters[`${parameter}`].default;
                            if (!styles_edited.includes(parameter)) {
                                if (default_value === null) {
                                    if (["border-left-width", "border-right-width", "border-top-width", "border-bottom-width"].includes(parameter)) {
                                        default_value = "0px";
                                        document.querySelector(`[data-id="${dependency}:${id}"]`).style[`${parameter}`] = default_value;
                                    } else {
                                        ftd_utils.set_style(parameter, `${dependency}:${id}`, default_value, false);
                                    }
                                } else {
                                    let value = default_value.value;
                                    let important = default_value.important;
                                    ftd_utils.set_style(parameter, `${dependency}:${id}`, value, important);
                                }
                            }
                        }
                    }
                }
            }
        }
    }
};

window.ftd = (function () {
    let ftd_data = {};
    let ftd_external_children = {};

    function external_children_replace(id) {
        let external_children = ftd_external_children[id];
        for (const object in external_children) {
            if (!external_children.hasOwnProperty(object)) {
                continue;
            }

            let conditions = external_children[object];
            for (const idx in conditions) {
                if (!conditions.hasOwnProperty(idx)) {
                    continue;
                }

                let condition = conditions[idx].condition;
                let set_at = conditions[idx].set_at;
                let display = true;
                for (const i in condition) {
                    if (!condition.hasOwnProperty(i)) {
                        continue;
                    }

                    display &= ftd_utils.is_visible(id, conditions[idx].condition[i])
                    if (!display) {
                        break;
                    }
                }
                if (display) {
                    console.log(`${object}::: ${set_at}`);
                    let get_element_set_at = document.querySelector(`[data-id="${set_at}:${id}"]`);
                    let objects_to_set = document.querySelectorAll(`[data-ext-id="${object}:${id}"]`);
                    for (let i = 0; i < objects_to_set.length; i++) {
                        let object_to_set = objects_to_set[i];
                        let parent = object_to_set.parentElement;
                        if (parent !== get_element_set_at) {
                            get_element_set_at.appendChild(object_to_set);
                        }
                    }
                    return;
                }
            }

        }
    }

    function handle_event(evt, id, action) {
        let act = action["action"];
        let data = ftd_data[id];
        if (act === "stop-propagation") {
            evt.stopPropagation();
        } else if (act === "prevent-default") {
            evt.preventDefault();
        } else if (act === "toggle") {
            let target = action["target"];
            exports.set_bool(id, target, data[target].value !== 'true');
        } else if (act === "message-host") {
            let target = action["target"].trim();
            window[target]();
        } else if (act === "increment") {
            let target = action["target"];
            let increment = 1;
            if (action["parameters"].by !== undefined) {
                increment = parseInt(action["parameters"].by[0]);
            }
            let clamp_max = undefined;
            let clamp_min = undefined;
            if (action["parameters"]["clamp"] !== undefined) {
                let clamp_value = action["parameters"]["clamp"];
                if (clamp_value.length === 1) {
                    clamp_max = parseInt(clamp_value[0]);
                }
                if (clamp_value.length === 2) {
                    clamp_min = parseInt(clamp_value[0]);
                    clamp_max = parseInt(clamp_value[1]);
                }
            }
            exports.increment_decrement_value(id, target, increment, clamp_min, clamp_max);

        } else if (act === "decrement") {
            let target = action["target"];
            let decrement = -1;
            if (action["parameters"].by !== undefined) {
                decrement = -parseInt(action["parameters"].by[0]);
            }

            let clamp_max = undefined;
            let clamp_min = undefined;
            if (action["parameters"]["clamp"] !== undefined) {
                let clamp_value = action["parameters"]["clamp"];
                if (clamp_value.length === 1) {
                    clamp_max = parseInt(clamp_value[0]);
                }
                if (clamp_value.length === 2) {
                    clamp_min = parseInt(clamp_value[0]);
                    clamp_max = parseInt(clamp_value[1]);
                }
            }

            exports.increment_decrement_value(id, target, decrement, clamp_min, clamp_max);
        } else if (act === "set-value") {
            let target = action["target"];
            let value = action["parameters"].value[0];
            if (action["parameters"].value[1] === "integer") {
                value = parseInt(value);
            } else if (action["parameters"].value[1] === "decimal") {
                value = parseFloat(value);
            } else if (action["parameters"].value[1] === "boolean") {
                value = (value === "true");
            }

            let data = ftd_data[id];
            ftd_utils.handle_action(id, target, value, data);

        } else {
            console.log("unknown action:", act);
            return;
        }
        external_children_replace(id);

    }

    let exports = {};

    exports.handle_event = function (evt, id, event) {
        console.log(id, event);
        let actions = JSON.parse(event);
        for (const action in actions) {
            handle_event(evt, id, actions[action])
        }
    }

    exports.increment_decrement_value = function (id, variable, increment_by, clamp_min, clamp_max) {
        let data = ftd_data[id];

        if (!data[variable]) {
            console.log(variable, "is not in data, ignoring");
            return;
        }

        let value = parseInt(data[variable].value);
        value += increment_by;

        if (clamp_max !== undefined) {
            let min = (clamp_min === undefined) ? 0: clamp_min
            if (clamp_max < value) {
                value = min;
            }
            if (clamp_min > value) {
                value = clamp_max;
            }
        }

        ftd_utils.handle_action(id, variable, value, data);
    }

    exports.set_bool = function (id, variable, value) {
        let data = ftd_data[id];

        if (!data[variable]) {
            console.log(variable, "is not in data, ignoring");
            return;
        }

        ftd_utils.handle_action(id, variable, value, data);
    }

    exports.set_multi_value = function (id, list) {
        for (const idx in list) {
            if (!list.hasOwnProperty(idx)) {
                continue;
            }

            let item = list[idx];
            let [variable, value] = item;
            this.set_bool(id, variable, value);
        }
    }

    exports.init = function (id, data, external_children) {
        ftd_data[id] = data;
        ftd_external_children[id] = external_children;
    }

    return exports;
})();

    </script>

    <style>
        body {
            margin: 0;
        }
        pre {
            white-space: break-spaces;
        }

        pre code {
            overflow-x: auto;
            display: block;
            padding: 10px !important;
        }

        p {
            margin: 0;
        }

        ul {
            margin: 0;
        }

        .ft_md ul,
        .ft_md ol,
        .ft_md p {
            margin: 10px 0;
        }

        .ft_md h1,
        .ft_md h2,
        .ft_md h3,
        .ft_md h4,
        .ft_md h5 {
            margin-top: 34px;
            margin-bottom: 0;
            line-height: 1.2em;
            color: #000000;
        }

        .ft_md ul ul,
        .ft_md ul ol,
        .ft_md ol ul,
        .ft_md ol ol {
            line-height: 1.5em;
            margin: 0;
        }

        .ft_md ul li,
        .ft_md ol li,
        .ft_md ul ol li .ft_md ul ul li .ft_md ol ul li .ft_md ol ol li {
            position: relative;
            padding-left: 32px;
            margin: 4px 0;
        }

        .ft_md ul {
            list-style: none;
            padding-left: 0;
        }

        .ft_md ol {
            list-style: none;
            padding-left: 0;
            counter-reset: item;
        }

        .ft_md ol li:before,
        .ft_md ol ol li:before,
        .ft_md ul ol li:before {
            content: counter(item);
            counter-increment: item;
            background-color: #e4e9eb;
            color: #000000;
            font-size: 11px;
            line-height: 10px;
            text-align: center;
            padding: 4px 0;
            height: 10px;
            width: 18px;
            border-radius: 10px;
            position: absolute;
            left: 0;
            top: 5px;
        }

        .ft_md ul li::before,
        .ft_md ul ul li::before,
        .ft_md ol ul li::before {
            content: "";
            position: absolute;
            width: 6px;
            height: 6px;
            left: 8px;
            top: 10px;
            border-radius: 50%;
            background: #c1c8ce;
        }

        .ft_md a {
            color: #0047b4;
            text-decoration: none;
        }

        .ft_md a:visited {
            color: #632ec4;
        }

        .ft_md a:hover {
            text-decoration: none;
        }

        .ft_md code {
            font-size: 0.9em;
            padding: 0.1em 0.25em;
            background-color: #f0f0f0;
            border-radius: 4px;
        }

        .ft_md blockquote {
            padding: 0.25em 1em;
            margin: 1em 0;
            background-color: #f0f0f0;
            border-radius: 3px;
        }

        .ft_md blockquote>blockquote {
            margin: 0;
        }

    </style>

</head>
<body style="height: 100%;">

<div id="message"><div data-id="message:root" style="align-items: flex-start; align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: wrap; height: 100%; justify-content: flex-start; margin-bottom: auto; margin-top: auto; white-space: initial; width: 100%" class="ft_md"><div data-id="0:message" style="align-items: flex-start; align-self: flex-start; background-color: rgba(243,243,243,1); border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0:message" style="align-items: flex-start; align-self: flex-start; background-color: rgba(243,243,243,1); border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; padding: 10px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0:message" data-spacing="margin-top:5px" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; white-space: initial" class="ft_md"><div data-id="0,0,0,0:message" data-spacing="margin-left:2px" style="align-items: flex-start; align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-start; margin-bottom: auto; margin-top: auto; white-space: initial" class="ft_md"><div data-id="0,0,0,0,0:message" style="align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; font-weight: 400; margin-bottom: auto; margin-top: auto; text-align: left; white-space: initial" class="ft_md">Last modified on:</div>
<div data-id="0,0,0,0,1:message" style="align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; font-weight: 400; margin-bottom: auto; margin-left: 2px; margin-top: auto; text-align: left; white-space: initial" class="ft_md">2022-01-02T13:10:39.370457+00:00</div></div>
<a data-id="0,0,0,1:message" href="//fpm-dev.vercel.app/FPM/translation-status" style="align-self: flex-start; background-color: rgba(210,115,85,1); border-color: rgba(38,100,79,1); border-radius: 13px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(255,255,255,1); cursor: pointer; font-weight: 400; margin-top: 5px; padding: 8px; text-align: left; white-space: initial" class="ft_md">Show translation status</a></div>
<div data-id="0,0,1:message" style="align-items: flex-start; align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-start; margin-bottom: auto; margin-top: auto; white-space: initial" class="ft_md"><div data-id="0,0,1,1:message" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-start; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,1,1,0:message" style="align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; font-weight: 400; margin-bottom: auto; margin-top: auto; text-align: left; white-space: initial; width: 120px" class="ft_md">Current language:</div>
<div data-id="0,0,1,1,1:message" onclick="window.ftd.handle_event(event, 'message', '[{&quot;action&quot;:&quot;toggle&quot;,&quot;target&quot;:&quot;@show-menu@0,0,1&quot;,&quot;parameters&quot;:{}}]')" style="align-self: flex-start; background-color: rgba(255,255,255,1); border-color: rgba(173,174,179,1); border-radius: 0px; border-style: solid; border-width: 1px; box-sizing: border-box; cursor: pointer; font-weight: 400; margin-bottom: 5px; margin-left: 5px; margin-right: 5px; margin-top: 5px; padding-left: 5px; padding-right: 50px; text-align: left; white-space: initial" class="ft_md">English</div></div>
<div data-id="0,0,1,2:message" style="align-items: flex-start; align-self: flex-end; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; margin-bottom: auto; margin-left: auto; margin-top: auto; position: relative; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,1,2,0:message" onclick="window.ftd.handle_event(event, 'message', '[{&quot;action&quot;:&quot;toggle&quot;,&quot;target&quot;:&quot;@show-menu@0,0,1&quot;,&quot;parameters&quot;:{}}]')" style="align-items: flex-start; background-color: rgba(241,241,241,1); border-radius: 0px; border-style: solid; border-width: 0px; box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.25); box-sizing: border-box; cursor: pointer; display: none; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; margin-top: 10px; min-width: 160px; position: absolute; right: 0; top: 0; white-space: initial; width: 100%" class="ft_md"><a data-id="0,0,1,2,0,0:message" href="https://fpm-dev-hi.vercel.app/journal/" style="align-self: flex-start; border-bottom-width: 1px !important; border-color: rgba(227,225,225,1); border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; cursor: pointer; font-weight: 400; padding: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md">Hindi</a></div></div></div></div></div></div><style>
@font-face { unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;;
font-weight: 300;;
src: url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');
font-family: apple-system }
@font-face { unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;;
font-style: italic;;
font-weight: 300;;
src: url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');
font-family: apple-system }
@font-face { unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;;
font-weight: 400;;
src: url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');
font-family: apple-system }
@font-face { unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;;
font-weight: 500;;
src: url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');
font-family: apple-system }
@font-face { unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;;
font-weight: 600;;
src: url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');
font-family: apple-system }
@font-face { unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;;
font-weight: 700;;
src: url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');
font-family: apple-system }
@font-face { unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;;
font-weight: 800;;
src: url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');
font-family: apple-system }</style></div>
<div id="main"><div data-id="main:root" style="align-items: flex-start; align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: wrap; height: 100%; justify-content: flex-start; margin-bottom: auto; margin-top: auto; white-space: initial; width: 100%" class="ft_md"><div data-id="0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; white-space: initial; width: 100%" class="ft_md"><div data-id="main-container:0,0:main" style="align-items: flex-start; align-self: flex-start; background-color: rgba(255,255,255,1); border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0:main" style="align-items: flex-start; align-self: flex-start; background-color: rgba(255,255,255,1); border-bottom-width: 1px !important; border-color: rgba(225,225,225,1); border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; white-space: initial; width: 100%" class="ft_md"><div data-id="left-side:0,0,0,0:main" data-spacing="margin-left:25px" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-start; margin-bottom: auto; margin-top: auto; white-space: initial" class="ft_md"><a data-id="0,0,0,0,0:main" data-spacing="margin-left:10px" href="/ftd-dev-en" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; cursor: pointer; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-start; white-space: initial" class="ft_md"><img alt="" data-id="0,0,0,0,0,0:main" src="static/images/logo.svg" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; height: 32px; white-space: initial; width: auto">
<div data-id="0,0,0,0,0,1:main" style="align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 16px; font-weight: 600; line-height: 22px; margin-bottom: auto; margin-left: 10px; margin-top: auto; text-align: left; white-space: initial" class="ft_md">FPM-DEV</div></a>
<a data-id="0,0,0,0,1:main" href="about/" style="align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); cursor: pointer; font-family: apple-system; font-size: 16px; font-weight: 400; line-height: 22px; margin-bottom: auto; margin-left: 25px; margin-top: auto; text-align: left; white-space: initial" class="ft_md">Docs</a></div>
<div data-id="0,0,0,1:main" data-spacing="margin-left:30px" style="align-items: flex-start; align-self: flex-end; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-start; margin-bottom: auto; margin-left: auto; margin-top: auto; white-space: initial; width: auto" class="ft_md"><a data-id="0,0,0,1,0:main" href="https://github.com/fifthtry/fpm-dev-en/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; cursor: pointer; min-width: 20px; white-space: initial; width: 20px" class="ft_md"><img alt="" data-id="main:root" src="https://res.cloudinary.com/dphj6havg/image/upload/v1640938143/github-dark_xeu6ot.svg" style="width: 100%"></a>
<img alt="" data-id="0,0,0,1,1:main" src="https://res.cloudinary.com/dphj6havg/image/upload/v1640938217/dark-mode_mfy9hd.svg" onclick="window.ftd.handle_event(event, 'main', '[{&quot;action&quot;:&quot;toggle&quot;,&quot;target&quot;:&quot;fifthtry.github.io/Jupiter-theme#dark-mode&quot;,&quot;parameters&quot;:{}}]')" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; cursor: pointer; height: 18px; margin-left: 30px; white-space: initial; width: 100%"></div></div>
<div data-id="main-row:0,0,1:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-start; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,1,0:main" style="align-items: flex-start; align-self: flex-start; border-color: rgba(235,237,239,1); border-radius: 0px; border-right-width: 1px !important; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; height: calc(100vh - 0px); justify-content: flex-start; overflow-y: auto; padding-bottom: 40px; padding-left: 10px; padding-right: 20px; padding-top: 15px; position: sticky; top: 0px; white-space: initial; width: 300px" class="ft_md"><div data-id="0,0,1,0,0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,0,0:main" href="index.html" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">fpm: FTD Package Manager</a></div>
<div data-id="0,0,1,0,1:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,1,0:main" href="about/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">About <code>fpm</code></a>
<div data-id="0,0,1,0,1,1:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,1,1,0:main" href="why-not/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">Why Not <code>fpm</code>?</a></div></div>
<div data-id="0,0,1,0,2:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,2,0:main" href="roadmap/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">Roadmap</a></div>
<div data-id="0,0,1,0,3:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,3,0:main" href="journal/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">Journal</a></div>
<div data-id="0,0,1,0,4:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,4,0:main" href="fs/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">File System Organization</a>
<div data-id="0,0,1,0,4,1:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,4,1,0:main" href="FPM/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>FPM.ftd</code></a></div></div>
<div data-id="0,0,1,0,5:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,5,0:main" href="ftd-host/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">FTD Host Features</a>
<div data-id="0,0,1,0,5,1:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,5,1,0:main" href="http/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>$processor$: http</code></a></div>
<div data-id="0,0,1,0,5,2:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,5,2,0:main" href="toc/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>$processor$: toc</code></a></div>
<div data-id="0,0,1,0,5,3:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,5,3,0:main" href="package-query/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>$processor$: package-query</code></a></div>
<div data-id="0,0,1,0,5,4:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,5,4,0:main" href="fpm-vars/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>import: fpm</code></a></div></div>
<div data-id="0,0,1,0,6:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,6,0:main" href="install/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">Install <code>fpm</code></a></div>
<div data-id="0,0,1,0,7:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,7,0:main" href="usage/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>fpm</code> Usage</a>
<div data-id="0,0,1,0,7,1:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,7,1,0:main" href="build/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>fpm build</code></a></div>
<div data-id="0,0,1,0,7,2:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,7,2,0:main" href="sync/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>fpm sync</code></a></div>
<div data-id="0,0,1,0,7,3:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,7,3,0:main" href="status/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>fpm status</code></a></div>
<div data-id="0,0,1,0,7,4:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,7,4,0:main" href="diff/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>fpm diff</code></a></div>
<div data-id="0,0,1,0,7,5:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,7,5,0:main" href="update/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>fpm update</code></a></div></div>
<div data-id="0,0,1,0,8:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,0,1,0,8,0:main" href="known-issues/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">Known Issues</a></div></div>
<div data-id="main-container:0,0,1,1:main" style="align-items: flex-start; align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; margin-bottom: auto; max-width: 800px; padding-bottom: 20px; padding-left: 20px; padding-right: 20px; padding-top: 20px; white-space: initial" class="ft_md"><div data-ext-id="main-container-external:0:main" data-id="0,0,0:main-container-external:0:main" id="fpm-journal" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 46px; font-weight: 700; line-height: 46px; padding-bottom: 16px; padding-top: 8px; text-align: left; white-space: initial" class="ft_md">FPM Journal</div>
<div data-id="0,0,0,2:main-container-external:0:main" id="thoughts-browsing-history" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,2,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Thoughts: Browsing History</div></div>
<div data-id="0,0,0,3:main-container-external:0:main" id="readership-tracking" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,3,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Readership Tracking</div></div>
<div data-id="0,0,0,4:main-container-external:0:main" id="linking-using-package-dependency" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,4,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Linking Using Package Dependency</div>
<div data-id="0,0,0,4,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>So links never break (and original author can keep updating document URL at whim).</p>
</div></div>
<div data-id="0,0,0,5:main-container-external:0:main" id="git-tracking" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,5,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Git Tracking</div></div>
<div data-id="0,0,0,6:main-container-external:0:main" id="more-than-one-fpm-package-per-git-repo" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,6,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">More than one fpm package per git repo</div></div>
<div data-id="0,0,0,7:main-container-external:0:main" id="article-out" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,7,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Article Out</div>
<div data-id="0,0,0,7,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>(on how having article.page allows us to get just the content of a page, without
header/sidebar/footer etc).</p>
</div></div>
<div data-id="0,0,0,8:main-container-external:0:main" id="thought-package-identity" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,8,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Thought: Package Identity</div>
<div data-id="0,0,0,8,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>2nd Jan 2022</p>
<p>Still can‚Äôt believe 22 is here! So I have been thinking about <code>fpm update</code> recently
and came across <a href="https://github.com/fiatjaf/nostr">nostr</a> that implements something
very close to what I had in mind.</p>
<p>I kind of consider <code>nostr</code> design the right design, good balance between
centralised (prone to attacks, censorship etc) and ‚Äúpure‚Äù peer to peer (complex,
less reliable etc). Maybe there are issues, but to me it sounds good.</p>
<p>So we know how to distribute packages. What is missing is package identity. Package
names depend on DNS if you buy your own domain, and with others, eg github if you
host on <code>&lt;username&gt;.github.io</code> etc. So how do we ensure you really own the package
identity? That you can move from <code>.github.io</code> to something else without losing
people who may be interested in your content.</p>
<p>Traditional way requires you to do a redirect from old to new. But this relies on
old service still running, often companies come and go, domain can expire or sold
to someone with no interest in honouring the old contracts.</p>
<p>If not domain name then what? One candidate is cryptographic keys. But they are too
hard, at least when you are targeting billions of publishers, like Twitter and
Facebook does. Eventually your FPM packages should be your twitter/Facebook
profile, but how do you manage identity?</p>
<p>WhatsApp etc, E2E, End To End-Encryption systems rely on some shared identity, eg
a phone number of email address as a convenience, and then they generate some keys
behind the scenes, you can see the fingerprint of your keys in whatsapp for
example, and verify each others identity (phone number appears to be the identity
from the layman‚Äôs perspective, but its backed by strong cryptographic foundations).</p>
<p>So let me repeat, when you are sending a message on WhatsApp, you think you are
sending it to a phone number, but WhatsApp has internally exchanged some encryption
keys with that contact, and its going to that key.</p>
<p>Let me say it in a more formal way, in PKI, whatever that might be, anyone can
generate a key pair, a private key and a public key. This key pair can be
considered an identity. When you send a message it goes to someone, that someone
needs to be identified, and how we identify them can be considered their identity.
What you can do is encrypt the message with the public key of the recipient, and
only the corresponding private key can de-crypt the message.</p>
<p>So in this sense, a key pair can be your identity. But key pairs are just numbers,
and unlike phone numbers, they are much bigger. So exchanging these numbers is not
fun, it‚Äôs opaque, no one can remember them, nor can see what they are referring to
if we see a huge number representing a public key in someone‚Äôs <code>FPM.ftd</code> file as a
dependency.</p>
<p>So we need a way for the key pair to get an alias. The domain name is a good alias.
If we tread DNS as alias, not the source of truth, things are much better. Identity
moves are rare, but they do happen. People switch providers, people may want to
move from Github Pages to another service, and back. Once someone starts following
someone, such moves should not affect them, the followers should continue to get
updates despite name changes. So how do we achieve this with PKI and aliases?</p>
<p>Imagine Github Pages implemented our protocol, this is how it could work. They
generate a key pair for you when you sign up. This is important if we want
billions of people to use services. Most people are not going to want to bother
with all this. This is what WhatsApp/Telegram do to deliver strong cryptographic
guarantees (at least by design/promise, implementation is another matter) to
masses.</p>
<p>So when you create an account on any of these services, they create a new unique
identity (key pair) for you. You start using that service, you gain followers,
and say you get serious. This is the point you will bother with all this identity
business details. Now you have say 100s of followers and you want to move to a
different provider, without losing the followers (without breaking 100s/thousands
of packages that depend on breaking).</p>
<p>At this point you will now claim your identity. You install another app, offline
only for strictest guarantees, and generate your real identity, real key pair.</p>
<p>Now if Github Pages etc are acting in good faith, they will let everyone know that
they are temporary guardians of your identity, that you have not yet claimed your
identity, and the moment you do so they will cooperate. If they chose to act in
bad faith, charge you money for you to claim your identity or not let you do it
while initially promising that they will, then you could lose follower, but
hopefully word will spread and people will shun such services.</p>
<p>So the temporary guardian of your identity can accept your real identity keys,
and everyone who is following your via <code>&lt;username&gt;.github.io</code> now learns of your
true identity as well (and that Github is an intermediary working for you for now,
via you signing the Github generated keypair with your real identity).</p>
<p>So real identity has always been the keypair, but we would be using the domain
name. We need a distributed store of keypair to DNS mapping, so you can switch
the domain for your keypair. Some sort of ‚Äúkey server‚Äù is needed. Your followers
where initially thinking that the Github generated keypair was the true identity,
but since you update your identity, github will notify them about the true
identity and your FPM will now store the true identity of what you are following.</p>
<p>We also will have to allow for ‚Äúkey revocation‚Äù, say one of the guardians went
rogue, got bought out, hacked etc, and starts sending updates on your behalf to
your followers, you had signed that key-pair with your key, so now you have to
revoke that key-pair. The key-server can do that as well.</p>
<p>So the protocol is: in <code>FPM.ftd</code> you see domains. You keep a cache of domain to
keypair id on your file system. Periodically you check with key-server if the
domain for any keypair has changed, if so <code>fpm</code> commands start reporting warnings
that domain entries are out of date, please update ASAP. <code>fpm</code> can now chose to,
if you so want, start using the latest entries from key-server for the
identities, so say if dependencies say you are publishing on
<code>&lt;username&gt;.github.io</code>, but since <code>key-server</code> says domain moved to
<code>&lt;username&gt;.com</code>, <code>fpm</code> will start fetching from <code>&lt;username&gt;.com</code>.</p>
</div></div>
<div data-id="0,0,0,9:main-container-external:0:main" id="basic-translation-ui-done" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,9,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Basic Translation UI Done!</div>
<div data-id="0,0,0,9,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>1st Jan 2022</p>
<p>Arpita has been working relentlessly on transition UI and I am quite proud of what
she has done so far.</p>
</div>
<div data-id="0,0,0,9,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; height: 100%; justify-content: flex-start; padding-bottom: 20px; white-space: initial; width: 100%" class="ft_md"><img alt="" data-id="0,0,0,9,2,0:main-container-external:0:main" src="/images/translation/english-with-dropdown.jpg" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; padding-bottom: 15px; white-space: initial; width: 100%">
<div data-id="0,0,0,9,2,1:main-container-external:0:main" style="align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: Open sans; font-size: 17px; font-style: italic; font-weight: 400; margin-bottom: auto; margin-top: auto; text-align: left; white-space: initial; width: 100%" class="ft_md">You can see the translation banner and available languages</div>
<div data-id="0,0,0,9,2,2:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Consider <a href="https://arpita-jaiswal.github.io/vivekanand/">this page for example</a>, it
is originally in English and is being translated in two other languages, Hindi and
Gujarati. From any page in the English language one, you can click on the language
dropdown to see other languages it is available in, and jump to that corresponding
page in that language.</p>
<p>Now say you go to the the corresponding <a href="https://arpita-jaiswal.github.io/vivekanand-hi/">Hindi
translation</a>, you see the
following:</p>
</div></div>
<div data-id="0,0,0,9,3:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; height: 100%; justify-content: flex-start; padding-bottom: 20px; white-space: initial; width: 100%" class="ft_md"><img alt="" data-id="0,0,0,9,3,0:main-container-external:0:main" src="https://i.imgur.com/2zHKX8m.jpg" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; padding-bottom: 15px; white-space: initial; width: 100%">
<div data-id="0,0,0,9,3,2:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>So this page was translated someday, but the message is saying that is now not
up-to date with original, English version. She has used the excellent <a href="https://projectfluent.org">Project
Fluent</a> by Mozilla to translate the UI messages as well.
You can see the the Rust code in
<a href="https://github.com/FifthTry/fpm/tree/main/src/i18n"><code>src/i18n</code></a> and translation
files in <a href="https://github.com/FifthTry/fpm/tree/main/i18n"><code>i18n</code></a> folders. The
translation itself needs a lot of improvements, please send PR if you find some
way you can improve the messaging üòÖ.</p>
<p>If you click on the banner you see more information about what is wrong, why is
this document out of date, as in how much out of date it is, slight typo in
original, or major re-write. Based on this knowledge reader can decide to stick
with translation or read the original.</p>
</div></div>
<div data-id="0,0,0,9,4:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; height: 100%; justify-content: flex-start; padding-bottom: 20px; white-space: initial; width: 100%" class="ft_md"><img alt="" data-id="0,0,0,9,4,0:main-container-external:0:main" src="https://i.imgur.com/QzstrXh.jpg" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; padding-bottom: 15px; white-space: initial; width: 100%">
<div data-id="0,0,0,9,4,2:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We tell you when the Hindi translation was last marked upto date, and what all
changes has happened in the English version since that date. This we believe is
really unique feature we have brought, we have not seen it anywhere yet, this
demonstrates our ‚Äúdocument tracking technique‚Äù‚Äôs strength. We would be using this
technique for version tracking (what logical changes has happened in the new
version/edition of a book/documentation), change request, two way sync etc.</p>
<p>We also take you to translation status page if you are so interested:</p>
</div></div>
<div data-id="0,0,0,9,5:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; height: 100%; justify-content: flex-start; padding-bottom: 20px; white-space: initial; width: 100%" class="ft_md"><img alt="" data-id="0,0,0,9,5,0:main-container-external:0:main" src="https://i.imgur.com/BunGHmW.jpg" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; padding-bottom: 15px; white-space: initial; width: 100%">
<div data-id="0,0,0,9,5,2:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>This page is translated in Hindi as well for example.</p>
<p>UI needs work, messaging needs work, but we are so proud of what‚Äôs working already.
Also you can modify each of those UI by creating and editing
<a href="https://github.com/FifthTry/fpm/tree/main/ftd/translation"><code>FPM/translation/{missing, upto-date, etc}.ftd</code></a>, we ship the
UI shown above as fallback, we first look for corresponding files in package‚Äôs
<code>FPM</code> folder.</p>
</div></div></div>
<div data-id="0,0,0,10:main-container-external:0:main" id="fpm-package-info-page" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,10,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">FPM Package Info Page</div>
<div data-id="0,0,0,10,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We are accumulating a lot of package meta-data in generated <code>FPM.ftd</code> file during
build time, now Arpita has started displaying that data as well on
<a href="https://arpita-jaiswal.github.io/vivekanand/FPM/">/FPM/</a> URL for any fpm built
package. Currently the URL is almost empty, but after we merge <a href="https://github.com/FifthTry/fpm/pull/43">this
PR</a> it will start looking a bit like this:</p>
</div>
<div data-id="0,0,0,10,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; height: 100%; justify-content: flex-start; padding-bottom: 20px; white-space: initial; width: 100%" class="ft_md"><img alt="" data-id="0,0,0,10,2,0:main-container-external:0:main" src="https://i.imgur.com/90xCFV3.jpg" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; padding-bottom: 15px; white-space: initial; width: 100%">
<div data-id="0,0,0,10,2,2:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>It‚Äôs quite bare bones. Soon it will list information about where to fetch package
data from, the LICENSE of the package, how to collaborate, edit this package. We
will also include the <code>README.md</code> of the project if its hosted on Github etc on
this page.</p>
<p>This page is fully customisable. You can modify
<a href="https://github.com/FifthTry/fpm/blob/7655e4e10bebc602bdf92251f40176bece494827/ftd/info.ftd"><code>FPM/info.ftd</code></a>
file and tweak it based on your need.</p>
</div></div></div>
<div data-id="0,0,0,11:main-container-external:0:main" id="fpm-theme" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,11,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">‚ÄúFPM Theme‚Äù</div>
<div data-id="0,0,0,11,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>So now we are building a lot of UI that is going to be part of a website you
create. The website you create using FPM/FTD can be exactly how you want it to be,
you have absolute control over every pixel of the page. But then we have our UI
elements, things that are needed for FPM to work correctly, <code>FPM/info.ftd</code> file,
<code>FPM/translation/*.ftd</code> files and so on.</p>
<p>And you can totally edit those files, copy them from our source, tomorrow we may
give you some cli helper for that, and edit them to your hearts desire.</p>
<p>But we do not believe that is ideal. We are going to create a theme, a ‚Äúdocument
interface‚Äù in our terminology, which will contain all the components needed for
FPM related UI that gets included in your site.</p>
<p>Once that document interface is finalised, we will create a few themes
implementing fpm interface, and hopefully end users can as well. License permitting
you can use any of them interchangeably.</p>
<p>Ideally all the main themes should also implement FPM Theme document interface as
well, so most theme you find for your blog, resume, book, open source project page,
startup landing page etc, will come with compatible elements, but if the theme you
picked for rest of your site does not come with the FPM Theme elements, then you
can use another theme visually compatible with your theme, or create your own.</p>
<p>You have full power over entire UI, the interaction, style, and you only need to
learn FTD to design those pages, FTD something that is lot easier to learn than
HTML/CSS/JS for doing this kind of job. FTD that is designed for non programmers
even.</p>
</div></div>
<div data-id="0,0,0,12:main-container-external:0:main" id="thought-how-should-fpm-update-work" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,12,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Thought: How Should <code>fpm update</code> Work?</div>
<div data-id="0,0,0,12,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>So we recently introduced this command, and currently it simply re-downloads all
the dependencies, which is fine for our demos and initial usability testing etc,
but clearly not something we want to eventually.</p>
<p>We are designing FPM infra to be as ‚Äúdistributed‚Äù as possible, this means we can
not have a central entity knowing the status of all the packages as is done by many
other package managers.</p>
<p>We can poll, re-fetch each <code>&lt;dependency&gt;/FPM.ftd</code>, with etag handling etc, but this
is still not great. How often to poll? On every <code>fpm</code> command invocation? Every
minute/hr/day? Every time user says <code>fpm update</code>?</p>
<p>Sure. We can come up with some such scheme. But can we have some sort of middle
ground? Not central, yet we do not have to poll everyone? Poll is not great, we
want push, as soon as the package we are interested in is updated, say I opened my
laptop for a few minutes before catching a long flight, I would want my system to
automatically fetch all the latest updates. If in the last minute before I close
the lid there was an update to a package, I would want that to be available to me.</p>
<p>Posing problem like this, no central, and yet want push, means we create a few, a
few hundred, thousand maybe ‚Äúcentral‚Äù agents. Say there is a new component
<code>fpm bastion</code>, probably using that word incorrectly, some sort of <code>fpm aggregator</code>,
and say each package can pick say 10 of such aggregators. People can maintain fpm
aggregator lists, some will be available via <code>fpm.dev</code>, but say its down, under
attack, sold out, there are others lists, and each package may include a list of
aggregators they know of so one can look at all aggregators from all the package
they currently have.</p>
<p>So there are so many aggregators. And they themselves are chatter boxes, gossiping
with each other. For each package they keep track of the <code>FPM.ftd</code> file. We can
always use public key infrastructure to ensure the <code>FPM.ftd</code> file I receive from
an aggregator is trustworthy (they can lie about not giving me the latest update,
but they can not modify <code>FPM.ftd</code> without getting trivially detected).</p>
<p>Each FPM package should pick a dozen or so aggregators from the list. And every
time there is an update, every time <code>fpm sync</code> runs, the content is uploaded to
<code>fpm-repo</code> but also sent to aggregators.</p>
<p>Aggregators are chattering and they will communicate to others if any change has
happened. Aggregators may even be paid to give guarantees that they talk to
everyone or that they have strong latency guarantees (the gap between an update
happening on any aggregator in world to this aggregator telling you it has
happened).</p>
<p>We will have to employ many techniques from distributed hash table literature and
prior work. Maybe even use <a href="https://github.com/rs-ipfs/rust-ipfs">IPFS etc</a> and
not re-invent things.</p>
<p>Or we can go old fashioned, sort of reverse mail relay, DNS for any domain (or
current version of FPM.ftd if its not too old) can tell you the preferred
aggregator for this package. We can also do the aggregator push, like my preferred
aggregators are say this list, then when I am fetching a package from your
<code>fpm-repo</code>, I can tell the repo about that list, and tell <code>fpm-repo</code> to notify to
one of my preferred aggregators.</p>
<p>Anyways, so we have a bunch of aggregators, or we have full blown IPFS infra,
whatever. We will now need our <code>fpm</code> to have a demon that will run in background
and keep fetching stuff. All of this can be done by your <code>fpm-reader</code>.</p>
<p><code>fpm-reader</code> would be a service for consuming FPM packages. You can install other
packages as dependency of a package you are building, but can also ‚Äúsubscribe‚Äù to
packages via <code>fpm reader</code>, which can be running on your machine (as part of <code>fpm</code>
binary maybe), or on your Heroku/DigitalOcean instance if you have devops
bandwidth, or you can buy it from a SAAS provider.</p>
<p>If you are using a cloud <code>fpm-reader</code> (meaning not running on your machine), your
<code>fpm daemon</code> will connect with <code>fpm-reader</code> and get the updates via a web-socket/
push mechanism.</p>
<p>Update: Turns out <a href="https://github.com/fiatjaf/nostr">nostr</a> describes the protocol
very close to what I had in my mind.</p>
</div></div>
<div data-id="0,0,0,13:main-container-external:0:main" id="thought-gluesql-based-package-query" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,13,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Thought: GlueSQL Based Package Query</div>
<div data-id="0,0,0,13,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>31st Dec 2021</p>
<p>We have a feature that allows you to query SQLite databases. In general it is good
feature, if you have SQLite database, sure, go ahead and query it. But we call the
query processor <code>package-query</code>, because the original intent of that processor was
to be able to query a special database that shows FPM package data. Our first
design was to do a <code>build-package-database</code> that generates a <code>sqlite</code> file, and
then run queries on that sqlite file.</p>
<p>The main idea was we do not want to create our own query language or API, that‚Äôs a
lot of work, and new thing for people to learn, but we do want to expose rich data
so people can make their documents smarter.</p>
<p>Turns out there is a project, <a href="https://github.com/gluesql/gluesql">GlueSQL</a>:</p>
<blockquote>
<p>GlueSQL is a SQL database library written in Rust.</p>
<p>It provides a parser (sqlparser-rs), execution layer, and optional storages
(sled or memory) packaged into a single library.</p>
<p>Developers can choose to use GlueSQL to build their own SQL database, or as an
embedded SQL database using the default storage engine.</p>
</blockquote>
<p>This sounds like pretty much what we want, a SQL interface, but powered by our
custom logic.</p>
<p>The main reason to use it would not be just because we don‚Äôt want sqlite
dependency, or anything is wrong in sqlite, but because build is circular, you can
not create package data sqlite database from data in documents because some of
those data may be generated from a package query itself.</p>
<p>Not sure what it entails when it comes to actually implementing it, but knowing
there is good starting point, we will not have to start from scratch means this
solution is now at least conceptually feasible.</p>
</div></div>
<div data-id="0,0,0,14:main-container-external:0:main" id="translation-status-coming-along-nicely" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,14,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Translation Status Coming Along Nicely</div>
<div data-id="0,0,0,14,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>30th Dec 2021</p>
<p>Arpita has been relentless about translation support. After finishing the basic
features she is now focussing on data presentation. Some of the UIs that are ready.</p>
</div>
<div data-id="0,0,0,14,2:main-container-external:0:main" id="translation-status-page" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,14,2,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Translation Status Page</div>
<div data-id="0,0,0,14,2,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>For package in original language (which is being translated in other languages), we
create a translation status page now. The URL is
<code>&lt;domain&gt;/FPM/translation-status/</code>, eg
<a href="https://arpita-jaiswal.github.io/vivekanand/FPM/translation-status/">arpita-jaiswal.github.io/vivekanand/FPM/translation-status/</a>,
which looks like this (screenshot added to capture current state, it so we can see
the progress):</p>
</div>
<div data-id="0,0,0,14,2,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; height: 100%; justify-content: flex-start; padding-bottom: 20px; white-space: initial; width: 100%" class="ft_md"><img alt="" data-id="0,0,0,14,2,2,0:main-container-external:0:main" src="https://i.imgur.com/eL3C99a.jpg" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; padding-bottom: 15px; white-space: initial; width: 100%">
<div data-id="0,0,0,14,2,2,2:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Here we are seeing the status of the original language, which is English. We see
that the English FPM package was last modified on <code>2021-12-29T20:55</code> and has 13
documents.</p>
<p>We see that it is translated in 2 languages, <code>hi</code>, 2 letter ISO 639-1 code for
Hindi, and <code>gu</code>, Gujarati. For each language we see how many of original 13
documents are ‚ÄúPartially? translated but <strong>Never Marked</strong> up to date‚Äù, ‚Äú<strong>Missing</strong>
(translation not yet started)‚Äù, ‚ÄúTranslated was done at some point by is now
<strong>Out-Dated</strong>‚Äù, and ‚ÄúUp-to Date‚Äù. We also see when was any of the packages last
modified.</p>
<p>This gives a very good overall picture of the project. We plan to add word counts
too as progress of library work, which is what FPM packages contain often, are
better tracked by word counts, not file counts.</p>
<p>We have to try to strike a balance between too much data making the UI confusing vs
too little data leading to people having to click around more than necessary to get
the information at a glance. We will have to do usability testing, engage with
proper UX people etc. But its a good start, quite happy with it.</p>
</div></div></div>
<div data-id="0,0,0,14,3:main-container-external:0:main" id="language-detail-page" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,14,3,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Language Detail Page</div>
<div data-id="0,0,0,14,3,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>So you saw overall status of translations across all languages, but you would want
to dig deep and see more details for any language. For this we have Language Detail
Page, which has the URL: <code>&lt;domain-of-translation&gt;/FPM/translation-status/</code>. Not
too fond of naming the page ‚ÄúLanguage Detail Page‚Äù but the URL containing
‚Äútranslation-status‚Äù when we already have another page called ‚ÄúTranslation Status
Page‚Äù. But I like the URLs too, its technically translation status of that
language, but what do call it then, ‚ÄúTranslation Status Of Translation Page‚Äù? That
would be monstrosity, ‚ÄúLanguage Detail Page‚Äù seems obvious.</p>
<p>Anyways, so this is how say Hindi version of
<a href="https://arpita-jaiswal.github.io/vivekanand-hi/FPM/translation-status/">arpita-jaiswal.github.io/vivekanand-hi/FPM/translation-status/</a>
looks like:</p>
</div>
<div data-id="0,0,0,14,3,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; height: 100%; justify-content: flex-start; padding-bottom: 20px; white-space: initial; width: 100%" class="ft_md"><img alt="" data-id="0,0,0,14,3,2,0:main-container-external:0:main" src="https://i.imgur.com/7gWQZvy.jpg" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; padding-bottom: 15px; white-space: initial; width: 100%">
<div data-id="0,0,0,14,3,2,2:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We are showing the total number of documents in original package (currently it
should have shown 13, seems there is a bug), we will also show that this is the
translation of ‚ÄúAddresses at The Parliament of Religions‚Äù, which is in <code>en</code>, and
link back to Translation Status page shown earlier. Maybe we should show the last
date on which <code>English</code> was modified. Maybe we should show <code>5 / 13</code> to track
things.</p>
<p>We then list all the document, currently their <code>document-id</code>, but soon we will show
the <code>document-title</code> and <code>document-title-original</code> also (with decent non cluttered
UI, maybe tooltips etc. We have to show timestamp of when the original was last
modified and when the translation was last modified also in this table.</p>
</div></div></div>
<div data-id="0,0,0,14,4:main-container-external:0:main" id="a-note-on-upto-date-ness-of-these-pages" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,14,4,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">A Note On Upto-Date-ness Of These Pages</div>
<div data-id="0,0,0,14,4,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>The <code>Translation Status Page</code> is built as part of original language <code>fpm package</code>
and <code>Language Detail Page</code> is built as part of each translation. But they
translation status page depends on data of all translations, and language detail
page depends on data of the current language and the original language package.</p>
<p>Which means if they are not periodically rebuilt, or better built in some event
drive way (we know what package we depend on, what if we also knew what packages
depend on me, and I could tell each of them hey I have changed!, or maybe we can
still have a central repository, or maybe even say
<a href="https://github.com/orbitdb/orbit-db">orbit-db</a> etc which only keeps track of which
package was last built at what time, so we can auto refresh the entire page or
just the <code>translation-status.html</code> file.</p>
<p>Other approach could be we do client side fetching of <code>FPM.ftd</code> file, so when you
go to Translation Status Page, we show the last built version but we then download
<code>FPM.ftd</code> for each of the translations, and recompute the data.</p>
<p>I am not too happy with the frontend approach, every single visitor will
re-download everything, think about the global warming people, FPM is trying to be
network resilient, if we create multi-planetary civilisations, HTTP based lets just
fetch what we want when we want won‚Äôt work, and such federated, change when needed,
show stale but refresh etc approaches would be needed.</p>
</div></div>
<div data-id="0,0,0,14,5:main-container-external:0:main" id="ui-customization" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,14,5,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">UI Customization</div>
<div data-id="0,0,0,14,5,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>The screenshots you see are the UI that‚Äôs shipped as default with <code>fpm</code>, but you
can easily customise it by creating <code>FPM/translation/original-status.ftd</code> and
<code>FPM/translation/translation-status.ftd</code> files.</p>
<p>We will soon create a ‚Äúdocument interface‚Äù for FPM Package Info, which will include
translation banners (will talk about them soon), translation status page, and
upcoming: package info page, package and document history pages, change request
pages and so on.</p>
<p>Further we have to figure out how do we internationalise the UI messages.</p>
</div></div></div>
<div data-id="0,0,0,15:main-container-external:0:main" id="ui-message-internationalisation" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,15,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">UI Message Internationalisation</div>
<div data-id="0,0,0,15,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We have two large level approach for UI message internationalisation. First is the
tried and tested, i18n approach, say we use <a href="https://projectfluent.org">Mozilla‚Äôs
Fluent</a>. We can define special strings we have in our
source code, and we invest in comprehensive translation so no one has need to
improve it (meaning it can not be done by writing FTD files, you must recompile
<code>fpm</code>).</p>
<p>I am not fond of that approach, primarily because while we can do that for strings
we know about, but what about themes and other kind of content people create? Say
a theme for book (document interface) will have terms like ‚Äútable of content‚Äù, how
to centrally translate such information so that each user of that document
interface in that language doesn‚Äôt have to keep deciding how to translate things.</p>
<p>We need to think more about this.</p>
</div></div>
<div data-id="0,0,0,16:main-container-external:0:main" id="thought-language-ids" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,16,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Thought: Language IDs</div>
<div data-id="0,0,0,16,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Currently we are using 2 letter ISO 639-1 code to represent language names, eg in
<code>FPM.ftd</code> file:</p>
</div>
<div data-id="0,0,0,16,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,16,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">package</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">foo.com
</span><span style="color:#b48ead;">language</span><span style="color:#65737e;">: </span><span style="color:#d08770;">en
</span><span style="color:#b48ead;">translation</span><span style="color:#65737e;">: </span><span style="color:#d08770;">foo.com/hi
</span></pre>
</div></div>
<div data-id="0,0,0,16,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>2 letter codes are okay, but in FTD/FPM we tend to stick with full names instead of
short versions, like <code>integer</code> instead of <code>int</code>, or <code>language</code> instead of <code>lang</code>,
since we believe things are written once and read many many times, and we have
immense capability in getting confused. How many people can guess <code>gu</code> stands for
Gujarati and not some African language? What have we really saved by writing <code>gu</code>,
instead of writing ‚Äúgujarati‚Äù which has to be written precisely once in the
package which is probably going to have tens or thousands of words?</p>
<p>We have a few problems here. One we must ensure the language names are exactly the
same, we all call it either ‚ÄúGujarati‚Äù or ‚Äúgujarati‚Äù. This is because we can then
easily re-use translations etc, standardisation is good in general.</p>
<p>We can use the ‚ÄúISO Language Name‚Äù column as shown in the
<a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">Wikipedia</a> (or find out
where did they get the actual data from). They have mapped more than one names to
same code in a few cases, which I feel is actually a good thing, we can be more
precise in language name, honour the preference of the author, we are interested
in the code, which we will get.</p>
<p>So this is our first decision. We will proper case also, so <code>language: Gujarati</code>
as it is proper noun, and not <code>language: gujarati</code>.</p>
<p>Then the other problem is how to show the name of language in language detail
page in a form native speakers of that language can understand, so ‚Äú‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä‚Äù we
should show. But the translation status page we should show probably both ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä and
Gujarati.</p>
</div></div>
<div data-id="0,0,0,17:main-container-external:0:main" id="special-languages" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,17,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Special Languages</div>
<div data-id="0,0,0,17,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>So I was thinking of the two names for each language, and how both are relevant
information, should we allow both somehow? Say <code>language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä</code>, we
will ignore the part after <code>|</code>, so that can be used as some sort of description
about the translation.</p>
<p>This got me into thinking if we must have a requirement that there can be only one
translation in one language, since if not this allows us to also explain what is
happening, so we have syntax, but do we have a need?</p>
<p>This got me into thinking what if there was a book ‚ÄúRust Programming Language‚Äù and
someone translated it into ‚ÄúRust Programming Language for Advance Haskell
Programmer‚Äù, it will remain in English, but the audience has changed, advance
Haskell programmers probably do not need such a laborious, long explanation, maybe
their book would be just a 10 page book instead of the 100 (random guess) page
current book?</p>
<p>After all the purpose of translation is to make some work accessible to a
population who wanted to read it but could not because of language barrier. But
isn‚Äôt a book written in too much (or too little) technical detail a language
barrier itself? Can you read a book written for absolute beginner of a topic if you
are in advanced stage, and vice versa? Can these two people really talk to each
other meaningfully? Isn‚Äôt there is a need for a translation there?</p>
<p>And consider this also: say I am describing the strict specification of what FPM
does, shouldn‚Äôt there be a document like this? Which assumes you know everything,
and you are only interested in exact description of precise behaviour of what FPM
does? Of course that document must exist. But is that just a document? It must be
a package right? And then we have the ‚Äúend user documentation‚Äù of FPM. Isn‚Äôt that
just a ‚Äútranslation‚Äù of the formal spec?</p>
<p>Conclusion: we will allow <code>language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä</code> syntax. First part must be
language name as per ISO 639-1. But when allowing or disallowing we will use the
entire value of <code>language:</code> key. So you can not have two translations with
<code>language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä</code>, but you can have one with
<code>language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä</code> and other with <code>language: Gujarati | ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä (simplified)</code>.</p>
</div></div>
<div data-id="0,0,0,18:main-container-external:0:main" id="thought-font-asset-packages" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,18,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Thought: Font/Asset Packages</div>
<div data-id="0,0,0,18,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>What if there were fonts that can be distributed as FPM package? They can chose to
inline the <code>.woff</code> etc file in the package itself, but they can also link to CDN
hosted font files (this is a bit privacy issue, we do not want Google etc to know
what page is being viewed, and today Browsers re download all assets, I may be
wrong, to avoid timing attacks for <a href="https://www.sciencedaily.com/releases/2018/10/181030102802.htm">fingerprinting who you are or what websites
you visit</a>).</p>
<p>We can do the same to distribute other assets, say you want to share images with
the world, you can upload it to unsplash or create a FPM package and put it on
Github.</p>
<p>Soon people will start indexing such packages, and you will get a more direct
reference, if anyone is using your assets you will be credited in the
<code>fpm.dependency</code> of that package.</p>
<p>One question would be should these assets be copies over or given that each FPM
package has a URL those assets are directly linked? Direct linking may not be good,
as people will have to pay for their package getting popular. We should copy over.</p>
<p>Should we have a manifest file that tells what files to copy over? Should we have
an asset folder which gets copied over? What about if multiple packages ended up
taking the same name? We should copy the asset with the full package name (or
package alias).</p>
<p>How would we refer to such asset?</p>
</div>
<div data-id="0,0,0,18,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,18,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">foo
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">ft.image</span><span style="color:#65737e;">:
</span><span style="color:#b48ead;">src</span><span style="color:#65737e;">: </span><span style="color:#d08770;">foo:path/of/image.png
</span></pre>
</div></div>
<div data-id="0,0,0,18,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We can make the URL resolve into <code>/assets/foo/path/of/image.png</code>. We can even do
this on demand, the asset package may have many files, but we only copy over the
ones referenced in current package.</p>
<p>What if this is transitive? If <code>x</code> is being built and it depends on <code>a</code>, which
needs asset <code>f1:foo.png</code>. Should we create <code>assets/a/foo.png</code> or
<code>assets/f1/foo.png</code>. The problem is same <code>f1</code> could be imported by multiple
dependencies with different names, so we end up having lots of copies of the same.</p>
<p>To solve this folder name must match full package name, not just the alias.</p>
</div></div>
<div data-id="0,0,0,19:main-container-external:0:main" id="thought-testing-improvement-dynamic-documents" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,19,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Thought: Testing Improvement (dynamic documents)</div>
<div data-id="0,0,0,19,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>29th Dec 2021</p>
<p>Was reviewing the latest PR done by Arpita, and this thought occurred to me: we
currently do, what Jest popularised as ‚Äú<a href="https://jestjs.io/docs/snapshot-testing">snapshot
testing</a>‚Äù, we create ‚Äúsnapshots‚Äù of
generated HTML files, and ensure they do not change.</p>
<p>I find HTML a bit noisy, reviewing change in generated HTML is not fun. Further
there is a question of coverage - not all features of <code>fpm</code> could have been used
in the <code>.ftd</code> file, maybe it is bare-bones, and when someone uses realistic <code>.ftd</code>
files, maybe things would not go as expected.</p>
</div>
<div data-id="0,0,0,19,2:main-container-external:0:main" id="fpm-ftd-snapshotting" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,19,2,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md"><code>fpm.ftd</code> snapshotting</div>
<div data-id="0,0,0,19,2,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We are currently creating one main dynamic file, <code>fpm.ftd</code>, its a virtual file,
does not exist on disc, is generated on run time, for each document getting
rendered, and it contains data related to that document.</p>
<p>We should snapshot the generated <code>fpm.ftd</code> file as well on file system, and ensure
it doesn‚Äôt change without review, so all the variables are asserted upon.</p>
</div></div>
<div data-id="0,0,0,19,3:main-container-external:0:main" id="special-files" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,19,3,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Special Files</div>
<div data-id="0,0,0,19,3,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>There are some special files, eg <code>translation-stats</code>, its provided by us, and it
cant really have any bug per se, I mean we can ship some broken
<code>FPM/translation/status.ftd</code> file, sure, but its just a text file, I do not want to
see the generated <code>.html</code> file for. Similarly we have <code>FPM/markdown.ftd</code> file,
which again, would do what it would do, and not much point storing the <code>.html</code> of.</p>
<p>Not sure. The thought that‚Äôs coming to me is in such cases we need not necessarily
store the <code>.html</code> file, we just stored the corresponding dynamic context, <code>fpm.ftd</code>
or whatever, and snapshotting <code>.ftd</code> is enough. We will have more readable and
smaller diffs. I guess I just trying to reduce the amount of code review I have to
do üòÖ.</p>
</div></div></div>
<div data-id="0,0,0,20:main-container-external:0:main" id="fpm-update-implemented" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,20,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md"><code>fpm update</code> Implemented</div>
<div data-id="0,0,0,20,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>A few days back, as part of some other larger PR, Arpita implemented <code>fpm update</code>.
It‚Äôs currently pretty ‚Äúhacky‚Äù, deletes the <code>.packages</code> folder, and re-downloads all
the dependencies.</p>
</div></div>
<div data-id="0,0,0,21:main-container-external:0:main" id="fpm-prelude-fpm-added" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,21,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md"><code>FPM/prelude.fpm</code> Added</div>
<div data-id="0,0,0,21,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Shobhit just <a href="https://github.com/FifthTry/fpm/pull/37/files">implemented support for
<code>FPM/prelude.ftd</code></a>, this file if
found, is prepended to every <code>.ftd</code> file being processed (except <code>FPM.ftd</code> file).</p>
<p>Usually you would have a <code>config.ftd</code> file that can store a bunch of things that
you want available everywhere. Also you would want to include one or more component
libraries in your <code>ftd</code> files. Putting them all in <code>FPM/prelude.ftd</code> saves you from
repeating the same lines in every document, making documents that bit cleaner.</p>
</div></div>
<div data-id="0,0,0,22:main-container-external:0:main" id="thought-publishing-fpm-ftd-with-extra-data-and-better-fpm-page" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,22,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Thought: Publishing <code>FPM.ftd</code> With Extra Data, and Better /FPM/ Page</div>
<div data-id="0,0,0,22,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Recently we discussed we will start publishing (copying) <code>FPM.ftd</code> in <code>.build</code>
folder during build, and how we can sometime download just the <code>FPM.ftd</code> for an
FPM package instead of downloading the entire package <code>.zip</code> file. It sounded like
a great idea, and Arpita implemented it right away, and she did one better, she
included some extra data also in the <code>FPM.ftd</code> file.</p>
<p>This opens up interesting possibilities, now we can include all sorts of generated
package meta data and make it part of the published <code>FPM.ftd</code> file. We can show
number of files or word count of the package, we can include LICENSE, even sitemap,
latest snapshot versions etc etc. We can anticipate a lot of need, and most of the
‚Äúmetadata‚Äù needs of <code>fpm</code> can be satisfied by putting data in <code>FPM.ftd</code>.</p>
<p>So currently we also publish <code>/FPM/index.html</code>, which is generated out of <code>FPM.ftd</code>
file in the package. With this idea, of making lot more data available to <code>FPM.ftd</code>
that becomes even more interesting.</p>
<p>We will create <code>FPM/info.ftd</code> file, which will have all the <code>FPM.ftd</code> data
available, and would be rendered in <code>FPM/index.html</code>, so we can have a proper
package meta data page as well.</p>
</div></div>
<div data-id="0,0,0,23:main-container-external:0:main" id="source-of-truth-repo-or-deployed" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,23,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Source Of Truth: Repo Or Deployed?</div>
<div data-id="0,0,0,23,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>For any package, we have two potential source of truth, the repository where you
can get the package source from, where it is presumably being maintained, say
Github, or the actual built and deployed URL where things are hosted. Both contain
<code>FPM.ftd</code> file.</p>
<p>Consider translation status. Say the original package is trying to create a status
dashboard for all translation packages, showing like how many documents in that
translation are upto date, missing etc. To compute this information <code>fpm</code> can
download the latest version of each translation package, but this information is
coming from where source repo, like Github, so <code>zip</code> may point to <code>main</code> branch‚Äôs
<code>.zip</code> file.</p>
<p>If we trusted the <code>main</code> branch the problem is end users are viewing the
translation status page, and they may see, oh this package is 100% translated in
so and so language, but when the click on the link they may find that its not so,
as there is a possibility that things have landed in <code>main</code> branch, but not yet
built and published. This can happen because say deploy failed due to some reason.</p>
<p>So it seems that the <code>&lt;package-name&gt;/FPM.ftd</code> should be considered source of truth
when its materially different from <code>&lt;package-repo&gt;/FPM.ftd</code>.</p>
</div></div>
<div data-id="0,0,0,24:main-container-external:0:main" id="domain-in-package-support-done" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,24,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Domain In Package Support Done</div>
<div data-id="0,0,0,24,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>28th Dec 2021</p>
<p>Seems it takes less time for Arpita to build a feature than for me write what
should be built! Just like that she implemented <a href="https://github.com/FifthTry/fpm/pull/34/files">package with Golang like
identifiers</a>.</p>
<p>Consider this <a href="https://github.com/Arpita-Jaiswal/vivekanand/blob/main/FPM.ftd">FPM.ftd</a>
file for instance:</p>
</div>
<div data-id="0,0,0,24,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,24,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">fpm
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.package</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">arpita-jaiswal.github.io/vivekanand
</span><span style="color:#b48ead;">language</span><span style="color:#65737e;">: </span><span style="color:#d08770;">en
</span><span style="color:#b48ead;">zip</span><span style="color:#65737e;">: </span><span style="color:#d08770;">github.com/arpita-jaiswal/vivekanand/archive/refs/heads/main.zip
</span><span style="color:#b48ead;">translation</span><span style="color:#65737e;">: </span><span style="color:#d08770;">arpita-jaiswal.github.io/vivekanand-hi
</span><span style="color:#b48ead;">translation</span><span style="color:#65737e;">: </span><span style="color:#d08770;">arpita-jaiswal.github.io/vivekanand-gu
</span></pre>
</div></div>
<div data-id="0,0,0,24,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Without searching now you can just copy paste the package id in browser and see
the content of the package. So much better than the earlier approach of searching
for the package in the package repo, and hoping the repo index page links to the
published version somewhere.</p>
<p>Arpita pointed out that one of the cool side effect of this design (the fact that
<code>FPM.ftd</code> is now downloadable, without having to download the entire FPM package)
is that for many cases we will not have to download full package, eg when
specifying translations, when a FPM package is specifying the translations, we only
specify the package name, the actual language of the package is part of <code>FPM.ftd</code>
meta-data of that package, and she used to have to download the entire FPM package
zip file just to get the language (so she can show it in the translation dropdown).</p>
</div></div>
<div data-id="0,0,0,25:main-container-external:0:main" id="idea-canonical-url-support" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,25,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Idea: Canonical URL Support</div>
<div data-id="0,0,0,25,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>So we are going to approach few open source projects to checkout FPM and our
translation features soon. For us to setup the demo properly and get the discussion
rolling, it would be good to import a the project we are targeting, convert them
to a FPM package and publish on some temporary URL for demo purpose.</p>
<p>But we do not want Google to index our page. We can do robots.txt and block
indexing, but its even better to add canonical URL so Google gives proper credit to
original URL for improving their search ranking.</p>
<p>So we will support <code>canonical-url</code> key in <code>fpm.package</code>:</p>
</div>
<div data-id="0,0,0,25,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,25,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">package</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">www.amitu.com/rust-book/
</span><span style="color:#b48ead;">canonical-url</span><span style="color:#65737e;">: </span><span style="color:#d08770;">https://doc.rust-lang.org/book/
</span></pre>
</div></div>
<div data-id="0,0,0,25,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Currently we are supporting it only at package level. This means every URL that we
generate, eg /foo/, which is generated from <code>foo.ftd</code>, will be have a:</p>
</div>
<div data-id="0,0,0,25,4:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,25,4,0:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(58,64,78,1); border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(220,220,220,1); font-family: Open sans; font-size: 14px; font-weight: 400; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md">Note the /foo/ appended to canonical-url</div>
<div data-id="0,0,0,25,4,1:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#c0c5ce;">&lt;</span><span style="color:#bf616a;">link </span><span style="color:#d08770;">rel</span><span style="color:#c0c5ce;">=&quot;</span><span style="color:#a3be8c;">canonical</span><span style="color:#c0c5ce;">&quot; </span><span style="color:#d08770;">href</span><span style="color:#c0c5ce;">=&quot;</span><span style="color:#a3be8c;">https://doc.rust-lang.org/book/foo/</span><span style="color:#c0c5ce;">&quot; /&gt;
</span></pre>
</div></div>
<div data-id="0,0,0,25,5:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>In the generate file, with <code>href</code> pointing to corresponding URL.</p>
</div>
<div data-id="0,0,0,25,6:main-container-external:0:main" id="fpm-canonical-url" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,25,6,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md"><code>fpm.canonical-url</code></div>
<div data-id="0,0,0,25,6,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>In future we will also allow <code>canonical-url</code> on a special module <code>fpm</code>, so any
document can <code>-- import: fpm</code> and overwrite <code>fpm.canonical-url: &lt;some url&gt;</code> to
specify arbitrary canonical URL on a per document basis if they wanted to.</p>
</div></div></div>
<div data-id="0,0,0,26:main-container-external:0:main" id="document-title-support-implemented" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,26,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Document Title Support Implemented</div>
<div data-id="0,0,0,26,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Shobhit <a href="https://github.com/FifthTry/fpm/pull/32/files">implemented document title
support</a> yesterday. Till now all
HTML files generated by FPM used to have title <code>ftd</code>, after this pull request the
title is picked from content of FTD document being process right now.</p>
<p>In FTD we have a concept called <a href="/ftd/common/"><code>region</code></a>, any FTD element can use
region to express their semantic meaning. The idea is to let screen readers, search
engines etc discover what is the heading, or what is the role played by different
elements, so they can skip over things and focus on main content etc.</p>
<p>We have regions like <code>h0</code>, <code>h1</code> and so on for headings of different levels. To
compute the title we look for the first text block with <code>h0</code> region, if its not
found we look at first <code>h1</code> and so on. If no region is set then we look for first
text element. If that is also missing then we assume the <code>document-id</code> (relative
file path of the file being process with respect to package root, without the
<code>.ftd</code> extension) is the title.</p>
</div></div>
<div data-id="0,0,0,27:main-container-external:0:main" id="dependency-alias-support-implemented" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,27,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Dependency Alias Support Implemented</div>
<div data-id="0,0,0,27,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p><a href="https://github.com/FifthTry/fpm/pull/33/files">Shobhit‚Äôs PR for dependency aliasing</a> was merged today. This brings us one
step close to changing a theme should be just one line change (its a bit harder
than other systems where theming is well defined, you always know what you are
theming, Wordpress support Wordpress themes, which only work for blogs, and say
Winamp supports Winamp ‚ÄúSkins‚Äù, which only works Winamp, you cant use Winamp skin
with your Wordpress blog for example[1], with FPM you all sorts of UI, music
player to Browser, to pricing page to Resume etc can all be ‚Äúthemed‚Äù, and we want
cross portability across all of them ‚Äúas long as it makes sense‚Äù: follows the same
‚Äúdocument interface‚Äù).</p>
<p>This is how you create an alias:</p>
</div>
<div data-id="0,0,0,27,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,27,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">fpm
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.package</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">fifthtry.github.io/amitu
</span><span style="color:#b48ead;">zip</span><span style="color:#65737e;">: </span><span style="color:#d08770;">github.com/fifthtry/amitu/archive/refs/heads/main.zip
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.dependency</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">fifthtry.github.io/blog-theme as theme
</span></pre>
</div></div>
<div data-id="0,0,0,27,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We have used <code>as theme</code> to create an alias <code>theme</code> for the package
<code>fifthtry.github.io/blog-theme</code>.</p>
<p>In order to use it you can do this:</p>
</div>
<div data-id="0,0,0,27,4:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,27,4,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">theme
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">theme.h4 </span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">Hello world!
</span></pre>
</div></div>
<div data-id="0,0,0,27,5:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We are importing <code>fifthtry.github.io/blog-theme</code> by importing <code>theme</code>.</p>
<p>Note: We can also import the full package name if we wanted.</p>
<p>[1]: In case you are wondering why would anyone in their sane mind want to include
a music player theme in their blog? Say you are discussing the UI of the
player, say you want to show how the UI works, what would you do? Take a
screenshot? And you call that action of a sane mind? What will happen if that
theme changes? Are you going to come back and update the screenshot? <em>That</em>
would be lunacy my friend. Just import the FPM package for the Winamp theme,
pass the data that Winamp would have passed it (if we were living in the world
where people are not, you know, insane ‚Äì creating UI in platform after
platform, even more insane where UI of one ‚Äúframework‚Äù on same platform can‚Äôt
use UI of another frame, I am looking at you JavaScript, with your framework
pared ‚Äì and using FPM for example), and now you blog post contains always
refreshing, true, intractable Winamp screen. FPM makes it possible. Why would
you not?</p>
</div></div>
<div data-id="0,0,0,28:main-container-external:0:main" id="translation-ui-working" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,28,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Translation UI Working!</div>
<div data-id="0,0,0,28,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>27th Dec 2021</p>
<p>Arpita just finished translation UI (and basic translation feature in general). I
started writing update about translation feature on Journal, but I feel this
deserves a video update. Let‚Äôs do a bit more polish, create different states,
currently all translations are missing, do a bit of UI polish and towards the end
of the day create the video.</p>
<p>In the meanwhile you can <a href="https://arpita-jaiswal.github.io/vivekanand-gu/">check it out here</a>.
Notice the links in the header, they take you to respective pages in other
languages.</p>
<p>Super awesome job üôå, Arpita!</p>
</div></div>
<div data-id="0,0,0,29:main-container-external:0:main" id="package-name-with-domain" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,29,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Package Name With Domain?</div>
<div data-id="0,0,0,29,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Currently when we add a dependency on another package, we need two bits of
information, the name of the package and the repository where you can get the
package from.</p>
</div>
<div data-id="0,0,0,29,2:main-container-external:0:main" id="decentralisation" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,29,2,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Decentralisation</div>
<div data-id="0,0,0,29,2,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We need to know where to download a package from because of our decentralised
design. We do not want a single central infrastructure in FPM like they have in
other languages, eg <code>crates.io</code> for Rust or <code>npmjs.com</code> for Javascript and so on.
Centralisation has many problems, censorship becomes easy, single point of attack
for bad players, difficulty with confidentiality (what if you have some
information you do not want to leave your company VPN etc), bureaucracy (you can
not get a new feature on crates.io till you go through whatever hoops that there
to work with their team: I am sure they are very responsive etc, but they cant be
as responsive as your own self hosted repo, that you can tweak and deploy hourly
if you wanted to).</p>
<p>But for FPM, centralisation is especially a problem: other package managers only
distribute packages to be downloaded once at build time, when you are doing a
deploy, you will download the <code>.zip</code> file from package repository, and won‚Äôt
download again till another dependency is added or version changes. No end user
goes to <code>crates.io</code>/<code>npmjs.com</code> etc.</p>
<p>FPM packages on the other hand are actual websites. So FPM repository is used by
all end users, and all your site traffic goes to your <code>fpm-repo</code>. One single
website or a company can not host the entire Internet (live traffic, not like
<code>Archive.org</code>).</p>
<p>We also envisage that <code>fpm-repo</code> will be giving differential features, some may
give load balanced deployment with support for Edge caching, some other may focus
on Math related computation etc. FPM and FTD has a lot of dynamic features, and
that means there is a lot of play in features offered, pricing and business models
and so on.</p>
</div></div>
<div data-id="0,0,0,29,3:main-container-external:0:main" id="golang-like-package-naming" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,29,3,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Golang Like Package Naming</div>
<div data-id="0,0,0,29,3,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Golang recommends package names to contain domain names, including special
<a href="https://rakyll.org/style-packages/">emphasis on vanity URLs</a> (not just URLs
pointing to code hosting locations). Their entire tooling works with domain names:</p>
</div>
<div data-id="0,0,0,29,3,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,29,3,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#8fa1b3;">godoc</span><span style="color:#c0c5ce;"> cloud.google.com/go/datastore
</span></pre>
</div></div>
<div data-id="0,0,0,29,3,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>The cool thing is you can open the package name in browser and see the
documentation of that package. This is far better experience than Rust etc where
if you see a module being imported in any file you have to do a search to go to
the documentation of that module.</p>
<p>So can we have:</p>
</div>
<div data-id="0,0,0,29,3,4:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,29,3,4,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.dependency</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">amitu.com/realm
</span></pre>
</div></div>
<div data-id="0,0,0,29,3,5:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Instead of</p>
</div>
<div data-id="0,0,0,29,3,6:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,29,3,6,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.dependency</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">amitu/realm
</span><span style="color:#b48ead;">repo</span><span style="color:#65737e;">: </span><span style="color:#d08770;">github
</span></pre>
</div></div></div>
<div data-id="0,0,0,29,4:main-container-external:0:main" id="fpm-build-to-copy-fpm-ftd" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,29,4,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md"><code>fpm build</code> to copy <code>FPM.ftd</code></div>
<div data-id="0,0,0,29,4,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>For this to work we will need the meta data about the package that we want to
download. The URL may point to static site hosting URL, and that URL does not give
us entire package source.</p>
<p>We can chose to upload the latest package along with the static build, but that
forces us to use <code>.zip</code> path, where as if we know the repo is a git repo, we can do
more optimal downloads (eg <code>git pull</code> instead of full download). Git or upcoming
<code>fpm-repo</code> also gives us more features like branch, get things from other folder
etc, so uploading <code>.zip</code> is not optimal.</p>
<p>We must copy just the <code>FPM.ftd</code> file instead.</p>
</div></div>
<div data-id="0,0,0,29,5:main-container-external:0:main" id="the-new-package-download-scheme" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,29,5,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">The New Package Download Scheme</div>
<div data-id="0,0,0,29,5,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Currently we assume each package is hosted on Github and construct the <code>.zip</code> URL
when we have to download a package, and download it in <code>.packages</code> folder.</p>
<p>What we want to do now is given the package name, append <code>/FPM.ftd</code> to it, download
the <code>FPM.ftd</code> file, parse it, and get <code>fpm.package.zip</code> attribute.</p>
<p>Earlier we used the <code>repo</code> key, which was a single key to contain different kind
of value, could have been <code>zip</code> URL, <code>Github</code> etc, or the URL of the <code>fpm-repo</code>.</p>
<p>Now we will have dedicated keys, if the package is to be officially distributed as
zip file, set the <code>zip</code> key, if its on <code>github</code>, set it with the <code>git-url</code> (URL
that <code>git clone</code> understands), and we can support <code>hg</code>/<code>svn</code>/<code>fossil</code> etc as well.</p>
<p>The package name can not contain <code>https://</code>, for cleanliness. We will do what
modern browsers do, first check if <code>https://</code> is opening, else try <code>http://</code>.</p>
</div></div></div>
<div data-id="0,0,0,30:main-container-external:0:main" id="fpm-build-base-foo-for-github-pages" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,30,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md"><code>fpm build --base=/foo/</code> for Github Pages</div>
<div data-id="0,0,0,30,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>26th Dec 2021</p>
<p>When using <code>fpm build</code> locally vs when using it for GitHub Pages hosted site there
is a difference. Locally we build everything in <code>.build</code> folder directly, and URLs
are /x/ for <code>x.ftd</code> file. But when hosting a site on Github Pages, without using
custom domain, the URL GitHub Pages gives us is <code>&lt;account-name&gt;.github.io/&lt;repo-name&gt;/x/</code>.
So every URL is prefixed by <code>/&lt;repo-name&gt;/</code>.</p>
<p>One idea that came to me was we use HTML‚Äôs <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base"><code>base</code>
tag</a>, set the
base to either <code>/</code> on local or <code>/repo-name/</code> in Github Action for GitHub Pages,
and use relative URLs in <code>ftd</code> files. Have implemented this feature.</p>
<p>Other idea that came to me after implementing first solution: we create a folder
<code>&lt;repo-name&gt;</code> in <code>.build</code> folder, so when browsing locally we get the same path as
when browsing remotely, all URLs that we put in <code>ftd</code> files have <code>/&lt;repo-name&gt;/</code>
prefix.</p>
<p>Not sure the pros and cons of the two. Former is implemented already so that‚Äôs one
pro. Later somehow feels cleaner to me. Not yet sure.</p>
<p>If you are using GitHub Pages, build your files with <code>fpm build --base=/</code> locally
and <code>fpm build --base=/repo-name/</code> in your GitHub Actions, and use remove use <code>x/</code>
instead of <code>/x/</code> when creating links in your ftd files.</p>
</div></div>
<div data-id="0,0,0,31:main-container-external:0:main" id="fpm-cli-now-supports-windows" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,31,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md"><code>fpm</code> CLI now Supports Windows</div>
<div data-id="0,0,0,31,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p><code>fpm</code> already supported macOS (we develop it on macOS) and Linux (our CI runs our
test suite on Linux), but we never tried it on Windows so far.</p>
<p>Ganesh has been trying to use FPM on windows, and he had to install Visual Studio
and Rust to build it. He had Windows 7, 32-bit based really old laptop, and turns
out Visual Studio itself doesn‚Äôt support Windows 7/32-bit combination. He upgraded
his laptop‚Äôs hard disc to SSD, and updated to Windows 11, and got Rust to compile
FPM. We came across SQLite related issue, some SQLite DLL was required, so I
<a href="https://github.com/FifthTry/fpm/commit/429e957aa17ec8291fc7dc1dd102676764a3ce28">switched to bundled
SQLite</a>,
and it finally compiled.</p>
<p>But the <code>fpm build</code> did not work! It did not find any file. Turns out our code had
hard coded <code>/</code> in a bunch of places, Shobhit found and <a href="https://github.com/FifthTry/fpm/pull/26/files">fixed some of those
issues</a>, and after this <code>fpm build</code>
is working for Ganesh.</p>
<p>Shobhit basically followed <a href="https://docs.microsoft.com/en-us/windows/dev-environment/rust/setup">Microsoft Documentation about Rust
setup</a> and it
just worked. Cool thing is the compiled exe works even on machines without Rust,
of course, and Visual Studio (was not sure about this) installed.</p>
<p>We have not yet created any automation for creating exe every time a new release on
FPM is created, we will figure out this soon (Jan end timeframe). For now if you
need latest FPM exe, shout out to Shobhit on or discord channel and he will do it
for you.</p>
<p>We have not yet run our test suite on Windows actually, only verified basic feature
manually. We use <a href="///www.fifthtry.com/fbt/"><code>fbt</code></a> for testing, a testing
framework for CLI applications, we have developed at FifthTry, but it too doesn‚Äôt
support Windows yet.</p>
</div></div>
<div data-id="0,0,0,32:main-container-external:0:main" id="thought-unicode-in-fpm-ftd" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,32,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Thought: Unicode in FPM/FTD</div>
<div data-id="0,0,0,32,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Was looking at this thread on Reddit: <a href="https://www.reddit.com/r/rust/comments/2pvksp/filename_with_dots_or_unicode_chars_not_working/">Filename with dots or Unicode chars not
working</a>
and I kind of agree with this sentiment:</p>
<blockquote>
<p>I find it little disconcerting that a ‚Äúmodern‚Äù language has such an arcane
restriction about Unicode filenames.</p>
</blockquote>
<p>Reviewing the <a href="https://rust-lang.github.io/rfcs/2457-non-ascii-idents.html"><code>non-ascii-idents</code></a>
RFC that Steve Klabnik linked to, I kind of only agree with only of the drawback
listed there:</p>
<blockquote>
<p>Homoglyph attacks are possible.</p>
</blockquote>
<p>Overall I believe we should go ahead with it. Rust has decided to despite the
issues so should we.</p>
<p>What would it entail? What would we have to do? We should support unicode in FPM
package names, as well as identified (component, variable, record names etc) in
FTD. Any character is allowed in names? No, <a href="http://www.unicode.org/Public/7.0.0/ucd/DerivedCoreProperties.txt"><code>ID_Start</code> and <code>ID_Continue</code> character
classes are defined in
Unicode</a>, so
all our ‚Äúid‚Äùs should accept allow them (minis keywords reserved by FTD itself, eg
<code>record</code>).</p>
</div></div>
<div data-id="0,0,0,33:main-container-external:0:main" id="thoughts-package-naming-restrictions-fpm-home" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,33,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Thoughts: Package Naming Restrictions &amp; <code>$FPM_HOME</code></div>
<div data-id="0,0,0,33,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Other than Unicode stuff in package names, we actually have some restricts on
package naming, so wanted to write down my thoughts about them. Currently all
packages in FTM are distributed via Github. In short future ~ Jan-Feb 2022
timeframe we should also have <code>fpm-repo</code> that can be used for publishing packages.</p>
<p><code>fpm-repo</code> is going to be self host-able, as well as SAAS version. But the
distinction, if something is self hosted or on some package repository should not
exposed to users of package, so authors should easily move their package from
self-hosting to SAAS or back without breaking anything.</p>
<p>Moving from Github to <code>fpm-repo</code> should ideally also be seamless, but currently we
expect the package to specify <code>repo: github</code>. We also have <code>domain</code> setting for
each package, so domain name can be considered as part of a package, if we did that
then the published version of package may include some information about how to
fetch the source version of package, so in dependency it would be enough to give
the package name, (with domain name as part of package name).</p>
<p>I was going in another direction, but I think I like this decision even more.</p>
</div></div>
<div data-id="0,0,0,34:main-container-external:0:main" id="font-support-added-and-thoughts-on-future-renderers" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,34,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Font Support Added (and thoughts on future renderers)</div>
<div data-id="0,0,0,34,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>24th Dec 2021</p>
<p>After <a href="https://github.com/FifthTry/ftd/commit/0ce8a3cc3a115a0dca06b9d06824641bc4bc42a4">fixing font issue in
FTD</a>,
finally we got FPM working with custom Google Fonts (any font for that matter
should work).</p>
<p>We had an easy way to fix and a ‚Äúcorrect‚Äù way to fix it. The problem is Font is not
a simple file. Since we have a lot of languages, we can not embed symbols for all
characters in all languages in a single font file, as that would become a large
file and would slow down websites (and waste CPU/battery/bandwidth). Similarly many
fonts design regular font face, italics, bold etc separately, previously people
used to just algorithmically slant the characters or make the font bold by
thickening the lines, but for best effect font designers create custom design for
one or more/all characters for each font style. So we can not put regular, bold,
italics etc in one file as well, as that too will be wasteful.</p>
<p>So CSS lets you specify multiple font files, for different unicode range and font
face etc, and let browser download the font they need based on the content of the
current page.</p>
<p>So coming back to problem: we only had place to store one font file, which clearly
won‚Äôt cut it. The easy way to fix was suggested by Sourabh to allow people to pass
URL of CSS file, eg Google Font recommends something like this:</p>
</div>
<div data-id="0,0,0,34,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,34,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#c0c5ce;">&lt;</span><span style="color:#bf616a;">style</span><span style="color:#c0c5ce;">&gt;
</span><span style="color:#b48ead;">@import </span><span style="color:#96b5b4;">url</span><span style="color:#c0c5ce;">(&#39;</span><span style="color:#a3be8c;">https://fonts.googleapis.com/css2?family=Roboto&amp;display=swap</span><span style="color:#c0c5ce;">&#39;);
</span><span style="color:#c0c5ce;">&lt;/</span><span style="color:#bf616a;">style</span><span style="color:#c0c5ce;">&gt;
</span></pre>
</div></div>
<div data-id="0,0,0,34,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p><code>@import</code>, or the <code>&lt;link href=&quot;&lt;some-url&gt;&quot; rel=&quot;stylesheet&quot;&gt;</code> equivalent can be
used. So we can ask people to give us CSS file URL as font file, and we can include
it in the page. This does solve the problem, its easy. But it has a problem: it
allows people to now provide arbitrary CSS file, there is no way to check the
content of the target file to ensure it only contains <code>@font-face</code> declarations, it
can contain any CSS, and it becomes a way for people to include CSS in FTD files.</p>
<p>This is a problem because FTD is designed with multiple target support, we
currently compile FTD to HTML/CSS/JS, but in future we will compile to Swift code
or Kotlin etc for mobile devices, or C code for ncurses based terminal UI support
and so on. We are taking inspiration from CSS, the attributes for example, but
that‚Äôs it, those attributes will have equivalent in Android/nCurses etc, or we will
try to degrade gracefully.</p>
<p>If we allow CSS then suddenly our layout kernels can be misused to give arbitrary
layouts, and suddenly FTD files won‚Äôt be compatible with our future FTD rendering
targets. We believe CSS is over designed etc, and so is JS. We can create a browser
from scratch without CSS/JS overhead, which is capable of rendering FTD files, so
even for browsers we do not need the whole thing. We can maybe even use canvas API
to use such custom rendering even for current HTML based browsers.</p>
<p>So we can not include CSS. What we did instead of looked at <code>@font-face</code> from CSS,
and created an equivalent for the same:</p>
</div>
<div data-id="0,0,0,34,4:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,34,4,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.font</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">Roboto
</span><span style="color:#b48ead;">woff2</span><span style="color:#65737e;">: </span><span style="color:#d08770;">https://fonts.gstatic.com/s/roboto/v29-normal.woff2
</span><span style="color:#b48ead;">style</span><span style="color:#65737e;">: </span><span style="color:#d08770;">normal
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.font</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">Roboto
</span><span style="color:#b48ead;">woff2</span><span style="color:#65737e;">: </span><span style="color:#d08770;">https://fonts.gstatic.com/s/roboto/v29-italic.woff2
</span><span style="color:#b48ead;">style</span><span style="color:#65737e;">: </span><span style="color:#d08770;">italic
</span></pre>
</div></div>
<div data-id="0,0,0,34,5:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>This is quite equivalent to what those CSS files for font include:</p>
</div>
<div data-id="0,0,0,34,6:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,34,6,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#b48ead;">@font-face </span><span style="color:#c0c5ce;">{
</span><span style="color:#c0c5ce;">  font-family: &#39;</span><span style="color:#a3be8c;">Roboto</span><span style="color:#c0c5ce;">&#39;;
</span><span style="color:#c0c5ce;">  font-style: italic;
</span><span style="color:#c0c5ce;">  font-weight: </span><span style="color:#d08770;">100</span><span style="color:#c0c5ce;">;
</span><span style="color:#c0c5ce;">  font-display: swap;
</span><span style="color:#c0c5ce;">  src: </span><span style="color:#96b5b4;">url</span><span style="color:#c0c5ce;">(</span><span style="color:#a3be8c;">https://fonts.gstatic.com/s/roboto/v29/font.woff2</span><span style="color:#c0c5ce;">) </span><span style="color:#96b5b4;">format</span><span style="color:#c0c5ce;">(&#39;</span><span style="color:#a3be8c;">woff2</span><span style="color:#c0c5ce;">&#39;);
</span><span style="color:#c0c5ce;">  unicode-range: U+</span><span style="color:#d08770;">0460-052F</span><span style="color:#c0c5ce;">, U+</span><span style="color:#d08770;">1C80-1C88</span><span style="color:#c0c5ce;">, U+</span><span style="color:#d08770;">20B4</span><span style="color:#c0c5ce;">;
</span><span style="color:#c0c5ce;">}
</span><span style="color:#b48ead;">@font-face </span><span style="color:#c0c5ce;">{
</span><span style="color:#c0c5ce;">  font-family: &#39;</span><span style="color:#a3be8c;">Roboto</span><span style="color:#c0c5ce;">&#39;;
</span><span style="color:#c0c5ce;">  font-style: italic;
</span><span style="color:#c0c5ce;">  font-weight: </span><span style="color:#d08770;">100</span><span style="color:#c0c5ce;">;
</span><span style="color:#c0c5ce;">  font-display: swap;
</span><span style="color:#c0c5ce;">  src: </span><span style="color:#96b5b4;">url</span><span style="color:#c0c5ce;">(</span><span style="color:#a3be8c;">https://fonts.gstatic.com/s/roboto/v29/font-2.woff2</span><span style="color:#c0c5ce;">) </span><span style="color:#96b5b4;">format</span><span style="color:#c0c5ce;">(&#39;</span><span style="color:#a3be8c;">woff2</span><span style="color:#c0c5ce;">&#39;);
</span><span style="color:#c0c5ce;">  unicode-range: U+</span><span style="color:#d08770;">0400-045F</span><span style="color:#c0c5ce;">, U+</span><span style="color:#d08770;">0490-0491</span><span style="color:#c0c5ce;">, U+</span><span style="color:#d08770;">04B0-04B1</span><span style="color:#c0c5ce;">, U+</span><span style="color:#d08770;">2116</span><span style="color:#c0c5ce;">;
</span><span style="color:#c0c5ce;">}
</span></pre>
</div></div>
<div data-id="0,0,0,34,7:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We support all the attributes on <code>fpm.font</code>, with simplified names, eg <code>name</code>
instead of <code>font-family</code>, or <code>style</code> instead of <code>font-style</code> etc, and removed <code>src</code>
in favour of individual font types supported, eg <code>woff</code> or <code>opentype</code> etc.</p>
<p>So now we generate the CSS instead of getting the CSS from user, this was we know
how to translate this transparently to Android when we come around to supporting
native Android rendering and so on.</p>
<p>In future we may create a utility <code>fpm css2font</code> that will take the css URL from
Google Font etc, and auto convert it to <code>ftd.font</code> specs that can be added to
<code>FPM.ftd</code> file.</p>
</div></div>
<div data-id="0,0,0,35:main-container-external:0:main" id="doc-toc-subtree-re-levelling-problem" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,35,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Doc/TOC Subtree Re-levelling Problem</div>
<div data-id="0,0,0,35,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>23rd Dec 2021</p>
<p>So I said including content from other package is proving to be challenging. Lets
see the problem. We have to modes of including contents from other packages.</p>
</div>
<div data-id="0,0,0,35,2:main-container-external:0:main" id="doc-sub-tree-includes" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,35,2,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Doc Sub-Tree Includes</div>
<div data-id="0,0,0,35,2,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>In this say we have a document, and in that document I want to include some content
from another document. If I want to include just an image, or a table or a code
snippet from that document then life is easy. But what if I want to include an
entire heading subtree?</p>
<p>Say that document has been organised into using heading <code>h1</code>, <code>h2</code>, <code>h3</code> etc, and
say I want to include the entire heading subtree rooted at second <code>h2</code> or third
<code>h1</code>. To not have to complicate life we can given that specific <code>h2</code> an <code>id</code>.</p>
<p>So we want to include that entire <code>h2</code> in current document, including that <code>h2</code>‚Äôs
descendents like <code>h3</code> etc, all code and images and tables of that <code>h2</code>. We can
write something like this:</p>
</div>
<div data-id="0,0,0,35,2,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,35,2,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">include</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">the-id-of/the-document
</span><span style="color:#b48ead;">id</span><span style="color:#65737e;">: </span><span style="color:#d08770;">the-id-of-the-h2
</span></pre>
</div></div>
<div data-id="0,0,0,35,2,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Now lets assume that the document where we are including that <code>h2</code> does not have
that much complexity, and it wants to include that <code>h2</code> at <code>h1</code> level.</p>
<p>This is the ‚Äúre-levelling‚Äù problem. We may want to write something like this:</p>
</div>
<div data-id="0,0,0,35,2,4:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,35,2,4,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">include</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">the-id-of/the-document
</span><span style="color:#b48ead;">id</span><span style="color:#65737e;">: </span><span style="color:#d08770;">the-id-of-the-h2
</span><span style="color:#b48ead;">level</span><span style="color:#65737e;">: </span><span style="color:#d08770;">h1
</span></pre>
</div></div>
<div data-id="0,0,0,35,2,5:main-container-external:0:main" id="cross-package-component-visual-harmonisation" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,35,2,5,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 21px; font-weight: 700; line-height: 30px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Cross Package Component Visual Harmonisation</div>
<div data-id="0,0,0,35,2,5,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>First challenge is if the content is from a different package, the two packages
may have different ideas on how to show a code snippet or a table etc.</p>
<p>Package Interface, and package aliasing are features that we are working towards to
solve this problem. So if you include the package as a dependency and overwrite it
transitive dependencies to use a package you provide instead of the package the
original package author requested (as long as the substituted package confirms to
the package interface of the package being substituted), we achieve component
visual harmonisation.</p>
</div></div>
<div data-id="0,0,0,35,2,6:main-container-external:0:main" id="re-levelling-challenge" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,35,2,6,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 21px; font-weight: 700; line-height: 30px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Re-Levelling Challenge</div>
<div data-id="0,0,0,35,2,6,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>In visual harmonisation we had to map <code>foo.code</code> to <code>bar.code</code>, the name of
component was the same, the package where the component was imported was
substituted, this is easy to implement in <code>ftd::Library::get()</code> method.</p>
<p>But here was have to replace each instance of <code>foo.h2</code> with an <code>foo.h1</code>, and
<code>foo.h3</code> with <code>foo.h2</code> and so on. Problem is how <code>foo.code</code> is not going to change.
So how do we find what are the promotion/demotion rules for any component in any
package.</p>
<p>We can try to solve it by creating promotion rule entry in <code>FPM.ftd</code>:</p>
</div>
<div data-id="0,0,0,35,2,6,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,35,2,6,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">package</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">foo
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">promotion-rules</span><span style="color:#65737e;">:
</span><span style="color:#b48ead;">heading-2</span><span style="color:#65737e;">: </span><span style="color:#d08770;">heading-1
</span><span style="color:#b48ead;">heading-3</span><span style="color:#65737e;">: </span><span style="color:#d08770;">heading-2
</span><span style="color:#b48ead;">heading-4</span><span style="color:#65737e;">: </span><span style="color:#d08770;">heading-3
</span></pre>
</div></div>
<div data-id="0,0,0,35,2,6,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>With these rules in place we are saying 1. only the components listed in
<code>promotion-rules</code> are to be promoted or demoted, and 2. <code>heading-2</code> can be
promoted to <code>heading-1</code> and demoted to <code>heading-3</code> and so on.</p>
</div></div></div>
<div data-id="0,0,0,35,3:main-container-external:0:main" id="toc-sub-tree-includes" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,35,3,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">TOC Sub-Tree Includes</div>
<div data-id="0,0,0,35,3,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>This is the scenario that a package a table of content, and it wants to include
multiple documents from another package in the table of content. The challenge in
this case is ‚Äúre-levelling‚Äù document ‚Äúroles‚Äù like ‚ÄúChapter‚Äù or ‚ÄúSection‚Äù and so on.
In original package the subtree we want to include may be just a section, but in
current package we may want to import it a chapter level.</p>
<p>If the documents know about their role, eg the title of a document was ‚Äúsection
1: introduction‚Äù, it will read wrong if it‚Äôs included as a chapter. Also chapter
numbering must not be part of the document.</p>
<p>One thought for this is to define variables like <code>fpm.role</code> and <code>fpm.role-number</code>,
and asking documents to use these variables instead of making assumptions about
their roles etc.</p>
</div></div></div>
<div data-id="0,0,0,36:main-container-external:0:main" id="challenges-in-remixing-text-content" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,36,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Challenges In ‚ÄúRemixing‚Äù Text Content</div>
<div data-id="0,0,0,36,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>22nd Dec 2021</p>
<p>Since Monday, I and Shobhit has been spending lot of time discussing how best to
allow people to include content from package into another.</p>
<p>Things are easier with data. Say you have a package that has defined some list or
variable or some record, you can easily import that package, and iterate through
that list or use the variable, and create your custom visualisations etc. This
part of FTD/FPM is working well already.</p>
<p>But when it comes to text content, it proving to be surprisingly hard.</p>
</div></div>
<div data-id="0,0,0,37:main-container-external:0:main" id="remixing-books-documents-from-dependency-packages" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,37,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Remixing Books: Documents from Dependency Packages</div>
<div data-id="0,0,0,37,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>21st Dec 2021</p>
<p>When we are writing software we do not start from scratch, we take existing
libraries and build on top of them. When writing on the other hand, say a book, we
somehow live in the world where the assumption is every last word must be written
or well its not a book.</p>
<p>It is not like we do not have open licensing available today for prose and creative
writing. Creative Commons is out there. <a href="https://en.wikipedia.org/wiki/Wikipedia:Copyrights">Wikipedia</a>
is successful project using Creative Commons. Github today has <a href="https://github.com/search?q=license%3Acc&type=Repositories&ref=advsearch&l=&l=">147,082 Creative
Commons repositories</a>.</p>
<p>Even software documentation like Django documentation, is available in permissible
license, even though it is not Creative Commons. Significant number of open source
software ships with documentation, and usually that documentation is available in
permissive licenses.</p>
<p>So we have <em>huge</em> amount of content available today. And yet we almost never see
the content being ‚Äúremixed‚Äù. Work being built on top of existing stuff. Everyone
writing a new book on say Python feels they must start from scratch.</p>
<p>This I believe is bad for the world. We may think like we have a lot of books but
we do not have enough books written. I once tried to write ‚ÄúPython for PHP
Developers‚Äù and I got quite a good response on Reddit etc. We do not have enough
intermediate level books.</p>
<p>But much worse than books, the real problem is ironically still too many books.
Like say you are an intern and you want to join FifthTry, you will have to learn
Rust, but then also Diesel, and PostgreSQL. And yes Django. And possibly even Elm.
Some JavaScript. Some CSS. And of course enough about Linux, and AWS? And this is
assuming they do not have to learn any FifthTry specific stuff. Which they still
have to. What is FTD? How we deploy our services, how we do things and so forth.</p>
<p>Imagine there was a great book written about each of these topics, am I supposed to
hand that many books to an intern who joins us? Maybe not all of them but it still
many books.</p>
<p>How about if there was just one book? Think about it. Do we really need to learn
whole of Django? Of course not, we only use Django for database modelling and
migrations, so they must not actually read about django views and admin and
template and so on. If you think about it telling an intern to learn any of them
is itself really hard. How much of Rust should they know? How do you even talk
about it? Every team that uses Rust uses a different aspect of Rust.</p>
<p>Should you learn about things that‚Äôs not directly pertinent to your job, the exact
task? Of course learning is never bad, but we have only so much time, and if you
not smart about it you may end up spending too much of your precious learning time
learning things that may not be used for the job at the expense of other stuff that
you will need. Knowledge acquisition simply can not be done in depth first fashion,
since it‚Äôs a bottom less pit.</p>
<p>In summary we want people to be able to create books or dedicated websites for
learning something, or compilation of information, knowledge, data etc, by using
other packages as dependencies. This can allow ‚Äúknowledge curators‚Äù to create
learning paths for specific audiences.</p>
</div></div>
<div data-id="0,0,0,38:main-container-external:0:main" id="translation-ui-design-multi-ftd-technique" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,38,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Translation UI Design &amp; Multi FTD Technique</div>
<div data-id="0,0,0,38,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>20th Dec 2021</p>
<p>Me and Arpita worked further on the design of translation UI. Check out <a href="https://github.com/FifthTry/fpm/commit/20e709dfb5f30cae9db33d3ca2b97357c4fc3872">this
commit</a>
to see the basic skeleton of our design.</p>
<p>The key idea is now we will have multiple base HTML files, <code>with-fallback.html</code>
and <code>with-message.html</code>, which will be created with content of more than one FTD
documents. For example <code>with-message.html</code> will render a ‚Äúmessage document‚Äù and
a ‚Äúmain document‚Äù. Further, individual documents can be shown and hidden using
basic DOM style manipulation (<code>display: none</code> etc).</p>
<p>We are going to need a new feature in FTD, <a href="/ftd/~/127/">‚Äúmessage-host‚Äù</a>, which
will allow an event handler to message the ‚Äúftd host‚Äù (also in future we are going
to rename FTD ‚ÄúLibrary‚Äù terminology to ‚ÄúFTD Host‚Äù).</p>
<p>Our <code>with-fallback.html</code> will come with a <code>show_main()</code> and <code>show_fallback()</code> host
messages that our ‚Äúmessage ftd‚Äù file will be able to trigger using <code>$event-click$: message-host show-main</code> etc.</p>
<p>We are quite happy with this design for now. I wrote couple of feature requests
that can be implemented using this: <a href="/fpm/~/32/">‚Äúbanner support‚Äù</a> and <a href="/fpm/~/33/">encryption
support</a>.</p>
</div></div>
<div data-id="0,0,0,39:main-container-external:0:main" id="can-translation-package-use-tracking" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,39,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Can Translation Package Use Tracking?</div>
<div data-id="0,0,0,39,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>19th Dec 2021</p>
<p>A relatively strong consideration for designing translation, especially translation
of versioned packages is that ‚Äútranslation can not alter logical content‚Äù rule.
Consider <code>1.0/intro.txt</code> vs <code>1.1/intro.txt</code>. Consider a question: who decides if
<code>1.1/intro.txt</code> must exist? Original package only, or can translation package also
decide this? Is it possible that in original we only have <code>1.0/intro.txt</code> and no
<code>1.1/intro.txt</code>, which means as per the maintainers of original package, who
supposedly are working closest with the actual software being translated, as per
them there is no need for <code>1.1/intro.txt</code>, that there is no software change between
<code>1.0</code> and <code>1.1</code> such that <code>intro.txt</code> content changes. But can translation
maintainers take overwrite this call and still decide to have <code>1.1/intro.txt</code>?</p>
<p>What if the original <code>1.0/intro.txt</code> had only so much content and translation team
not only translated but decided to expand the intro and cover more topics in the
intro? If they do then original and translated intro have logically diverged. It
would then not be accurate to say that this is just a translation, it is not an
independent work which was derived from the original.</p>
<p>I am not saying logical changes, derivative work shouldn‚Äôt be allowed, just that
one should be aware when they are doing it. Some authors may be okay with their
work being translated ‚Äúfaithfully‚Äù in other languages, but may not like their work
editorialised or ‚Äúimproved upon‚Äù by others (and sold / marketed in the original
author‚Äôs name). I as an author may not be able to read how you have altered my work
in Chinese or some, so how can I as an author endorse it? I don‚Äôt even know what‚Äôs
in it, maybe the change is minor but its really hard to say what is minor and what
is not. A little thing the translator decided to omit as its too early to mention
this feature, maybe the reason people would not buy that product because the author
knew that that feature must be mentioned earlier as author knows the audience
better than the translator.</p>
<p>Bottom line is there should be a clean line between translation and derivative
work. And authors should be allowed to say they are okay with strict translation
and may not have energy to whet the ‚Äúeditorialisations‚Äù and may not want
derivative work.</p>
<p>So when we are talking about translation so far, we are talking about the stricter
translation, no logical changes, as faithful as vagaries of natural languages
allows one to be.</p>
<p>Let‚Äôs talk about tracking now. Tracking basically says ‚Äúhey this document has
changed, and you said that document depends on this document, so maybe consider
updating that document‚Äù.</p>
<p>Now one can argue that tracking should not be allowed in translation packages. If
you want to be strict, you maybe tempted to say the only document a translated
document should be allowed to track is the corresponding document in original
package.</p>
<p>By and large I agree with assessment. There is one exception tho: what if say you
are also maintaining a ‚Äútranslated glossary‚Äù. This document may not exist in
original, but in every translation one must maintain a document that lists what‚Äôs
the translated term we are using for each interesting technical term in the
original language. If we start from scratch, two different translators can pick
two different ways to translate a term, and that may not be good for readers. So
this document should be present, and one can argue every document in the translated
package should be tracking the glossary file.</p>
<p>We are planning to implement a <a href="///www.fifthtry.com/fifthtry/ftd/~/9/">feature in
<code>ftd</code></a>, which can make this consideration
redundant though, do not put translated term in respective documents at all, but
refer to them from a common glossary file via ftd markup references so if
translation for a term changes all documents using that automatically get the
latest version.</p>
<p>Where does it leave us? Disallow tracking in translation packages?</p>
</div></div>
<div data-id="0,0,0,40:main-container-external:0:main" id="translation-way-forward" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,40,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Translation Way Forward</div>
<div data-id="0,0,0,40,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>17th Dec 2021</p>
<p>So Arpita has heroically built the entire translation feature almost.
<code>fpm translation-status</code> is working. It looks for status of all documents in
original package by reviewing content of <code>.track</code> and shows status for each file
like ‚ÄúNever Marked‚Äù, ‚ÄúUpdate Date‚Äù etc.</p>
<p>TODO: Arpita to give me sample output of the command.</p>
<p>She has also implement fallback based build: if <code>django-hi/intro.ftd</code> doesn‚Äôt exist
we look for <code>django/intro.ftd</code>.</p>
<p>Next: We will build <code>fpm mark-upto-date</code> to keep updating translation status.</p>
<p>We also discussed if django has N dependencies do we auto include them in
<code>django-hi</code> if <code>django-hi</code> is a translation? Or should each translation mention
each dependency explicitly? For translation we may want to use the translation of
a dependency instead of the original package, and while doing so we would need to
be able to rename and keep using the same name.</p>
<p>Next we also have to add <code>language</code> in <code>fpm::Package</code>, and ensure that key is set
if current package is <code>translation-of</code> some ‚Äúoriginal package‚Äù. Original package
must also have the <code>language</code> set and the languages must be different. Also
<code>translation-of</code> can‚Äôt be ‚Äúchained‚Äù, if this package is a translation of some other
package then no other package can translate this package, everyone must translate
the same package, each translation ‚Äúcluster‚Äù has a single original translation
package that every package in that cluster is translating.</p>
<p>Finally we need to come to UI. We have a few scenarios, say translation doesn‚Äôt
exist for some document, in which case we have to show a message on top saying you
are seeing the English version because this document is not yet translated in
Hindi. Similarly we need UI for ‚Äúnever marked‚Äù, ‚Äúout-of-date‚Äù and ‚Äúupto date‚Äù.</p>
<p>We want people to be able to control these messages, these messages themselves must
be translated. We will have files <code>FPM/{missing, never-marked, out-of-date}.ftd</code>,
if they are not present we will have some fallback message. When creating a new
translation using a future <code>fpm create-translation</code> command we will auto create
these files maybe.</p>
<p>In never-marked and out-of-date scenarios we will have three FTD files to build,
which will go in the generated <code>.html</code> file. The ‚Äúmessage‚Äù file will show on the
top of the page, and then one of the two, original and translation, would be shown
and the ‚Äúmessage‚Äù file will have a button with an <code>$event-click$: call-js &lt;function-name&gt;</code>, and we will have FPM.js file, which will have functions
<code>show-original</code> and <code>show-translation</code> (and a ‚Äúclient variable:
<code>fpm.showing-original</code>).</p>
<p>We will also need other server variables to be used when building ‚Äúmessage‚Äù file
with variables like <code>original-language</code>, <code>translation-language</code>,
<code>translation-status: &quot;never marked&quot; etc</code>, <code>original-marked-on-date</code>,
<code>original-latest-date</code>, <code>original-diff</code> etc.</p>
</div></div>
<div data-id="0,0,0,41:main-container-external:0:main" id="document-name-and-package-ambiguities" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,41,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Document-Name and Package Ambiguities</div>
<div data-id="0,0,0,41,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>15th Dec 2021</p>
<p>When referring to a document, we use a document id. The document id for a document
in current package is the relative path from package root. If we are referring to
a document from another package, we use <code>&lt;package-name&gt;:&lt;document-name&gt;</code>, the colon
separated path.</p>
<p>On its own if you see <code>x</code>, it can either be a document in current package, you may
ask why no <code>x.ftd</code>? Are we allowing <code>x/index.ftd</code> to be referred to by <code>x</code>? No. Our
<code>index.ftd</code> is only special at package root level, and not at individual folder
level, we follow <code>x.ftd</code> and <code>x/y.ftd</code> convention and do not fall back to
<code>x/index.ftd</code>, <code>x/y.ftd</code> as say node etc do. There are advantages to fall back, eg
whole of <code>/x/*</code> is in a folder <code>x</code>, this leads to some simplicity, eg if you want
to ignore that path, you have to no ignore <code>x/</code> folder as well as <code>x.ftd</code> file.</p>
<p>We also have complications around import path in ftd documents vs file paths on
command line. If you want to import <code>x.ftd</code> you write <code>-- import: x</code>, without the
extension. Does that mean when you want to refer to <code>x.ftd</code> anywhere in FPM context
it must be <code>x</code>? Like on command line if you want to add tracking on <code>x.ftd</code> or sync
<code>x.ftd</code> do you use <code>x</code> or <code>x.ftd</code>?</p>
<p>We can have a rule, if only ftd file is meaningful in any context, eg in import
statement, you can not import a <code>.txt</code> file, but you can track <code>.txt</code> file, so if
only <code>.ftd</code> is allowed for something we use the path without <code>.ftd</code> extension and
any file can be passed we use the extension.</p>
<p>We can also standardise on file vs document terminology. Document in FPM context
strictly means it is a FTD file, where as file means any file. So function names,
parameters etc can use <code>print_file()</code> or <code>print_document()</code> etc naming convention.</p>
<p>There is one more complexity. Say you have a <code>logo.png</code> file, there can also be a
<code>logo.png.ftd</code> file which contains the meta data or web index of the <code>logo.png</code>. We
can argue that this is too much complexity and lets have no such special
convention. For example this causes another complexity as to what should be the URL
of such <code>logo.png.ftd</code> file? The URL of <code>logo.png</code> is <code>/logo.png</code> if it is at
package root, but for <code>x.ftd</code> the URL is <code>/x/</code> so with this logic the URL of
<code>logo.png.ftd</code> would be <code>/logo.png/</code>, and having different content based on
presence or absence of a trailing <code>/</code> in URL seems to be a bad idea. Or maybe we do
it based on ‚Äúaccept‚Äù header, if you request an HTML for <code>/logo.png</code> you get the
content of <code>logo.png.ftd</code> and if you request image you get the <code>.png</code>. But then how
would you link to the file? Say you want to open an image in a new tab?</p>
</div></div>
<div data-id="0,0,0,42:main-container-external:0:main" id="translationstatus-output" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,42,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">TranslationStatus Output</div>
<div data-id="0,0,0,42,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>14th Dec 2021</p>
<p><code>fpm</code> cli currently is littered with <code>println()</code> and <code>eprintln()</code> calls all over
the place. This works okay if we assume that output will always be on terminal, but
we want to support JSON output as well. Also even if we did not want to, in
general this is bad software design as if the code on how to show output is spread
over the entire crate then its harder to modify it, test it etc.</p>
<p>What we should do instead if each of the commands that we have must have a
corresponding output type define. Currently we return just a success indicator, and
the return is returned as some custom error type, which in general sounds good but
has no provision for warnings etc, say if you are building <code>cp</code> someone asked you
to copy 10 files and you failed to copy the last file, should you only get the
<code>Err</code> part, then you will have to stuff information about the files that were
successfully parsed inside <code>Err</code>, or you say if even one file was successful then
we return <code>Ok</code>.</p>
<p>This is just mis-using <code>Result</code>. We can use <code>Result::Err</code> to indicate something
really bad has gone wrong, we could not proceed at all, say the command you tried
to execute does not exist, or the config file is not found. But all other wrong,
eg a given FTD file has bad syntax or could not be read due to permission issues,
we should send all as <code>Result::Ok</code>.</p>
<p>Further we should have a type for each command which represents the output, which
can be printed out on stdout with colour highlighting or converted to JSON etc.
Also, <code>main()</code> should do the print to stdout or convert to json etc and not
individual command handler functions.</p>
</div></div>
<div data-id="0,0,0,43:main-container-external:0:main" id="arpita-next-steps" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,43,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Arpita Next Steps</div>
<div data-id="0,0,0,43,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>13th Dec 2021</p>
<ul>
<li><input type="checkbox" disabled="" checked="" /> <code>fpm sync &lt;list of files file&gt;</code></li>
<li><input type="checkbox" disabled="" checked="" /> <code>fpm status &lt;file&gt;</code> to show all statuses for the file</li>
<li><input type="checkbox" disabled="" checked="" /> <code>fpm status</code> to show status of adhoc tracking but not translation stuff</li>
<li><input type="checkbox" disabled="" checked="" /> <code>fpm stop-tracking</code></li>
<li><input type="checkbox" disabled="" checked="" /> <code>fpm diff &lt;file&gt;</code> to show all diffs (including tracking diff, translation
diff)</li>
<li><input type="checkbox" disabled="" checked="" /> <code>fpm diff -a</code> to show everything for every file`</li>
<li><input type="checkbox" disabled="" checked="" /> support tracking, sync, diff for any file, not just ftd files</li>
<li><input type="checkbox" disabled="" checked="" /> allow any file type to track any file type</li>
<li><input type="checkbox" disabled="" /> <code>fpm translation-status</code></li>
<li><input type="checkbox" disabled="" /> <code>fpm translation-status &lt;file or folder&gt;</code></li>
<li><input type="checkbox" disabled="" /> <code>fpm mark-upto-date a --target b --on &lt;timestamp&gt;</code></li>
<li><input type="checkbox" disabled="" /> <code>fpm diff &lt;optional-folder&gt;</code> to only show regular diff (only changes from
<code>.history</code> file)</li>
</ul>
</div></div>
<div data-id="0,0,0,44:main-container-external:0:main" id="fpm-document-refactor" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,44,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md"><code>fpm::document</code> refactor</div>
<div data-id="0,0,0,44,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>12th Dec 2021</p>
<p>Been looking at code and found a struct <code>fpm::document::Document</code>. Not too happy
with its design right now.</p>
<p>The idea is we have a lot of commands, and many of these commands go through
all the documents in the current package, and <code>fpm::document::Document</code> and the
corresponding <code>get_documents()</code> gives you a vector of these documents for easier
time handling all files. The main job this <code>get_documents()</code> is abstracting over
the directory walking so you do not have to worry about anything and you can just
do a <code>for d in get_documents()</code>. Another thing <code>get_documents()</code> takes care of is
ignoring documents that should not be handled, eg <code>.history</code>, <code>.track</code>, <code>.build</code>
etc special folders.</p>
<p>I was thinking about what‚Äôs bothering so much about it. The first thought is
abstraction and frameworks. I kind of am not fond of them, unless there is a strong
reason. It like a trade, you want to have a nice Mercedes, sure, go ahead, you just
have to pay for it. You cant just wish it. If you want to create a framework you
have to understand all future needs. You have to educate people, it must be well
documented. There must be abstraction boundaries. Everyone must understand what
this framework is doing etc etc. People look at framework and go say I will also
make one. But I will do all the work later. If you wonder where tech debt comes
from, this is where it comes from. You went to a Mercedes showroom and drove off
with a shiny car, and told them you will pay for it later. Live with your
‚Äúbailgadi‚Äù instead.</p>
</div>
<div data-id="0,0,0,44,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; height: 100%; justify-content: flex-start; padding-bottom: 20px; white-space: initial; width: 100%" class="ft_md"><img alt="" data-id="0,0,0,44,2,0:main-container-external:0:main" src="https://i.imgur.com/EKBUF48.jpg" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; padding-bottom: 15px; white-space: initial; width: 100%">
<div data-id="0,0,0,44,2,2:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>So our bullock-cart should be <code>std::path::PathBuf</code>. Also instead of framework - a
full on abstraction over file system, as that is what the <code>fpm::document</code> module
is trying to be, an abstraction over file system so you do not have to deal with
file system API - we should think of use cases and write helper methods.</p>
<p>Let‚Äôs see what all we need? We need to know if the given path is ftd document or
markdown or some static file. Further want to know if some path is top level,
in-fact there is only one such use case, we only do one special handling, the
top level <code>index.ftd</code> maps to <code>index.html</code>, every other <code>.ftd</code> maps to
<code>&lt;without-extension/index.html</code>. Further during processing we want to report
relative path of every document being processed, with respect to current directory.</p>
<p>Another thing we need is some sort of expectation if we are running from the
package root directory or any random path inside it. We want to support the later
case so none of the function should be written with respect to the assumption that
they are running from package root directory. Either that or we assume everything
is running from package root and we do a chdir at the start of the program. If we
do change directory then we still need to keep track of which directory we were
called from so that during reporting we show the relative paths.</p>
<p>We also need to be able to process the subset of a directory, either the current
directory or a directory whose path was specified on the command line. So whatever
directory walker we need, need that ability.</p>
<p>Further we want to sometime process files from another package, say in case of
translation, we want to walk the original package and find corresponding files in
current package. That too we would want to do starting from an arbitrary folder, eg
the folder corresponding to current dir in the original package (eg if package root
is <code>foo</code> and you are in currently in <code>foo/a/b</code>, and original is <code>foo-en</code>, then we
want to traverse all files in <code>.packages/foo-en/a/b/</code>).</p>
</div></div>
<div data-id="0,0,0,44,3:main-container-external:0:main" id="contract-1-we-will-change-into-package-root-at-app-start" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,44,3,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Contract 1: We will change into package root at app start</div>
<div data-id="0,0,0,44,3,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>To simplify things our code can assume they are running from the right place. The
config object will keep track of the original current directory.</p>
</div></div>
<div data-id="0,0,0,44,4:main-container-external:0:main" id="contract-2-we-will-always-use-pathbuf-of-path-in-our-program" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,44,4,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Contract 2: We will always use <code>PathBuf</code> of <code>Path</code> in our program</div>
<div data-id="0,0,0,44,4,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>All paths would be stored in the ‚ÄúRustonic‚Äù way. We will have a method on config
object that converts any path to original current directory relative string for
display purpose.</p>
</div></div>
<div data-id="0,0,0,44,5:main-container-external:0:main" id="contract-3-we-do-not-support-non-utf-8-paths" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,44,5,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Contract 3: We do not support non UTF-8 paths</div>
<div data-id="0,0,0,44,5,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>In fact we would be using <a href="https://crates.io/crates/camino/1.0.2">camino</a> for
storing paths, so we do not have to do <code>.unwrap()</code> when converting path to str
everywhere.</p>
</div></div>
<div data-id="0,0,0,44,6:main-container-external:0:main" id="contract-4-if-fpm-config-exists-we-can-be-sure-its-a-proper-package" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,44,6,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Contract 4: If <code>fpm::Config</code> exists we can be sure its a proper package</div>
<div data-id="0,0,0,44,6,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We only create <code>fpm::Config</code> after verifying the package is proper (it may not
have all the valid ftd files etc, but its FPM.ftd exists and is valid, and its
dependencies have been checked).</p>
<p>We generally want to make as many such guarantee, if there is ever a
<code>constructor() -&gt; Result&lt;X&gt;</code>, since <code>constructor()</code> is clearly saying its a
<code>Result&lt;&gt;</code> meaning it could have failed, then rest of the code must be able to
assume that if it was possible to check validity of <code>X</code> it must have been checked
by <code>constructor()</code> and they can blindly trust the output of <code>constructor()</code>. The
only exception to this is ‚Äúexpensive check scenarios‚Äù where its not feasible for
<code>constructor()</code> to check everything as that check would be too expensive and
detrimental to performance of the program. Note that in such cases the
documentation of <code>constructor()</code> must say so, what checks have been left out, and
there must be some <code>X.deep_check()</code> or something that will perform the rest of the
expensive checks`.</p>
</div></div>
<div data-id="0,0,0,44,7:main-container-external:0:main" id="contract-5-temporary-files-are-created-in-tmp-etc" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,44,7,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Contract 5: Temporary files are created in <code>/tmp</code> etc</div>
<div data-id="0,0,0,44,7,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We do not litter current directory with partial and temporary folder, like zip file
being downloaded when package is being fetched.</p>
</div></div>
<div data-id="0,0,0,44,8:main-container-external:0:main" id="contract-6-we-never-go-beyond-the-package-root" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,44,8,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Contract 6: We never go beyond the package root</div>
<div data-id="0,0,0,44,8,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We ensure this by always creating file paths using <code>config.assert_in_package()</code>,
which panics if we go beyond the package root. It must not be relied upon to be
the only thing, this is the last resort, all best practices should be used when
creating paths.</p>
</div></div></div>
<div data-id="0,0,0,45:main-container-external:0:main" id="fpm-fmt" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,45,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md"><code>fpm fmt</code></div>
<div data-id="0,0,0,45,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Added a new <a href="/fpm/~/31/">CR about fpm formatter</a>.</p>
</div></div>
<div data-id="0,0,0,46:main-container-external:0:main" id="markdown-index-support-and-0-1-5-release" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,46,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Markdown Index Support and 0.1.5 Release</div>
<div data-id="0,0,0,46,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>10th Dec 2021</p>
<p>We already supported the conversion of markdown files to HTML during the build
process. Shobhit has further <a href="https://github.com/FifthTry/fpm/pull/16">added ‚Äúmarkdown index‚Äù
support</a>, any directory that says <code>a</code> with
<code>README.md</code> in it, without a corresponding <code>.ftd</code> file, we render the content of
the <code>README.md</code> at <code>/a/</code>.</p>
<p>Vipin needed font support, realised we have not released anything for a while
so created a new release.</p>
</div></div>
<div data-id="0,0,0,47:main-container-external:0:main" id="package-interface-and-package-alias" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,47,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Package Interface and Package Alias</div>
<div data-id="0,0,0,47,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Was discussing package interfaces, and we have to start creating some of these
package interfaces now, now that package and basic machinery is working fine.</p>
<p>The motivation for package interface, and aliases, is to make it easy to change
themes and ‚Äúcomponent libraries‚Äù, without doing much change in your package.</p>
<p>When using a theme or a component library you have to first add them as a
dependency in your <code>FPM.ftd</code>:</p>
</div>
<div data-id="0,0,0,47,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,47,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">fpm
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.package</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">foo
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.dependency</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">some-lib
</span></pre>
</div></div>
<div data-id="0,0,0,47,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>If we just do this, we can now import <code>some-lib</code> from any file in the <code>foo</code>
package.</p>
<p>But what if we want to change that <code>some-lib</code>? First of all, we someone has to
ensure that the new library is compatible with <code>some-lib</code>, else switching would be
a tedious process, we will have to update all calls of <code>some-lib</code> with a compatible
component or type in the <code>new-lib</code>. What guarantee is there that <code>new-lib</code> will
have corresponding types and components (with same arguments, type and semantics?).</p>
<p>Say <code>some-lib</code> has exposed a component <code>heading</code> for authoring headings in
documents:</p>
</div>
<div data-id="0,0,0,47,4:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,47,4,0:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(58,64,78,1); border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(220,220,220,1); font-family: Open sans; font-size: 14px; font-weight: 400; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md">using heading from some-lib</div>
<div data-id="0,0,0,47,4,1:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">some-lib
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">some-lib.heading</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">the heading
</span><span style="color:#b48ead;">level</span><span style="color:#65737e;">: </span><span style="color:#d08770;">1
</span></pre>
</div></div>
<div data-id="0,0,0,47,5:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Now when we switch to <code>new-lib</code>, maybe they have decided to expose heading with
the name <code>h1</code>, so we have to do the following:</p>
</div>
<div data-id="0,0,0,47,6:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,47,6,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">new-lib
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">new-lib.h1</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">the heading
</span></pre>
</div></div>
<div data-id="0,0,0,47,7:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Notice the changes: we have updated the import command, then we updated the call
module name part of each reference <code>some-lib</code> to <code>new-lib</code> and finally we have
switched from <code>heading</code> to <code>h1</code> and removed the <code>level</code>.</p>
</div>
<div data-id="0,0,0,47,8:main-container-external:0:main" id="using-import-as" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,47,8,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Using <code>import as</code></div>
<div data-id="0,0,0,47,8,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We could have avoided the second by using <code>import as</code> feature:</p>
</div>
<div data-id="0,0,0,47,8,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,47,8,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">some-lib as lib
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">lib.heading</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">the heading
</span><span style="color:#b48ead;">level</span><span style="color:#65737e;">: </span><span style="color:#d08770;">1
</span></pre>
</div></div>
<div data-id="0,0,0,47,8,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>In this case, if we have saved the number of edits we have to do when switching
component library, and would have to only focus on the incompatibility between
the two libraries. If the two were compatible we would only have to change one line
in each ftd file when switching a library.</p>
</div></div>
<div data-id="0,0,0,47,9:main-container-external:0:main" id="using-package-alias-in-fpm-ftd" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,47,9,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Using Package Alias in <code>FPM.ftd</code></div>
<div data-id="0,0,0,47,9,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We can do better by supporting package alias:</p>
</div>
<div data-id="0,0,0,47,9,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,47,9,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">fpm
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.package</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">foo
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.dependency</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">some-lib as lib
</span></pre>
</div></div>
<div data-id="0,0,0,47,9,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Here we have aliased <code>some-lib</code> to <code>lib</code> in <code>FPM.ftd</code> itself, so all the ftd files
in the package can just import <code>lib</code> now, and we have to do that much fewer change
when switching:</p>
</div>
<div data-id="0,0,0,47,9,4:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,47,9,4,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">lib
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">lib.heading</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">the heading
</span><span style="color:#b48ead;">level</span><span style="color:#65737e;">: </span><span style="color:#d08770;">1
</span></pre>
</div></div>
<div data-id="0,0,0,47,9,5:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>If the packages were compatible, had same components and types, then we can switch
packages by modifying only one line in the entire package!</p>
<p>But how do we ensure more and more packages are compatible with each other like
this so it‚Äôs easy for people to switch?</p>
</div></div>
<div data-id="0,0,0,47,10:main-container-external:0:main" id="package-interfaces" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,47,10,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Package Interfaces</div>
<div data-id="0,0,0,47,10,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>What if there was a way for a package to say it has exactly the same types and
components exposed as some other package? What if any package can act as an
‚Äúinterface‚Äù, and any other package can ‚Äúimplement‚Äù it?</p>
<p>We actually do not want to do anything special to declare that some package is an
interface. Every package is an interface. Just that they are not well known, others
are not going to ‚Äúimplement‚Äù that package. But any package can become popular and
others can start targeting that package.</p>
<p>When you are creating a package and implementing an interface, for that matter a
package should be able to implement more than one interface if they happen to be
mutually non-conflicting. Two packages would be ‚Äúconflicting‚Äù if say both exposed
a component ‚Äúheading‚Äù, but they take different parameters. Or maybe one uses
<code>heading</code> as a type (say a record name or variable name) and the other has a
component named <code>heading</code>.</p>
<p>Now imagine there was some well-known package, <code>fifthtry/blog</code> for example, and
then a package can declare that they implement <code>fifthtry/blog</code> by using
<code>implements:</code> package key:</p>
</div>
<div data-id="0,0,0,47,10,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,47,10,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">fpm
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">package</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">some-lib
</span><span style="color:#b48ead;">implements</span><span style="color:#65737e;">: </span><span style="color:#d08770;">fifthtry/blog
</span></pre>
</div></div>
<div data-id="0,0,0,47,10,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>And say <code>new-lib</code> also has declared that they implement the same. Now our
<code>fpm check</code> (and <code>fpm build</code> etc) will check if the contract is indeed valid, if
indeed <code>some-lib</code> has exactly the same types and components with compatible names
and arguments as <code>fifthtry/blog</code>, else everything fails.</p>
<p>In fact providing extra components or types, or even extra optional properties to
records or extra optional parameters to components is also fine, our interface
checker would not mind that.</p>
<p>Now when someone is using <code>some-lib</code> they can do the following:</p>
</div>
<div data-id="0,0,0,47,10,4:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,47,10,4,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">fpm
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.package</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">foo
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.dependency</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">some-lib
</span><span style="color:#b48ead;">interface</span><span style="color:#65737e;">: </span><span style="color:#d08770;">fifthtry/blog
</span></pre>
</div></div>
<div data-id="0,0,0,47,10,5:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Here we have said please use <code>some-lib</code>, but do not give let me use any item from
<code>some-lib</code>, only the items that are defined in <code>fifthtry/blog</code>. We can then import
<code>fifthtry/blog</code> from any of our <code>ftd</code> files, and our system will know you really
want <code>some-lib</code> stuff, so <code>fifthtry/blog</code> has become an alias for <code>some-lib</code>. With
this, switching to <code>new-lib</code> would be guaranteed to work with just one line change.</p>
<p>Finally, we can use both <code>interface</code> and <code>as</code>, say if the name of the interface
package is long etc, you can also use alias.</p>
</div>
<div data-id="0,0,0,47,10,6:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,47,10,6,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">fpm
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.package</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">foo
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">fpm.dependency</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">some-lib as blog
</span><span style="color:#b48ead;">interface</span><span style="color:#65737e;">: </span><span style="color:#d08770;">fifthtry/blog
</span></pre>
</div></div>
<div data-id="0,0,0,47,10,7:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Now you can do <code>-- import: blog</code> everywhere. There you go, one-line change theme
switching with guarantees.</p>
<p>We, FifthTry, will seed things with enough packages that act as interfaces, we will
study different domains, resume, photo album/journal, podcast, blog, pricing page,
contact page, testimonials, simple product listing, book review site, books, api,
etc etc, and propose the first set of package interfaces and seed the first set of
professional quality themes for each interface. Once the ball is rolling, the world
will take over.</p>
</div></div></div>
<div data-id="0,0,0,48:main-container-external:0:main" id="thoughts-tangled-documentation" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,48,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Thoughts: Tangled Documentation</div>
<div data-id="0,0,0,48,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Let‚Äôs talk about software documentation for a moment. Most programming languages
have the provision to write documentation as part of code. Consider this code:</p>
</div>
<div data-id="0,0,0,48,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,48,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#b48ead;">def </span><span style="color:#8fa1b3;">lower</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">x</span><span style="color:#c0c5ce;">):
</span><span style="color:#c0c5ce;">    &quot;</span><span style="color:#a3be8c;">lower() returns the lower cased version of the passed value</span><span style="color:#c0c5ce;">&quot;&quot;&quot;
</span><span style="color:#c0c5ce;">    x.</span><span style="color:#8fa1b3;">lower</span><span style="color:#c0c5ce;">()
</span></pre>
</div></div>
<div data-id="0,0,0,48,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Here the string ‚Äúlower() returns‚Ä¶‚Äù is documentation of <code>lower()</code> function, and
it serves two main purposes: 1. it shows up in IDE:</p>
</div>
<div data-id="0,0,0,48,4:main-container-external:0:main" style="align-items: flex-start; align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; height: 100%; justify-content: flex-start; margin-bottom: auto; margin-top: auto; padding-bottom: 20px; white-space: initial; width: 100%" class="ft_md"><img alt="" data-id="0,0,0,48,4,0:main-container-external:0:main" src="https://i.imgur.com/rdaUo2D.jpg" style="align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; margin-bottom: auto; margin-top: auto; padding-bottom: 15px; white-space: initial; width: 500px">
<div data-id="0,0,0,48,4,1:main-container-external:0:main" style="align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: Open sans; font-size: 17px; font-style: italic; font-weight: 400; margin-bottom: auto; margin-top: auto; text-align: left; white-space: initial; width: 100%" class="ft_md">IDE showing the documentation</div>
<div data-id="0,0,0,48,4,2:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>And 2. it shows up in pydoc etc generated documentation of the software package. Eg
consider <a href="https://docs.djangoproject.com/en/4.0/ref/models/fields/#django.db.models.CharField">this page</a>.</p>
<p>Java, Rust, many languages have some features like this.</p>
</div></div>
<div data-id="0,0,0,48,5:main-container-external:0:main" id="problem-1-editing-is-hard" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,48,5,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Problem 1: Editing Is Hard</div>
<div data-id="0,0,0,48,5,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>If we put documentation in source code, we are basically limiting editing of that
part of the documentation. Not only one has to learn git etc before they can
contribute, but the lint etc also has to pass. Further, each language has its own
weirdness you have to learn.</p>
</div></div>
<div data-id="0,0,0,48,6:main-container-external:0:main" id="problem-2-discourages-long-form-documentation" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,48,6,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Problem 2: Discourages Long Form Documentation</div>
<div data-id="0,0,0,48,6,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>If a project chooses exclusive source-based documentation, it becomes hard to
include guides, tutorials, overviews etc in the docs. People tend to throw all
that in an assortment of scattered README and other markdown files.</p>
<p>Projects that use <code>sphinx</code> for example do a better job at it, where the
documentation files drive the extraction of documentation from source files. This
allows people to structure documentation properly.</p>
<p>Internet is full of tutorials and how-tos that should have been part of original
documentation, but because of the high bar on source code.</p>
</div></div>
<div data-id="0,0,0,48,7:main-container-external:0:main" id="problem-3-translation-is-impossible" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,48,7,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Problem 3: Translation is impossible</div>
<div data-id="0,0,0,48,7,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>If you are putting documentation along with source code you can not include docs
in 10-20 languages now can you? It is simply impossible to have the translation of
source code documentation based on the current state of tooling.</p>
</div></div>
<div data-id="0,0,0,48,8:main-container-external:0:main" id="problem-4-versioning" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,48,8,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Problem 4: Versioning</div>
<div data-id="0,0,0,48,8,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>It is virtually not possible to update the documentation of any existing published
version of the software. Documentation change is clubbed with software change and
has to through a software release cycle.</p>
<p>I discussed other problems with documentation and versioning on 9th Dec 2021.</p>
</div></div>
<div data-id="0,0,0,48,9:main-container-external:0:main" id="so-what-should-be-done-tangle-and-weave" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,48,9,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">So What Should Be Done: Tangle And Weave</div>
<div data-id="0,0,0,48,9,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Like we have <a href="https://microsoft.github.io/language-server-protocol/">language server
protocol</a>, LSP, supported
today by many editors, we must have some sort of language documentation protocol.
Not protocol maybe, as that implies a network protocol, we should have some
standard file system, package format or whatever, for where to get documentation
from.</p>
<p>So say we create <code>fifthtry/pydocs</code> package interface for documenting python
packages, or maybe even more specific <code>fifthtry/python-cli</code> vs
<code>python/django-app</code> etc. And so on for all programming languages.</p>
<p>We then create tooling to extract source docs from python etc packages and update
the docs. So you have your python source checked out in a folder, and next to it
you have the docs checked out, and there is a tool that extracts all source docs
from python and updates the docs. And then there is another tool that does the
reverse, takes the docs from the docs folder and updates the python files.</p>
<p>This is sort of literate programming in reverse. You edit docs in source files
and extract docs out of it, and then modify the extracted docs and put them back
in. Javadocs etc do only one step, take out the docs from the source, but they do
not put things back in.</p>
</div></div>
<div data-id="0,0,0,48,10:main-container-external:0:main" id="patching-pip-cargo-etc" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,48,10,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Patching pip/cargo etc</div>
<div data-id="0,0,0,48,10,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>If we set this up, we will then have to patch pip, cargo etc, things that download
source code to fetch the source, then fetch the documentation package in the users
preferred language, and update the source with documentation so IDE can show docs
in the right language.</p>
<p>Of course, you would want to do this only in development builds, in a production
environment you do not need to do the extra work, nor do you want to mess with line
numbers in source code so all error stack traces are consistent.</p>
<p>This is basically a hack. Ideally, editors should be updated to support the
documentation package format itself and show tooltips docs from DPF files instead
of the source file. During development, we do use jump to definition, and often
scroll to read the docs, so patching source is also needed.</p>
</div></div></div>
<div data-id="0,0,0,49:main-container-external:0:main" id="arpita-next-steps" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,49,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Arpita Next Steps</div>
<div data-id="0,0,0,49,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>9th Dec 2021</p>
<ul>
<li><input type="checkbox" disabled="" checked="" /> <code>fpm sync &lt;list of files file&gt;</code></li>
<li><input type="checkbox" disabled="" checked="" /> <code>fpm status &lt;file&gt;</code> to show all statuses for the file</li>
<li><input type="checkbox" disabled="" checked="" /> <code>fpm status</code> to show status of adhoc tracking but not translation stuff</li>
<li><input type="checkbox" disabled="" /> <code>fpm translation-status</code></li>
<li><input type="checkbox" disabled="" /> <code>fpm translation-status &lt;file or folder&gt;</code></li>
<li><input type="checkbox" disabled="" /> <code>fpm stop-tracking</code></li>
<li><input type="checkbox" disabled="" /> <code>fpm mark-upto-date a --target b --on &lt;timestamp&gt;</code></li>
<li><input type="checkbox" disabled="" /> <code>fpm diff &lt;optional-folder&gt;</code> to only show regular diff (only changes from
.history file)</li>
<li><input type="checkbox" disabled="" /> <code>fpm diff &lt;file&gt;</code> to show all diffs (including tracking diff, translation
diff)</li>
<li><input type="checkbox" disabled="" /> <code>fpm diff -a</code> to show everything for every file`</li>
</ul>
</div></div>
<div data-id="0,0,0,50:main-container-external:0:main" id="ad-hoc-tracking-is-here" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,50,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Ad hoc Tracking Is Here!</div>
<div data-id="0,0,0,50,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Arpita has finished implementing the first version of <code>fpm start-tracking</code> and
<code>fpm mark-upto-date</code> commands, and updated <code>fpm status</code> and <code>fpm diff</code> to support
ad-hoc tracking.</p>
</div></div>
<div data-id="0,0,0,51:main-container-external:0:main" id="notes-on-deleting-files-and-history" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,51,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Notes on Deleting Files And History</div>
<div data-id="0,0,0,51,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We won‚Äôt delete the history of a file when a file is deleted. We currently have
<code>.history/foo.&lt;timestamp&gt;.ftd</code> for every modification of <code>foo.ftd</code>. We will soon
also have <code>.history/foo.&lt;timestamp&gt;.ftd.info</code>.</p>
<p>In some cases only the <code>.info</code> file may exist, when <code>foo.ftd</code> has been deleted.</p>
<p><code>.info</code> file will also contain the ‚Äúcommit message‚Äù of a change. And in future
when we implement history browsing it will also contain a flag that tells the UI
to ignore this particular change saying it‚Äôs a minor thing and is distracting. We
don‚Äôt actually delete the timestamp file and merge because timestamps are created
on sync and after sync it gets published, and others may have stored that timestamp
in their <code>.track</code> file.</p>
<p>Technically, we can manage to miss <code>.timestamp</code> files from a <code>.track</code> file by
using the immediate previous entry, but it will cause a double review in edge
cases. I prefer we never delete the history.</p>
</div>
<div data-id="0,0,0,51,2:main-container-external:0:main" id="latest-ftd" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,51,2,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md"><code>.latest.ftd</code></div>
<div data-id="0,0,0,51,2,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>What about <code>.history/.latest.ftd</code> file? When a file gets deleted we should not
delete the entry for that file from the <code>.latest.ftd</code> file, but instead add a
<code>deleted: true</code> flag to it. If by the same name another file gets created, we will
remove the <code>deleted: true</code> flag.</p>
</div></div>
<div data-id="0,0,0,51,3:main-container-external:0:main" id="auto-stop-tracking-if-file-is-deleted" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,51,3,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Auto Stop Tracking If File Is Deleted?</div>
<div data-id="0,0,0,51,3,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>If <code>a</code> is tracking <code>b</code> and <code>b</code> is deleted, we could remove the tracking
information from <code>a.track</code>. This means if a new file <code>b</code> is created in future,
the user will have again <code>add-track</code> it.</p>
<p>Here we are assuming if a file is deleted and another file with the same name is
created later, the two files are logically not related at all and just happen to
share the name.</p>
<p>We can also show users a warning when they do <code>fpm status</code> etc, saying a file is
gone and prompt them to <code>stop-tracking</code> explicitly.</p>
</div></div></div>
<div data-id="0,0,0,52:main-container-external:0:main" id="multiple-sqlite-db-support" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,52,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Multiple SQLite DB Support</div>
<div data-id="0,0,0,52,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p><code>$processor$: package-query</code> only supports querying against one sqlite database at
a time. SQLite supports loading more than one sqlite file at a time and we should
be able to support that as well:</p>
</div>
<div data-id="0,0,0,52,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,52,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">string foo</span><span style="color:#65737e;">:
</span><span style="color:#b48ead;">$processor$</span><span style="color:#65737e;">: </span><span style="color:#d08770;">package-query
</span><span style="color:#b48ead;">db foo</span><span style="color:#65737e;">: </span><span style="color:#d08770;">foo.sqlite
</span><span style="color:#b48ead;">db bar</span><span style="color:#65737e;">: </span><span style="color:#d08770;">path/to/bar.sqlite
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">SELECT * FROM [foo.table1], [bar.table2]
</span></pre>
</div></div>
<div data-id="0,0,0,52,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>We can use the db aliases in the query.</p>
</div></div>
<div data-id="0,0,0,53:main-container-external:0:main" id="thoughts-sqlite-and-build-optimisation" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,53,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Thoughts: SQLite And Build Optimisation</div>
<div data-id="0,0,0,53,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>One of the issues with SQLite is we may not be able to do an optimisation.</p>
<p>When things are rendered via <code>fpm-repo</code> things are fine, but when using <code>fpm build</code>,
things can become a problem if the package size or complexity grows. With support
for HTTP request handling and SQLite queries, and we will be adding a lot of stuff,
we are just getting started, the time it takes <code>fpm build</code> may start becoming an
issue.</p>
<p>One way to speed things could be to do build caching, do not rebuild something that
has no change. Consider the simple case, <code>a.ftd</code>, which does not import any other
document. Consider also we do not have dynamic features like <code>fpm.now</code> which
returns the current time. In such cases, we can choose to not rebuild <code>a.ftd</code> if
the content of <code>a.ftd</code> hasn‚Äôt changed.</p>
<p>We can detect if a document uses another document or dynamic features, and we can
store this information, and use it when to decide if we should rebuild things or
not. Eg, if we know some document has used <code>fpm.now</code> and has no other dependency and
that document‚Äôs content hasn‚Äôt changed, we still want to regenerate the
corresponding html, as <code>fpm.now</code> returns a different value on every run.</p>
<p>We can do this optimisation for <code>sqlite</code> as well if a random sqlite file has been
used. If the sqlite database file has changed then we need to rebuild the document
that queries that sqlite database even if the document itself hasn‚Äôt changed.</p>
<p>But when we talk about query against package database, a sqlite database that we
would be creating/updating based on the content of all documents in an fpm package,
that sqlite will always change, and any document that queries that package database
can never be cached.</p>
<p>Unless we break the package database into smaller databases, say for each record
we have a sqlite file, and some document is only interested in instances of that
record, and we know that only a few files have created an instance of that record,
now the out of date graph would be a lot smaller, only those few files.</p>
<p>Smaller files have problems tho, some queries would want to use join and if the
tables in different database join may not always be possible (not sure how things
would be after the support of referring multiple sqlite databases for a single
query, can it negate this drawback?). Not sure how foreign key would work etc.</p>
<p>One thing is there that we can do both, generate big databases and individual
databases as well, and do it opportunistically, only generate the databases that
were referred by any of the documents. This way we can even choose to not generate
the big package database if no document is querying that database.</p>
<p>How about a database for use for other packages? Say <code>package a</code> wants to query
database of <code>package b</code>? That is slightly simpler because then you are not worrying
about build time but sync or publish time. It may be okay to do more work during
publishing.</p>
<p>But then again why are we calling build all the time? Why are we worried about
performance of the build at all? Because we currently do not support auto reload?</p>
<p>Auto reload means we have to support the demand generation of pages, in which
case we don‚Äôt have to worry about caching, the moment we introduce support for
<code>fpm server</code>, even without auto reload feature, this whole discussion would go
moot.</p>
<p>Making <code>fpm build</code> fast would be important, but then we can ignore it as it‚Äôs no
longer urgent, as so far my concern was author edit workflow, which would be
improve much more by auto reload and fpm serve than making <code>fpm build</code> fast.</p>
</div></div>
<div data-id="0,0,0,54:main-container-external:0:main" id="merged-static-file-support-is-here" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,54,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Merged: Static File Support Is Here!</div>
<div data-id="0,0,0,54,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Till now <code>fpm build</code> used to only process <code>.ftd</code> files in an fpm package. Shobhit
has added support for handling static files (files other than ftd and markdown, and
not ignored by <code>.gitignore</code>/<code>fpm.ignore</code> etc).</p>
<p>Now we can add images etc as part of an FPM package and they get included in
generated static site.</p>
<p>Since we kind of now include all files in the current directory, it may be a good
idea to review the files that are being processed and ignore files you do not want
published, both for performance and security reasons.</p>
</div></div>
<div data-id="0,0,0,55:main-container-external:0:main" id="thoughts-security" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,55,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Thoughts: Security</div>
<div data-id="0,0,0,55,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>One kind of thing we have to be constantly aware of when writing/reviewing any FPM
code is accidentally copying say <code>/etc/passwd</code> to the built file. This can happen
say if we started support symlinks, and someone has a package that you are
contributing to, and symlink gets you to accidentally copy more stuff to <code>.build</code>
and publish to the world.</p>
<p>It can happen more than by just symlink, say in <code>$processor$: package-query</code>, if
the value of <code>db</code> is set to say <code>../firefox-password-store.sqlite</code> file, again we
may accidentally read beyond what we should, which is the content of the current
package or any package that is a direct dependency of this package. In fact, if
current package depends and a package <code>a</code> and <code>a</code> depends on <code>b</code>, then we must not
allow current package files to directly reference files in <code>b</code> without adding an
explicit dependency on <code>b</code>, as while this is technically not a security issue, it
causes issues if <code>a</code> removes the dependency, the package will suddenly stop
building.</p>
<p>We are shipping a binary that runs on people‚Äôs machines, this is a threat vector,
and while its easy to audit code for direct threats (attempt to do mining, or
scanning stuff), we are also letting our binary download packages from the internet
authored by others, and we have to give guarantees that those files can not do
any harm either.</p>
<p>Our FTD must not get any feature, for instance, letting people directly execute
commands from a package, without user understanding the command (this can happen
when a package is being downloaded for the first time, we should show all the
external commands this fpm package is going to be able to run etc).</p>
<p>The thing is this is very tricky, we can not say we don‚Äôt want to let package
authors run anything, that will significantly decrease the power of FPM packages.
We have to allow people to query data from their trusted data stores, to make it
part of generated documents, <em>if they want to</em>. But we can not surprise people.
Even HTTP requests are sensitive, not just command execution.</p>
</div></div>
<div data-id="0,0,0,56:main-container-external:0:main" id="markdown-special-variables" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,56,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Markdown Special Variables</div>
<div data-id="0,0,0,56,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><ul>
<li>fpm.markdown-filename etc</li>
<li>fpm.package.name vs FPM.package-specific-variable</li>
<li>import path disambiguation, can be use : as separator</li>
<li><code>import: &lt;package&gt;:</code> is ugly, import foo means foo is either in current package
or a package which is a direct dependency of current package</li>
</ul>
<ol>
<li><del><code>a</code> (local), <code>a:</code> (package index), <code>a:b/c</code></del> (<code>-- import: a:</code> is ugly)</li>
<li><code>a</code> (local or package-index), <code>a:b/c</code> (pretty)</li>
<li><code>@a</code> (local), <code>a</code>, <code>a:b/c</code> (explicit)</li>
<li><code>a</code> (local), <code>@a</code>, <code>b/c@a</code></li>
</ol>
</div>
<div data-id="0,0,0,56,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,56,2,0:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(58,64,78,1); border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(220,220,220,1); font-family: Open sans; font-size: 14px; font-weight: 400; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md">generalised import</div>
<div data-id="0,0,0,56,2,1:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">a as b
</span><span style="color:#b48ead;">from</span><span style="color:#65737e;">: </span><span style="color:#d08770;">&lt;package&gt;
</span><span style="color:#b48ead;">exposing</span><span style="color:#65737e;">: </span><span style="color:#d08770;">x
</span><span style="color:#b48ead;">exposing</span><span style="color:#65737e;">: </span><span style="color:#d08770;">y
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">x as y
</span></pre>
</div></div>
<div data-id="0,0,0,56,3:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Here, <code>x</code> is either a document in current package or a package.</p>
</div>
<div data-id="0,0,0,56,4:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,56,4,0:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(58,64,78,1); border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(220,220,220,1); font-family: Open sans; font-size: 14px; font-weight: 400; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md">fpm and markdown</div>
<div data-id="0,0,0,56,4,1:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">vars
</span><span style="color:#b48ead;">from</span><span style="color:#65737e;">: </span><span style="color:#d08770;">fpm
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">fpm
</span></pre>
</div></div>
<div data-id="0,0,0,56,5:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>What if we have <code>fpm.ftd</code> in current package, who to import it?</p>
</div>
<div data-id="0,0,0,56,6:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,56,6,0:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(58,64,78,1); border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(220,220,220,1); font-family: Open sans; font-size: 14px; font-weight: 400; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md">fpm and markdown</div>
<div data-id="0,0,0,56,6,1:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">import</span><span style="color:#65737e;">: </span><span style="color:#a3be8c;">fpm
</span><span style="color:#b48ead;">from</span><span style="color:#65737e;">: </span><span style="color:#d08770;">.
</span></pre>
</div></div></div>
<div data-id="0,0,0,57:main-container-external:0:main" id="how-do-we-handle-code-include" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,57,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">How do we handle code include?</div>
<div data-id="0,0,0,57,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Currently when using <code>ftd.code</code> we include the code block in the body. What if
we wanted to refer to code in a source file?</p>
</div>
<div data-id="0,0,0,57,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,57,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#65737e;">-- </span><span style="color:#ebcb8b;">ft.code</span><span style="color:#65737e;">:
</span><span style="color:#b48ead;">lang</span><span style="color:#65737e;">: </span><span style="color:#d08770;">py
</span><span style="color:#b48ead;">$processor$</span><span style="color:#65737e;">: </span><span style="color:#d08770;">include-source
</span><span style="color:#b48ead;">file</span><span style="color:#65737e;">: </span><span style="color:#d08770;">a.py
</span><span style="color:#b48ead;">tag</span><span style="color:#65737e;">: </span><span style="color:#d08770;">foo
</span></pre>
</div></div>
<div data-id="0,0,0,57,3:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,57,3,0:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(58,64,78,1); border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(220,220,220,1); font-family: Open sans; font-size: 14px; font-weight: 400; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md">a.py</div>
<div data-id="0,0,0,57,3,1:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#b48ead;">import </span><span style="color:#c0c5ce;">os
</span><span style="color:#c0c5ce;">
</span><span style="color:#65737e;"># FPM-START: foo
</span><span style="color:#b48ead;">def </span><span style="color:#8fa1b3;">foo</span><span style="color:#c0c5ce;">():
</span><span style="color:#c0c5ce;">    </span><span style="color:#96b5b4;">print</span><span style="color:#c0c5ce;">(&quot;</span><span style="color:#a3be8c;">this is foo</span><span style="color:#c0c5ce;">&quot;)
</span><span style="color:#65737e;"># FPM-END: foo
</span></pre>
</div></div>
<div data-id="0,0,0,57,4:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Currently <code>ftd</code> <code>$processor$</code> can only be used for variables and lists, we have to
extend it to use on component construction as well.</p>
<p>We may also want to specify more than just the body as well, eg other headers.</p>
</div></div>
<div data-id="0,0,0,58:main-container-external:0:main" id="fpm-tracks-and-fpm-mark-is-here" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,58,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md"><code>fpm tracks</code> and <code>fpm mark</code> is here!</div>
<div data-id="0,0,0,58,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Arpita implemented these two commands.</p>
<p>We had a funky <code>fpm a tracks b</code> idea, which no command line tool does. She used
the <code>fpm tracks destination source</code> syntax. We should make it maybe:
<code>fpm start-tracking &lt;f1&gt; --target &lt;f2&gt;</code>. Also the code assumes we will only track
<code>ftd</code> files, but we have to be able to track any file. Remove <code>.ftd</code> prefix
handling.</p>
<p><code>fpm mark-upto-date &lt;f1&gt; --target &lt;f2&gt;</code>. Here target would be optional eventually,
if the target was missing and <code>f1</code> tracks more than one file then the cli would
prompt which file.</p>
<p>If the file is not found it silently returns, should report the error. If file is
already being tracked it should show some message.</p>
<p>Not sure if <code>fpm diff</code> should show all the diffs, local modifications and tracking
diff, or should we have a separate command.</p>
</div></div>
<div data-id="0,0,0,59:main-container-external:0:main" id="explanation-of-dynamic-documents-and-actions" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,59,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Explanation Of Dynamic Documents and Actions</div>
<div data-id="0,0,0,59,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>8th Dec 2021</p>
<p>Recorded a design review of what I am calling the upcoming ‚ÄúFPM Web Framework‚Äù.</p>
</div>
<iframe allow="fullscreen" allowfullscreen="allowfullscreen" data-id="journal.ftd#SdpCVTk84DM:0,0,0,59,2:main-container-external:0:main" id="SdpCVTk84DM" src="https://youtube.com/embed/SdpCVTk84DM" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; height: 400px; margin-bottom: 34px; white-space: initial; width: 100%" class="ft_md"></iframe></div>
<div data-id="0,0,0,60:main-container-external:0:main" id="100th-commit-we-now-honour-gitignore-etc" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,60,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">100th Commit! We now honour <code>.gitignore</code> etc</div>
<div data-id="0,0,0,60,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Shobhit just <a href="https://github.com/FifthTry/fpm/commit/c9aded47ef26785a6d49949ddf8b71a09921b5dd">implemented support ignoring files that <code>git</code>
ignores</a>.
You can also ignore more files by populating <code>fpm.ignore: string list</code> with
patterns that are compatible with <code>.gitignore</code> file patterns.</p>
</div></div>
<div data-id="0,0,0,61:main-container-external:0:main" id="some-thoughts-on-versioning" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,61,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Some thoughts on Versioning</div>
<div data-id="0,0,0,61,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>FPM is for storing documentation and not software. Git is for storing software and
people also use it for storing documentation.</p>
</div>
<div data-id="0,0,0,61,2:main-container-external:0:main" id="problem-with-the-way-git-svn-etc-do-versioning" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,61,2,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Problem With The Way Git / SVN etc Do Versioning</div>
<div data-id="0,0,0,61,2,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>There is a problem with the way Git etc manages versioning that it is not a good
solution for storing documentation, in my opinion. Traditional ‚Äúsource code
managers‚Äù create a new folder or a branch for managing versioning.</p>
<p>Say you are working on django 1.0 and its time to create django 2.0, you create a
new branch for version 2.0 and start working on it.</p>
<p>At this point, the two branches have diverged. All new changes now go to the 2.0
branch. You may even make main or master follow the 2.0 branch. For all practical
reasons, 1.0 has stopped. You will want to be good citizens and support 1.0,
backport some of the bug fixes, especially security fixes. In projects like Linux
people even backport whole features to older versions.</p>
<p>But back-porting is kind of extra work. Most people recommend and send a pull
request against the latest main/master and the changes get included in the next
release that is cut from main/master.</p>
</div></div>
<div data-id="0,0,0,61,3:main-container-external:0:main" id="documentation-and-software-are-different" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,61,3,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Documentation and Software Are Different</div>
<div data-id="0,0,0,61,3,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Back-porting bug fixes and features are kind of hard. You have to verify software
indeed works correctly. You have to write unit tests and verify there are no
regressions. Software releases and continuous maintenance is work. It‚Äôs kind of
usually best to focus efforts on the latest version and update as soon as one can.</p>
<p>Documentation on the other hand is lot easier. There is no risk of documentation
breaking anything. Wrong documentation can still have consequences, no doubt about
it, but they are rather rare, compared to software issues. Software is a lot more
fragile compared to documentation.</p>
<p>By managing documentation like the software we are doing a dis-service. It‚Äôs the
wrong tool for the job.</p>
<p>One difference in documentation compared to software is that a lot of changes in
documentation are not logical. Eg, if the original documentation said this function
takes three arguments and the new one says it takes four, this is a logical
difference. But if the original documentation was too terse, and new documentation
gives more examples and explanations and how-tos, the documentation hasn‚Äôt really
changed in a logical sense.</p>
<p>It‚Äôs like refactor in software. We know refactor, should not cause any change in
behaviour of the software. But in software it‚Äôs really hard to arrive at this
conclusion, if someone sends a software refactor PR, it‚Äôs really hard to say that
will really have no effect, that it‚Äôs safe to merge.</p>
<p>But for documentation its almost trivial to see a PR and conclude that there is
no real ‚Äúlogical‚Äù change, that it is just a better written tutorial and has not
changed anything fundamental.</p>
</div></div>
<div data-id="0,0,0,61,4:main-container-external:0:main" id="updating-documentation-for-a-published-version-of-software-must-be-possible" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,61,4,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Updating Documentation For A Published Version Of Software Must Be Possible</div>
<div data-id="0,0,0,61,4,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Currently, it‚Äôs almost not possible to update django 1.0 documentation without also
creating a new release of django 1.0. And in that case, it no longer is updating
the documentation of django 1.0, it‚Äôs updating documentation of django 1.0.1 or
whatever.</p>
</div></div>
<div data-id="0,0,0,61,5:main-container-external:0:main" id="open-source-maintainers-are-busy-enough" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,61,5,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Open Source Maintainers Are Busy Enough</div>
<div data-id="0,0,0,61,5,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Software is a lot of work. Core maintainers have to review every line like a hawk.
To ensure nothing is broken. That there is no edge case. No violation of any
contract etc.</p>
<p>So sending documentation only PR to review to them, especially to older versions
of the software, it‚Äôs almost going a bit too far, demanding too much from them.</p>
</div></div>
<div data-id="0,0,0,61,6:main-container-external:0:main" id="the-root-problem-in-current-documentation-workflow" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,61,6,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">The Root Problem In Current Documentation Workflow</div>
<div data-id="0,0,0,61,6,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>If we create a new branch for every new version of the software and keep the
documentation along with software in that branch, we are basically creating a copy
of every file for every version.</p>
<p>Say you have a file <code>tutorial.txt</code>, there is one copy of this file in <em>every</em>
version branch. This is the root problem. Even if there is no change in
<code>tutorial.txt</code>, we still copy it over.</p>
<p>We do, what can be called, copy-on-branch, instead of what should be:
copy-on-incompatible-change.</p>
<p>Let‚Äôs analyse django:</p>
</div>
<div data-id="0,0,0,61,6,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,61,6,2,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#8fa1b3;">git</span><span style="color:#c0c5ce;"> clone git@github.com:django/django.git
</span><span style="color:#96b5b4;">cd</span><span style="color:#c0c5ce;"> django
</span><span style="color:#8fa1b3;">python</span><span style="color:#c0c5ce;"> t.py
</span><span style="color:#8fa1b3;">4.0rc1</span><span style="color:#c0c5ce;"> 37 72 27
</span><span style="color:#8fa1b3;">wc</span><span style="color:#bf616a;"> -l</span><span style="color:#c0c5ce;"> tags
</span><span style="color:#c0c5ce;">     </span><span style="color:#8fa1b3;">312</span><span style="color:#c0c5ce;"> tags
</span></pre>
</div></div>
<div data-id="0,0,0,61,6,3:main-container-external:0:main" onclick="window.ftd.handle_event(event, 'main', '[{&quot;action&quot;:&quot;toggle&quot;,&quot;target&quot;:&quot;journal.ftd#show-t-py&quot;,&quot;parameters&quot;:{}}]')" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; cursor: pointer; display: none; font-weight: 400; text-align: left; white-space: initial" class="ft_md">Hide <code>t.py</code></div>
<div data-id="0,0,0,61,6,4:main-container-external:0:main" onclick="window.ftd.handle_event(event, 'main', '[{&quot;action&quot;:&quot;toggle&quot;,&quot;target&quot;:&quot;journal.ftd#show-t-py&quot;,&quot;parameters&quot;:{}}]')" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; cursor: pointer; font-weight: 400; text-align: left; white-space: initial" class="ft_md">Show <code>t.py</code></div>
<div data-id="0,0,0,61,6,5:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: none; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,61,6,5,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#b48ead;">import </span><span style="color:#c0c5ce;">sys
</span><span style="color:#b48ead;">import </span><span style="color:#c0c5ce;">hashlib
</span><span style="color:#b48ead;">import </span><span style="color:#c0c5ce;">subprocess
</span><span style="color:#c0c5ce;">
</span><span style="color:#b48ead;">def </span><span style="color:#8fa1b3;">main</span><span style="color:#c0c5ce;">():
</span><span style="color:#c0c5ce;">    overview = set()
</span><span style="color:#c0c5ce;">    tutorial = set()
</span><span style="color:#c0c5ce;">    install = set()
</span><span style="color:#c0c5ce;">    </span><span style="color:#b48ead;">for </span><span style="color:#c0c5ce;">tag </span><span style="color:#b48ead;">in </span><span style="color:#8fa1b3;">get_tags</span><span style="color:#c0c5ce;">():
</span><span style="color:#c0c5ce;">        </span><span style="color:#8fa1b3;">checkout</span><span style="color:#c0c5ce;">(tag)
</span><span style="color:#c0c5ce;">        overview.</span><span style="color:#8fa1b3;">add</span><span style="color:#c0c5ce;">(</span><span style="color:#8fa1b3;">sha256sum</span><span style="color:#c0c5ce;">(&quot;</span><span style="color:#a3be8c;">docs/intro/overview.txt</span><span style="color:#c0c5ce;">&quot;))
</span><span style="color:#c0c5ce;">        tutorial.</span><span style="color:#8fa1b3;">add</span><span style="color:#c0c5ce;">(</span><span style="color:#8fa1b3;">sha256sum</span><span style="color:#c0c5ce;">(&quot;</span><span style="color:#a3be8c;">docs/intro/tutorial01.txt</span><span style="color:#c0c5ce;">&quot;))
</span><span style="color:#c0c5ce;">        install.</span><span style="color:#8fa1b3;">add</span><span style="color:#c0c5ce;">(</span><span style="color:#8fa1b3;">sha256sum</span><span style="color:#c0c5ce;">(&quot;</span><span style="color:#a3be8c;">docs/intro/install.txt</span><span style="color:#c0c5ce;">&quot;))
</span><span style="color:#c0c5ce;">        </span><span style="color:#96b5b4;">print</span><span style="color:#c0c5ce;">(tag, </span><span style="color:#96b5b4;">len</span><span style="color:#c0c5ce;">(overview), </span><span style="color:#96b5b4;">len</span><span style="color:#c0c5ce;">(tutorial), </span><span style="color:#96b5b4;">len</span><span style="color:#c0c5ce;">(install))
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">
</span><span style="color:#b48ead;">def </span><span style="color:#8fa1b3;">checkout</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">tag</span><span style="color:#c0c5ce;">):
</span><span style="color:#c0c5ce;">    subprocess.</span><span style="color:#8fa1b3;">run</span><span style="color:#c0c5ce;">([&quot;</span><span style="color:#a3be8c;">git</span><span style="color:#c0c5ce;">&quot;, &quot;</span><span style="color:#a3be8c;">checkout</span><span style="color:#c0c5ce;">&quot;, tag])
</span><span style="color:#c0c5ce;">
</span><span style="color:#b48ead;">def </span><span style="color:#8fa1b3;">get_tags</span><span style="color:#c0c5ce;">():
</span><span style="color:#c0c5ce;">    </span><span style="color:#b48ead;">return </span><span style="color:#c0c5ce;">[t.</span><span style="color:#8fa1b3;">strip</span><span style="color:#c0c5ce;">() </span><span style="color:#b48ead;">for </span><span style="color:#c0c5ce;">t </span><span style="color:#b48ead;">in </span><span style="color:#96b5b4;">open</span><span style="color:#c0c5ce;">(&quot;</span><span style="color:#a3be8c;">tags</span><span style="color:#c0c5ce;">&quot;).</span><span style="color:#8fa1b3;">readlines</span><span style="color:#c0c5ce;">()]
</span><span style="color:#c0c5ce;">
</span><span style="color:#b48ead;">def </span><span style="color:#8fa1b3;">sha256sum</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">filename</span><span style="color:#c0c5ce;">):
</span><span style="color:#c0c5ce;">    h  = hashlib.</span><span style="color:#8fa1b3;">sha256</span><span style="color:#c0c5ce;">()
</span><span style="color:#c0c5ce;">    b  = bytearray(</span><span style="color:#d08770;">128</span><span style="color:#c0c5ce;">*</span><span style="color:#d08770;">1024</span><span style="color:#c0c5ce;">)
</span><span style="color:#c0c5ce;">    mv = memoryview(b)
</span><span style="color:#c0c5ce;">    </span><span style="color:#b48ead;">with </span><span style="color:#96b5b4;">open</span><span style="color:#c0c5ce;">(filename, &#39;</span><span style="color:#a3be8c;">rb</span><span style="color:#c0c5ce;">&#39;, </span><span style="color:#bf616a;">buffering</span><span style="color:#c0c5ce;">=</span><span style="color:#d08770;">0</span><span style="color:#c0c5ce;">) </span><span style="color:#b48ead;">as </span><span style="color:#c0c5ce;">f:
</span><span style="color:#c0c5ce;">        </span><span style="color:#b48ead;">for </span><span style="color:#c0c5ce;">n </span><span style="color:#b48ead;">in </span><span style="color:#96b5b4;">iter</span><span style="color:#c0c5ce;">(</span><span style="color:#b48ead;">lambda </span><span style="color:#c0c5ce;">: f.</span><span style="color:#8fa1b3;">readinto</span><span style="color:#c0c5ce;">(mv), </span><span style="color:#d08770;">0</span><span style="color:#c0c5ce;">):
</span><span style="color:#c0c5ce;">            h.</span><span style="color:#8fa1b3;">update</span><span style="color:#c0c5ce;">(mv[:n])
</span><span style="color:#c0c5ce;">    </span><span style="color:#b48ead;">return </span><span style="color:#c0c5ce;">h.</span><span style="color:#8fa1b3;">hexdigest</span><span style="color:#c0c5ce;">()
</span><span style="color:#c0c5ce;">
</span><span style="color:#8fa1b3;">main</span><span style="color:#c0c5ce;">()
</span></pre>
</div></div>
<div data-id="0,0,0,61,6,6:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>As you can see, we have 312 tags, and therefore 312 copies of <code>overview.txt</code>,
<code>tutorial01.txt</code> and <code>install.txt</code> but only 37, 72, and 27 unique content.</p>
<p>If <code>tutorial01.txt</code> is modified 72 times, we have to ask how many of those 72
‚Äúlogical change‚Äù, meaning the tutorial was changed because something in django
changed, say some api was added or changed etc, and how many were ‚ÄúEnglish change‚Äù,
improving the doc.</p>
<p>If we do the analysis, we can bring down the number of unique copies of
<code>tutorial01.txt</code> to even fewer than 72, maybe only 3 or 4 as django is pretty
stable and the tutorial for django 2.0 is still applicable for django 4. Lets take
a look at the diff between django 3.0 and 4.0:</p>
</div>
<div data-id="0,0,0,61,6,7:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,61,6,7,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#c0c5ce;">--- 3.0.txt	2021-12-08 19:33:26.000000000 +0530
</span><span style="color:#c0c5ce;">+++ 4.0.txt	2021-12-08 19:31:37.000000000 +0530
</span><span style="color:#c0c5ce;">@@ -23,7 +23,7 @@
</span><span style="color:#c0c5ce;"> If Django is installed, you should see the version of your installation. If it
</span><span style="color:#c0c5ce;"> isn&#39;t, you&#39;ll get an error telling &quot;No module named django&quot;.
</span><span style="color:#c0c5ce;">
</span><span style="color:#bf616a;">-This tutorial is written for Django |version|, which supports Python 3.6 and
</span><span style="color:#a3be8c;">+This tutorial is written for Django |version|, which supports Python 3.8 and
</span><span style="color:#c0c5ce;"> later. If the Django version doesn&#39;t match, you can refer to the tutorial for
</span><span style="color:#c0c5ce;"> your version of Django by using the version switcher at the bottom right corner
</span><span style="color:#c0c5ce;"> of this page, or update Django to the newest version. If you&#39;re using an older
</span><span style="color:#c0c5ce;">@@ -35,10 +35,8 @@
</span></pre>
</div></div>
<div data-id="0,0,0,61,6,8:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>This is technically a logical change. Though ideally this diff must not have
existed at all, they should have defined <code>|minimum-supported-python-version|</code> like
they have defined <code>|version|</code>. As much as possible documentation must used
variables etc, so they do not go out of date so easily or create such needless
diffs for humans to review.</p>
</div>
<div data-id="0,0,0,61,6,9:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,61,6,9,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#bf616a;">-    If you&#39;re having trouble going through this tutorial, please post a message
</span><span style="color:#bf616a;">-    to |django-users| or drop by `#django on irc.freenode.net
</span><span style="color:#bf616a;">-    &lt;irc://irc.freenode.net/django&gt;`_ to chat with other Django users who might
</span><span style="color:#bf616a;">-    be able to help.
</span><span style="color:#a3be8c;">+    If you&#39;re having trouble going through this tutorial, please head over to
</span><span style="color:#a3be8c;">+    the :doc:`Getting Help&lt;/faq/help&gt;` section of the FAQ.
</span></pre>
</div></div>
<div data-id="0,0,0,61,6,10:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Seems that they have stopped supporting the IRC. Now this must not have been a
django 4.0 change, I mean they are not supporting IRC for any version of django,
this must have been a change in django 3.0 docs as well. Imagine how many people
would be using django 3.0 for so long, years and years, and they will all be going
to IRC and they would be failing to get help, wasting time. Why? All because they
decide to create a new branch for versioning and not what they should have done
as I will describe later.</p>
</div>
<div data-id="0,0,0,61,6,11:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,61,6,11,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#c0c5ce;">     If your background is in plain old PHP (with no use of modern frameworks),
</span><span style="color:#bf616a;">-    you&#39;re probably used to putting code under the Web server&#39;s document root
</span><span style="color:#a3be8c;">+    you&#39;re probably used to putting code under the web server&#39;s document root
</span><span style="color:#c0c5ce;">     (in a place such as ``/var/www``). With Django, you don&#39;t do that. It&#39;s
</span><span style="color:#bf616a;">-    not a good idea to put any of this Python code within your Web server&#39;s
</span><span style="color:#a3be8c;">+    not a good idea to put any of this Python code within your web server&#39;s
</span><span style="color:#c0c5ce;">     document root, because it risks the possibility that people may be able
</span><span style="color:#bf616a;">-    to view your code over the Web. That&#39;s not good for security.
</span><span style="color:#a3be8c;">+    to view your code over the web. That&#39;s not good for security.
</span></pre>
</div></div>
<div data-id="0,0,0,61,6,12:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Again, as you can see, absolutely no reason this is a change django 3.0 users
should not see, this is completely generic improvement applicable to all django
versions.</p>
</div>
<div data-id="0,0,0,61,6,13:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,61,6,13,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#c0c5ce;">@@ -86,6 +84,7 @@
</span><span style="color:#c0c5ce;">             __init__.py
</span><span style="color:#c0c5ce;">             settings.py
</span><span style="color:#c0c5ce;">             urls.py
</span><span style="color:#a3be8c;">+            asgi.py
</span><span style="color:#c0c5ce;">             wsgi.py
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;"> These files are:
</span><span style="color:#c0c5ce;">@@ -113,6 +112,9 @@
</span><span style="color:#c0c5ce;">   &quot;table of contents&quot; of your Django-powered site. You can read more about
</span><span style="color:#c0c5ce;">   URLs in :doc:`/topics/http/urls`.
</span><span style="color:#c0c5ce;">
</span><span style="color:#a3be8c;">+* :file:`mysite/asgi.py`: An entry-point for ASGI-compatible web servers to
</span><span style="color:#a3be8c;">+  serve your project. See :doc:`/howto/deployment/asgi/index` for more details.
</span><span style="color:#a3be8c;">+
</span><span style="color:#c0c5ce;"> * :file:`mysite/wsgi.py`: An entry-point for WSGI-compatible web servers to
</span><span style="color:#c0c5ce;">   serve your project. See :doc:`/howto/deployment/wsgi/index` for more details.
</span></pre>
</div></div>
<div data-id="0,0,0,61,6,14:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Finally some real change that should exist. Sometime between 3 and 4 they seem to
have added <code>asgi.py</code> and this change must not have been back-ported to django 3.0
docs.</p>
</div>
<div data-id="0,0,0,61,6,15:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; padding-top: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,61,6,15,2:main-container-external:0:main" style="align-self: flex-start; background-color: rgba(43,48,59,1); border-bottom-left-radius: 4px !important; border-bottom-right-radius: 4px !important; border-radius: 0px; border-style: solid; border-top-left-radius: 4px !important; border-top-right-radius: 4px !important; border-width: 0px; box-sizing: border-box; color: rgba(77,77,77,1); font-size: 17px; font-weight: 400; line-height: 25px; overflow-x: auto; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; text-align: left; white-space: initial; width: 100%" class="ft_md"><pre style="background-color:#2b303b;"><span style="color:#c0c5ce;">@@ -146,16 +148,16 @@
</span><span style="color:#c0c5ce;">     Ignore the warning about unapplied database migrations for now; we&#39;ll deal
</span><span style="color:#c0c5ce;">     with the database shortly.
</span><span style="color:#c0c5ce;">
</span><span style="color:#bf616a;">-You&#39;ve started the Django development server, a lightweight Web server written
</span><span style="color:#a3be8c;">+You&#39;ve started the Django development server, a lightweight web server written
</span><span style="color:#c0c5ce;"> purely in Python. We&#39;ve included this with Django so you can develop things
</span><span style="color:#c0c5ce;"> rapidly, without having to deal with configuring a production server -- such as
</span><span style="color:#c0c5ce;"> Apache -- until you&#39;re ready for production.
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;"> Now&#39;s a good time to note: **don&#39;t** use this server in anything resembling a
</span><span style="color:#c0c5ce;"> production environment. It&#39;s intended only for use while developing. (We&#39;re in
</span><span style="color:#bf616a;">-the business of making Web frameworks, not Web servers.)
</span><span style="color:#a3be8c;">+the business of making web frameworks, not web servers.)
</span><span style="color:#c0c5ce;">
</span><span style="color:#bf616a;">-Now that the server&#39;s running, visit http://127.0.0.1:8000/ with your Web
</span><span style="color:#a3be8c;">+Now that the server&#39;s running, visit http://127.0.0.1:8000/ with your web
</span><span style="color:#c0c5ce;"> browser. You&#39;ll see a &quot;Congratulations!&quot; page, with a rocket taking off.
</span><span style="color:#c0c5ce;"> It worked!
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">@@ -204,16 +206,16 @@
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;"> .. admonition:: Projects vs. apps
</span><span style="color:#c0c5ce;">
</span><span style="color:#bf616a;">-    What&#39;s the difference between a project and an app? An app is a Web
</span><span style="color:#bf616a;">-    application that does something -- e.g., a Weblog system, a database of
</span><span style="color:#a3be8c;">+    What&#39;s the difference between a project and an app? An app is a web
</span><span style="color:#a3be8c;">+    application that does something -- e.g., a blog system, a database of
</span><span style="color:#c0c5ce;">     public records or a small poll app. A project is a collection of
</span><span style="color:#c0c5ce;">     configuration and apps for a particular website. A project can contain
</span><span style="color:#c0c5ce;">     multiple apps. An app can be in multiple projects.
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;"> Your apps can live anywhere on your :ref:`Python path &lt;tut-searchpath&gt;`. In
</span><span style="color:#bf616a;">-this tutorial, we&#39;ll create our poll app right next to your :file:`manage.py`
</span><span style="color:#bf616a;">-file so that it can be imported as its own top-level module, rather than a
</span><span style="color:#bf616a;">-submodule of ``mysite``.
</span><span style="color:#a3be8c;">+this tutorial, we&#39;ll create our poll app in the same directory as your
</span><span style="color:#a3be8c;">+:file:`manage.py` file so that it can be imported as its own top-level module,
</span><span style="color:#a3be8c;">+rather than a submodule of ``mysite``.
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;"> To create your app, make sure you&#39;re in the same directory as :file:`manage.py`
</span><span style="color:#c0c5ce;"> and type this command:
</span></pre>
</div></div>
<div data-id="0,0,0,61,6,16:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Again, all these changes must have gone to 3.0, or even 1.0 for that matter. As you
can see, of all the changes, only the <code>asgi.py</code> thing was actually a difference
between django 3 and django 4, and that must have been the only diff we should have
seen. Every other change should have been back ported to the earliest version.</p>
<p>But they can not because of the way they manage versioning.</p>
</div></div>
<div data-id="0,0,0,61,7:main-container-external:0:main" id="so-how-should-version-be-maintained" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,61,7,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">So How Should Version Be Maintained?</div>
<div data-id="0,0,0,61,7,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Instead of creating a copy of each file by branching (ah yes, sure, git internally
doesn‚Äôt copy, but that‚Äôs a git‚Äôs internal detail, from human operator/user
perspective it is a copy), we must have a single folder with all versions, one
folder for each version. But when creating a new version, we must not copy content
of the current version, we must create an <strong>empty</strong> folder and rely on fallback
logic at documentation build time to fill in the files from the last versions.</p>
<p>For this we create a sparse tree, each version folder only contains a file if that
file is <strong>logically</strong> divergent from the corresponding file in the previous
version. One can even store just the diff, and maybe that is what we will end up
doing, but from data structure perspective thinking as if we have only stored the
diff is the right way to think about what I am suggesting.</p>
<p>With this requirement to only copy when there is a logical change, the number of
copies would go down, and humans can easily review if the change is indeed logical.
For that matter, humans may also realise that the change in the software itself
can be tweaked so this logical change is not needed (I mean if you are changing
something you are forcing every user of your library to learn something new, and
if with a small amount of effort you can ensure that no change is needed, no need
for hundreds and thousands of users to learn something new, isn‚Äôt that small effort
worth it? And it‚Äôs not just users you are helping, if you have to maintain one less
diverged file, it will reduce the overall work you have to do in the lifetime of
the project while maintaining the highest quality documentation).</p>
</div></div></div>
<div data-id="0,0,0,62:main-container-external:0:main" id="sqlite-support" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,62,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">SQLite Support!</div>
<div data-id="0,0,0,62,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>7th Dec 2021</p>
<p>Yesterday I <a href="https://github.com/FifthTry/fpm/commit/3c2662a6797495c7ead4b7b3bb9c431616b1bf00">started implementing SQLite
support</a>
for FTD documents via <code>$processor$</code> mechanism of <code>ftd</code>. It was stuck on some
missing helper utilities in FTD, you can see the two functions at the end with
<code>todo!()</code> as their body.</p>
<p>Today Arpita is feeling a bit better from the cold, and she has created <a href="https://github.com/FifthTry/ftd/pull/24">PR
implementing those functions in ftd</a>. She
can‚Äôt not work even when down it seems!</p>
<p>On that change landed I got the <a href="https://github.com/FifthTry/fpm/commit/89d8ba1d1d5f93b5f8b58e306dd8b6b8965f1fb5"><code>$processor$: package-query</code>
working</a>.
Update the <a href="/fpm/package-query/">documentation</a> as well.</p>
<p>During implementation, I found out that <a href="https://docs.rs/rusqlite/0.26.1/rusqlite/types/trait.FromSql.html#impl-FromSql-for-Value"><code>serde-json</code> support for
rusqlite</a> is
actually, umm, not sure what word to use, not buggy per se, but kind of not as
useful as I first thought it would be. It converts only the text field to
<code>serde_json::Value</code>, when other fields like integer, float etc can also be easily
converted to <code>serde_json::Value</code>. I implemented a <a href="https://github.com/FifthTry/fpm/blob/53492bb14f16983569184f0acfd9c1f45ddf1c32/src/library/sqlite.rs#L102-L108">simple converter for other
sqlite data types as well</a>.</p>
<p>We are not done yet. We need the ability to pass parameters to queries. Also, those
parameters should be able to refer to other ftd variables. And finally, we should
be able to read into more types, currently, we only read into records and a list of
records.</p>
</div></div>
<div data-id="0,0,0,63:main-container-external:0:main" id="some-thoughts-on-translation-support" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,63,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Some thoughts on Translation Support</div>
<div data-id="0,0,0,63,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>So we have reasonable <code>sync</code>/<code>status</code>/<code>diff</code> working now. We are going to soon
implement ‚Äúad hoc tracking‚Äù, basically a <code>.track</code> folder that contains <code>foo.track</code>
like file for each <code>foo.ftd</code> file. <code>status</code>/<code>diff</code> will look into the <code>.track</code> file
for any file and see if they are up to date with respect to the files being
tracked.</p>
<p>Once we have ad-hoc tracking, we are going to work on translation tracking, where
a package would be able to designate itself to be a translation of another package
using <code>translation-of</code> key in <code>FPM.ftd</code>. When a package tracks another package like
this it means two things.</p>
</div>
<div data-id="0,0,0,63,2:main-container-external:0:main" id="every-file-tracks-corresponding-file" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,63,2,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Every File Tracks Corresponding File</div>
<div data-id="0,0,0,63,2,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>All files of the translation package are assumed to be tracking the corresponding
file for the original package being translated.</p>
<p>In ad-hoc tracking, you have to explicitly add tracking information using planned
<code>fpm a tracks b</code> command. But with translation, tracking relationships are
implicitly assumed.</p>
</div></div>
<div data-id="0,0,0,63,3:main-container-external:0:main" id="missing-files-and-fallback" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,63,3,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Missing Files and Fallback</div>
<div data-id="0,0,0,63,3,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>It also means that if a file is absent in the translation package, the corresponding
file from the original package is built.</p>
<p>So to create a translation of another package, you can create an empty package, and
all files of original would be the content of the translation package. And then
you can start translating one file at a time by copying over just that file, so you
do not have to litter your package with files that are just plain copies.</p>
</div></div>
<div data-id="0,0,0,63,4:main-container-external:0:main" id="out-of-date-file-s-html" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,63,4,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Out Of Date File‚Äôs HTML</div>
<div data-id="0,0,0,63,4,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>So we have translation tracking, which means we know if a file is up to date with
the corresponding file in original package, translation is complete for that file,
but what if it‚Äôs not up to date? Or even it was never finished? What if you just
created the translation file, have only translated the heading, what should we show
in those cases?</p>
<p>So far, given a file <code>a.ftd</code>, we convert it to <code>a.html</code> and that‚Äôs it. But now for
a file <code>translated:a.ftd</code> we have <code>original:a.ftd</code>. So we have to consider two
files when generating <code>a.html</code>. In simple case, where <code>translated:a.ftd</code> is ‚Äúup to
date‚Äù, we render <code>translated:a.ftd</code> and that is that. But if <code>translated:a.ftd</code> is
missing or not up to date, we have to include the content of both (and two
potential diffs, diff of <code>original:a.ftd</code> from the date <code>translated:a.ftd</code> was last
marked up to date by a human being, to the latest <code>original:a.ftd</code>, and diff of
<code>translated:a.ftd</code> when and if it was marked updated date last to latest).</p>
<p>So we have two ftd files and two diffs, and possibly some metadata to include in
the generated <code>a.html</code>. We also need some JS to let people switch between
potentially out of date or incomplete translation and the original version. And we
need an area to show some out of date warnings, and some UI to show/hide the two
diffs.</p>
</div></div>
<div data-id="0,0,0,63,5:main-container-external:0:main" id="user-s-area-vs-special-area" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,63,5,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">User‚Äôs Area vs Special Area?</div>
<div data-id="0,0,0,63,5,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Now that we have more than the content of an <code>ftd</code> file to render in any generated
<code>.html</code> file, we have to ask ourselves if we should split our UI into two logical
area, an area completely controlled by end user using ftd, and another for the
special stuff, like translation out of date messaging?</p>
<p>Tomorrow we will have more stuff, like when we add versioning support, we would
want to show ‚Äúyou are looking at the old version, jump to the latest version‚Äù eg
docs.rs etc, but then if you are seeing a specific version, you want to see two
diffs as well: diff of what changed in this precise release, so diff from the last
version to this version, and diff of this version with the latest version. It would
be good if these two bits of info were available at a fingertip without doing
complex git diff incantations.</p>
<p>For both versioning and translation, we need to show some sort of ‚Äúswitcher‚Äù, go to
another language or version of this document.</p>
<p>We can do these by special variables. We can expect each ‚Äútheme‚Äù to know about
these special variables, and the theme author can include the UI in the most
logical place.</p>
<p>We can also create a dedicated ‚Äúdocument info‚Äù area, say a banner at the top, and
then theme does not need to bother with all that.</p>
<p>We can even let people customise say <code>FPM/document-info.ftd</code> file whose content
would be included in the special area.</p>
<p>And finally, we can let these writers specify that they have indeed included the
document info in the theme itself and <code>fpm</code> should not show
<code>FPM/document-info.ftd</code>, maybe we inherit <code>FPM/document-info</code> from the theme and
let the theme set it to an empty file?</p>
<p>There is a little complexity when an FTD document basically says unload me and load
some other document. We do not have an FTD way to do this yet. Not sure if it‚Äôs a
good idea.</p>
<p>The thing is this is a lot of complexity and a lot of potential changes, at least
in the early days, leaving it for each theme to individually manage would be a bad
idea as then the confidence with which you can switch theme will go down as you
will have to verify more things, and not just the look and feel of a theme.</p>
</div></div></div>
<div data-id="0,0,0,64:main-container-external:0:main" id="started-design" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,64,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Started Design</div>
<div data-id="0,0,0,64,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>6th Dec 2021</p>
<p>Jay has created a logo that we kind of like, and some initial design for our
homepage:</p>
</div>
<div data-id="0,0,0,64,2:main-container-external:0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; height: 100%; justify-content: flex-start; padding-bottom: 20px; white-space: initial; width: 100%" class="ft_md"><img alt="" data-id="0,0,0,64,2,0:main-container-external:0:main" src="https://i.imgur.com/axb1vKD.png" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; padding-bottom: 15px; white-space: initial; width: 100%">
<div data-id="0,0,0,64,2,2:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>This is still under works.</p>
</div></div></div>
<div data-id="0,0,0,65:main-container-external:0:main" id="sqlite-support" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,65,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">SQLite Support</div>
<div data-id="0,0,0,65,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Since we are anyways going to implement some sqlite support for <a href="/fpm/~/16/">package
database</a>, we may as well let people include arbitrary sqlite files in
the package, and let people do arbitrary SQL queries on top of any of the sqlite
databases in the package or any package that is a dependency of this package.</p>
<p><a href="/fpm/~/26/">Change Request</a>.</p>
<p><a href="https://github.com/FifthTry/fpm/commit/3c2662a6797495c7ead4b7b3bb9c431616b1bf00">Partially implemented <code>$processor$: package-query</code></a>.
Need two methods in <code>ftd</code> crate, waiting for Arpita to get better and implement
them.</p>
</div></div>
<div data-id="0,0,0,66:main-container-external:0:main" id="dynamic-documents-and-fpm-action" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,66,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Dynamic Documents and FPM Action</div>
<div data-id="0,0,0,66,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Recently I implemented <code>$processor$: http</code>, which paves the way for almost fully
fledged <a href="///www.fifthtry.com/fpm/~/20/">‚Äúdynamic‚Äù/data drive documents</a>. To really
expose this feature, we can implement arbitrary URL handing, currently only the
URLs corresponding to actual FTD files is available, this is too limiting as we can
not have author page for example, where we need a URL for each author, and author
list maybe in a table, or spread all over ftd documents.</p>
<p>With a <code>FPM/URLs.ftd</code>, we can define URL patterns that can contain dynamic data, eg
<code>/&lt;username&gt;/</code> etc. We can map each URL pattern to a FTD file, and the file can
extract the data by defining a schema (eg a record), where the fields of record
would be populated by URL query parameters, URL fragments (eg <code>username</code>) here, or
even request body if its available.</p>
<p>We will sometime need redirect etc, eg if you need login to access something, or
if the page has moved etc. So we need a mechanism to early return, currently its
not possible in a FTD document to let a document say we are done processing the
page. At least we can have some standard variable, eg <code>fpm.redirect-url</code>, which
when set, FPM will ignore the document and return the content of <code>fpm.redirect-url</code>
instead, along with some instruction to <code>fpm.js</code> to update the URL displayed in
browser.</p>
<p>This is almost the design of <a href="///www.amitu.com/realm/"><code>realm</code></a>. Once I wrote that
I realised we also need an equivalent of ‚Äúrealm actions‚Äù, and turned out the design
is really easy. Wrote about it in another CR: <a href="///www.fifthtry.com/fpm/~/24/">fpm
actions</a>.</p>
<p>The key element of actions is now we need a <code>fpm.js</code>, which will have some
behaviour, and this paves the way for <a href="///www.fifthtry.com/fpm/~/25/">fpm client
variables</a>.</p>
</div></div>
<div data-id="0,0,0,67:main-container-external:0:main" id="client-variables" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,67,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Client Variables</div>
<div data-id="0,0,0,67,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Some variables can only be computed by client. So we need to ship a <code>fpm.js</code>, which
will compute them, and pass them to FTD. Some of these variables would also change
during the lifetime of the page.</p>
<p><code>fpm.js</code> will also do some browser history control, for managing server side
‚Äúinternal redirect‚Äù, and <code>fpm actions</code>.</p>
</div></div>
<div data-id="0,0,0,68:main-container-external:0:main" id="fpm-sync-fpm-status-and-fpm-diff" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,68,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md"><code>fpm sync</code>, <code>fpm status</code> and <code>fpm diff</code></div>
<div data-id="0,0,0,68,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>5th Dec 2021</p>
<p>Arpita has been on fire, implemented these three commands. This makes <code>fpm</code> puts
some ‚Äúversion control‚Äù features in <code>fpm</code>. Our goal is not become simplified git,
we definitely take a lot of inspiration from them, but more like advance
Dropbox/iCloud.</p>
<p><code>fpm repo</code> is needed before we can really call ourselves version control or compare
ourselves with Dropbox/iCloud etc. But if you are using Dropbox/iCloud, you can
already benefit from these commands.</p>
<p>Our goal now is to implement <a href="/fpm/~/12/"><code>adhoc tracking</code></a>, and get to
<a href="/fpm/~/3/"><code>translation tracking</code></a>.</p>
</div></div>
<div data-id="0,0,0,69:main-container-external:0:main" id="processor-toc-and-processor-http" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,69,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md"><code>$processor$: toc</code> and <code>$processor$: http</code></div>
<div data-id="0,0,0,69,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>5th Dec 2021</p>
<p>We implemented <a href="/fpm/processors/">these two processors</a>. TOC processor helps you
when you are trying to create navigation bars, or table of content of your FPM
site (this is not the intra page TOC, which we still do not know how to implement).</p>
<p><code>$processor$: http</code> lets you fetch data from any HTTP endpoint that returns JSON
when rendering a FTD document. It opens up massive opportunities, you can fetch
data from all sorts of places, data driven graphs and tables etc can be created.</p>
</div></div>
<div data-id="0,0,0,70:main-container-external:0:main" id="font-support" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,70,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Font Support</div>
<div data-id="0,0,0,70,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>4th Dec 2021</p>
<p>We just added font support. This allows people to use custom fonts with FTD/FPM.</p>
<p>You can specify the fonts you want loaded in <a href="/fpm/FPM/"><code>FPM.ftd</code></a> file.</p>
</div></div>
<div data-id="0,0,0,71:main-container-external:0:main" id="package-dependency-fetching" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,71,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Package Dependency Fetching</div>
<div data-id="0,0,0,71,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>3rd Dec 2021</p>
<p>Shobhit added support for adding package dependency, and fetching dependencies from
Github or any tar file. We store the dependencies in <code>.packages</code>.</p>
<p>Lots still pending, recursive package dependency, or any way to update a package,
looking for packages in FPM_HOME, but its exciting to have this feature land so
soon.</p>
</div></div>
<div data-id="0,0,0,72:main-container-external:0:main" id="package-database" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,72,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Package Database</div>
<div data-id="0,0,0,72,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>1st Dec 2021</p>
<p>Wrote about the design of <a href="/fpm/~/16/">package database</a>, basically a sqlite
database that we will maintain in the initial phase of <code>fpm build</code>, and a way to
query that database to get data stored in different ftd documents that are part
of the FPM package.</p>
<p>This can make fpm packages the ideal data sharing format. You can have data
authored in FTD, and packaged as FPM package, along with some UI code, and publish
them to <code>fpm repo</code>. And then other packages can have a dependency on the original
data package, fpm will download the data, and they can do something more with it,
create more visualisations, augment data even more using <code>$processors$</code> etc, and
maybe publish that package again for other to consume.</p>
</div></div>
<div data-id="0,0,0,73:main-container-external:0:main" id="update-for-30th-nov-2021" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,73,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Update for 30th Nov 2021</div>
<div data-id="0,0,0,73,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Shobhit is working full time on FPM now. We managed to nail down quite a bit of
our design now.</p>
</div>
<div data-id="0,0,0,73,2:main-container-external:0:main" id="fpm-build-working" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,73,2,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md"><code>fpm build</code> working</div>
<div data-id="0,0,0,73,2,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Finally we can start using <code>fpm</code>. We have created a template repo:
<a href="https://github.com/FifthTry/fpm-blog">FifthTry/fpm-blog</a>, <a href="https://fifthtry.github.io/fpm-blog/">rendered
version</a>, which shows how to create a blog
using FTD and FPM.</p>
</div></div>
<div data-id="0,0,0,73,3:main-container-external:0:main" id="design-review-with-arpita" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,73,3,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 26px; font-weight: 700; line-height: 32px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Design Review With Arpita</div>
<div data-id="0,0,0,73,3,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>Me and Arpita recorded a detailed design review of FPM.</p>
</div>
<iframe allow="fullscreen" allowfullscreen="allowfullscreen" data-id="journal.ftd#rny1EGkqw_M:0,0,0,73,3,2:main-container-external:0:main" id="rny1EGkqw_M" src="https://youtube.com/embed/rny1EGkqw_M" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; height: 400px; margin-bottom: 34px; white-space: initial; width: 100%" class="ft_md"></iframe></div></div>
<div data-id="0,0,0,74:main-container-external:0:main" id="kickoff" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 12px; white-space: initial; width: 100%" class="ft_md"><div data-id="0,0,0,74,0:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 30px; font-weight: 700; line-height: 40px; padding-bottom: 8px; padding-top: 16px; text-align: left; white-space: initial" class="ft_md">Kickoff</div>
<div data-id="0,0,0,74,1:main-container-external:0:main" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 24px; padding-bottom: 8px; text-align: left; white-space: initial" class="ft_md"><p>25th Nov 2021</p>
<p>We have started working on this project now. We have written design docs for quite
a few elements:</p>
<ul>
<li><code>fpm build</code>: <a href="/fpm/~/1/">file system organization</a></li>
<li><a href="/fpm/~/2/">logical linking</a></li>
<li><a href="/fpm/~/3/">translation tracking</a></li>
<li><a href="/fpm/~/5/">version tracking</a></li>
<li><a href="/fpm/~/4/">history tracking</a></li>
<li><a href="/fpm/~/6/">cr tracking</a></li>
<li><a href="/fpm/~/7/">upstream tracking: two way sync</a></li>
<li><a href="/fpm/~/8/"><code>fpm-repo</code> authentication</a></li>
<li><a href="/fpm/~/9/">package dependencies</a></li>
<li><a href="/fpm/~/10/">access control</a></li>
</ul>
<p><a href="https://github.com/sharmashobit">Shobhit</a> is taking the lead of implementing this.
We are hoping to create a minimal version that can convert ftd files to HTML so
<code>fpm</code> can be considered an alternative to static site generators.</p>
</div></div></div></div></div>
<div data-id="0,0,2:main" style="align-items: flex-start; align-self: flex-start; background-color: rgba(249,249,249,1); border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: row; flex-wrap: nowrap; height: 200px; justify-content: flex-start; white-space: initial; width: 100%" class="ft_md"></div></div>
<div data-id="main-container:0,1:main" style="align-items: flex-start; align-self: flex-start; background-color: rgba(255,255,255,1); border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: none; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; white-space: initial; width: 100%" class="ft_md"><div data-id="0,1,0:main" style="align-items: flex-start; background-color: rgba(255,255,255,1); border-color: rgba(235,237,239,1); border-radius: 0px; border-right-width: 1px !important; border-style: solid; border-width: 0px; box-shadow: 3px 0px 10px 1px rgba(0,0,0,0.05); box-sizing: border-box; display: none; flex-direction: column; flex-wrap: nowrap; height: calc(100vh - 0px); justify-content: flex-start; left: 0; overflow-y: auto; padding-bottom: 40px; padding-left: 10px; padding-right: 20px; padding-top: 15px; position: fixed; top: 0; white-space: initial; width: 70%" class="ft_md"><div data-id="0,1,0,0:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,0,0:main" href="index.html" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">fpm: FTD Package Manager</a></div>
<div data-id="0,1,0,1:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,1,0:main" href="about/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">About <code>fpm</code></a>
<div data-id="0,1,0,1,1:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,1,1,0:main" href="why-not/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">Why Not <code>fpm</code>?</a></div></div>
<div data-id="0,1,0,2:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,2,0:main" href="roadmap/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">Roadmap</a></div>
<div data-id="0,1,0,3:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,3,0:main" href="journal/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">Journal</a></div>
<div data-id="0,1,0,4:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,4,0:main" href="fs/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">File System Organization</a>
<div data-id="0,1,0,4,1:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,4,1,0:main" href="FPM/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>FPM.ftd</code></a></div></div>
<div data-id="0,1,0,5:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,5,0:main" href="ftd-host/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">FTD Host Features</a>
<div data-id="0,1,0,5,1:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,5,1,0:main" href="http/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>$processor$: http</code></a></div>
<div data-id="0,1,0,5,2:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,5,2,0:main" href="toc/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>$processor$: toc</code></a></div>
<div data-id="0,1,0,5,3:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,5,3,0:main" href="package-query/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>$processor$: package-query</code></a></div>
<div data-id="0,1,0,5,4:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,5,4,0:main" href="fpm-vars/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>import: fpm</code></a></div></div>
<div data-id="0,1,0,6:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,6,0:main" href="install/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">Install <code>fpm</code></a></div>
<div data-id="0,1,0,7:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,7,0:main" href="usage/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>fpm</code> Usage</a>
<div data-id="0,1,0,7,1:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,7,1,0:main" href="build/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>fpm build</code></a></div>
<div data-id="0,1,0,7,2:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,7,2,0:main" href="sync/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>fpm sync</code></a></div>
<div data-id="0,1,0,7,3:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,7,3,0:main" href="status/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>fpm status</code></a></div>
<div data-id="0,1,0,7,4:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,7,4,0:main" href="diff/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>fpm diff</code></a></div>
<div data-id="0,1,0,7,5:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,7,5,0:main" href="update/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md"><code>fpm update</code></a></div></div>
<div data-id="0,1,0,8:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 2px; padding-left: 10px; padding-top: 2px; white-space: initial" class="ft_md"><a data-id="0,1,0,8,0:main" href="known-issues/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(28,28,36,1); cursor: pointer; font-family: apple-system; font-size: 15px; font-weight: 400; line-height: 22px; min-width: fit-content; padding-bottom: 3px; padding-left: 10px; padding-top: 3px; text-align: left; white-space: initial" class="ft_md">Known Issues</a></div></div>
<div data-id="0,1,1:main" style="align-items: flex-start; align-self: flex-start; background-color: rgba(255,255,255,1); border-bottom-width: 1px !important; border-color: rgba(225,225,225,1); border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-start; padding-bottom: 10px; padding-left: 20px; padding-right: 20px; padding-top: 10px; white-space: initial; width: 100%" class="ft_md"><div data-id="left-side:0,1,1,0:main" data-spacing="margin-left:25px" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-start; margin-bottom: auto; margin-top: auto; white-space: initial" class="ft_md"><img alt="" data-id="0,1,1,0,0:main" src="https://res.cloudinary.com/dphj6havg/image/upload/v1641205689/Vector_3_uzxoow.svg" onclick="window.ftd.handle_event(event, 'main', '[{&quot;action&quot;:&quot;toggle&quot;,&quot;target&quot;:&quot;fifthtry.github.io/Jupiter-theme#sidebar-open&quot;,&quot;parameters&quot;:{}}]')" style="align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; cursor: pointer; height: auto; margin-bottom: auto; margin-top: auto; white-space: initial; width: 24px">
<a data-id="0,1,1,0,1:main" data-spacing="margin-left:10px" href="/ftd-dev-en" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; cursor: pointer; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-start; margin-left: 25px; white-space: initial" class="ft_md"><img alt="" data-id="0,1,1,0,1,0:main" src="static/images/logo.svg" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; height: 32px; white-space: initial; width: auto">
<div data-id="0,1,1,0,1,1:main" style="align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); font-family: apple-system; font-size: 16px; font-weight: 600; line-height: 22px; margin-bottom: auto; margin-left: 10px; margin-top: auto; text-align: left; white-space: initial" class="ft_md">FPM-DEV</div></a>
<a data-id="0,1,1,0,2:main" href="about/" style="align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; color: rgba(0,0,0,1); cursor: pointer; font-family: apple-system; font-size: 16px; font-weight: 400; line-height: 22px; margin-bottom: auto; margin-left: 25px; margin-top: auto; text-align: left; white-space: initial" class="ft_md">Docs</a></div>
<div data-id="0,1,1,1:main" data-spacing="margin-left:30px" style="align-items: flex-start; align-self: flex-end; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-start; margin-bottom: auto; margin-left: auto; margin-top: auto; white-space: initial; width: auto" class="ft_md"><a data-id="0,1,1,1,0:main" href="https://github.com/fifthtry/fpm-dev-en/" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; cursor: pointer; min-width: 20px; white-space: initial; width: 20px" class="ft_md"><img alt="" data-id="main:root" src="https://res.cloudinary.com/dphj6havg/image/upload/v1640938143/github-dark_xeu6ot.svg" style="width: 100%"></a>
<img alt="" data-id="0,1,1,1,1:main" src="https://res.cloudinary.com/dphj6havg/image/upload/v1640938217/dark-mode_mfy9hd.svg" onclick="window.ftd.handle_event(event, 'main', '[{&quot;action&quot;:&quot;toggle&quot;,&quot;target&quot;:&quot;fifthtry.github.io/Jupiter-theme#dark-mode&quot;,&quot;parameters&quot;:{}}]')" style="align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; cursor: pointer; height: 18px; margin-left: 30px; white-space: initial; width: 100%"></div></div>
<div data-id="main-row:0,1,2:main" style="align-items: flex-start; align-self: flex-start; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-start; white-space: initial; width: 100%" class="ft_md"><div data-id="main-container:0,1,2,0:main" style="align-items: flex-start; align-self: center; border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; margin-bottom: auto; padding-bottom: 20px; padding-left: 20px; padding-right: 20px; padding-top: 20px; white-space: initial; width: 100%" class="ft_md"></div></div>
<div data-id="0,1,3:main" style="align-items: flex-start; align-self: flex-start; background-color: rgba(249,249,249,1); border-radius: 0px; border-style: solid; border-width: 0px; box-sizing: border-box; display: flex; flex-direction: row; flex-wrap: nowrap; height: 200px; justify-content: flex-start; white-space: initial; width: 100%" class="ft_md"></div></div></div></div><style>
@font-face { unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;;
font-weight: 300;;
src: url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');
font-family: apple-system }
@font-face { unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;;
font-style: italic;;
font-weight: 300;;
src: url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');
font-family: apple-system }
@font-face { unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;;
font-weight: 400;;
src: url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');
font-family: apple-system }
@font-face { unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;;
font-weight: 500;;
src: url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');
font-family: apple-system }
@font-face { unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;;
font-weight: 600;;
src: url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');
font-family: apple-system }
@font-face { unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;;
font-weight: 700;;
src: url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');
font-family: apple-system }
@font-face { unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;;
font-weight: 800;;
src: url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');
font-family: apple-system }</style></div>

<script>
    window.ftd.init(
        "message",
        JSON.parse(document.getElementById("ftd-data-message").innerText),
        JSON.parse(document.getElementById("ftd-external-children-message").innerText)
    );
    window.ftd.init(
        "main",
        JSON.parse(document.getElementById("ftd-data-main").innerText),
        JSON.parse(document.getElementById("ftd-external-children-main").innerText)
    );
</script>
</body>
</html>
